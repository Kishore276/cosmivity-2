function L2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function qy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Pg={exports:{}},Gc={},Rg={exports:{}},We={},NE;function F2(){if(NE)return We;NE=1;/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function x(F){return F===null||typeof F!="object"?null:(F=v&&F[v]||F["@@iterator"],typeof F=="function"?F:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,C={};function I(F,Q,re){this.props=F,this.context=Q,this.refs=C,this.updater=re||b}I.prototype.isReactComponent={},I.prototype.setState=function(F,Q){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,Q,"setState")},I.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function j(){}j.prototype=I.prototype;function L(F,Q,re){this.props=F,this.context=Q,this.refs=C,this.updater=re||b}var O=L.prototype=new j;O.constructor=L,S(O,I.prototype),O.isPureReactComponent=!0;var $=Array.isArray,z=Object.prototype.hasOwnProperty,q={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function A(F,Q,re){var ve,ce={},fe=null,le=null;if(Q!=null)for(ve in Q.ref!==void 0&&(le=Q.ref),Q.key!==void 0&&(fe=""+Q.key),Q)z.call(Q,ve)&&!R.hasOwnProperty(ve)&&(ce[ve]=Q[ve]);var xe=arguments.length-2;if(xe===1)ce.children=re;else if(1<xe){for(var Ae=Array(xe),Ke=0;Ke<xe;Ke++)Ae[Ke]=arguments[Ke+2];ce.children=Ae}if(F&&F.defaultProps)for(ve in xe=F.defaultProps,xe)ce[ve]===void 0&&(ce[ve]=xe[ve]);return{$$typeof:t,type:F,key:fe,ref:le,props:ce,_owner:q.current}}function D(F,Q){return{$$typeof:t,type:F.type,key:Q,ref:F.ref,props:F.props,_owner:F._owner}}function V(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function B(F){var Q={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(re){return Q[re]})}var W=/\/+/g;function P(F,Q){return typeof F=="object"&&F!==null&&F.key!=null?B(""+F.key):Q.toString(36)}function te(F,Q,re,ve,ce){var fe=typeof F;(fe==="undefined"||fe==="boolean")&&(F=null);var le=!1;if(F===null)le=!0;else switch(fe){case"string":case"number":le=!0;break;case"object":switch(F.$$typeof){case t:case e:le=!0}}if(le)return le=F,ce=ce(le),F=ve===""?"."+P(le,0):ve,$(ce)?(re="",F!=null&&(re=F.replace(W,"$&/")+"/"),te(ce,Q,re,"",function(Ke){return Ke})):ce!=null&&(V(ce)&&(ce=D(ce,re+(!ce.key||le&&le.key===ce.key?"":(""+ce.key).replace(W,"$&/")+"/")+F)),Q.push(ce)),1;if(le=0,ve=ve===""?".":ve+":",$(F))for(var xe=0;xe<F.length;xe++){fe=F[xe];var Ae=ve+P(fe,xe);le+=te(fe,Q,re,Ae,ce)}else if(Ae=x(F),typeof Ae=="function")for(F=Ae.call(F),xe=0;!(fe=F.next()).done;)fe=fe.value,Ae=ve+P(fe,xe++),le+=te(fe,Q,re,Ae,ce);else if(fe==="object")throw Q=String(F),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return le}function ue(F,Q,re){if(F==null)return F;var ve=[],ce=0;return te(F,ve,"","",function(fe){return Q.call(re,fe,ce++)}),ve}function ae(F){if(F._status===-1){var Q=F._result;Q=Q(),Q.then(function(re){(F._status===0||F._status===-1)&&(F._status=1,F._result=re)},function(re){(F._status===0||F._status===-1)&&(F._status=2,F._result=re)}),F._status===-1&&(F._status=0,F._result=Q)}if(F._status===1)return F._result.default;throw F._result}var Z={current:null},M={transition:null},Y={ReactCurrentDispatcher:Z,ReactCurrentBatchConfig:M,ReactCurrentOwner:q};function K(){throw Error("act(...) is not supported in production builds of React.")}return We.Children={map:ue,forEach:function(F,Q,re){ue(F,function(){Q.apply(this,arguments)},re)},count:function(F){var Q=0;return ue(F,function(){Q++}),Q},toArray:function(F){return ue(F,function(Q){return Q})||[]},only:function(F){if(!V(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},We.Component=I,We.Fragment=n,We.Profiler=s,We.PureComponent=L,We.StrictMode=r,We.Suspense=h,We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,We.act=K,We.cloneElement=function(F,Q,re){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var ve=S({},F.props),ce=F.key,fe=F.ref,le=F._owner;if(Q!=null){if(Q.ref!==void 0&&(fe=Q.ref,le=q.current),Q.key!==void 0&&(ce=""+Q.key),F.type&&F.type.defaultProps)var xe=F.type.defaultProps;for(Ae in Q)z.call(Q,Ae)&&!R.hasOwnProperty(Ae)&&(ve[Ae]=Q[Ae]===void 0&&xe!==void 0?xe[Ae]:Q[Ae])}var Ae=arguments.length-2;if(Ae===1)ve.children=re;else if(1<Ae){xe=Array(Ae);for(var Ke=0;Ke<Ae;Ke++)xe[Ke]=arguments[Ke+2];ve.children=xe}return{$$typeof:t,type:F.type,key:ce,ref:fe,props:ve,_owner:le}},We.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:o,_context:F},F.Consumer=F},We.createElement=A,We.createFactory=function(F){var Q=A.bind(null,F);return Q.type=F,Q},We.createRef=function(){return{current:null}},We.forwardRef=function(F){return{$$typeof:c,render:F}},We.isValidElement=V,We.lazy=function(F){return{$$typeof:g,_payload:{_status:-1,_result:F},_init:ae}},We.memo=function(F,Q){return{$$typeof:p,type:F,compare:Q===void 0?null:Q}},We.startTransition=function(F){var Q=M.transition;M.transition={};try{F()}finally{M.transition=Q}},We.unstable_act=K,We.useCallback=function(F,Q){return Z.current.useCallback(F,Q)},We.useContext=function(F){return Z.current.useContext(F)},We.useDebugValue=function(){},We.useDeferredValue=function(F){return Z.current.useDeferredValue(F)},We.useEffect=function(F,Q){return Z.current.useEffect(F,Q)},We.useId=function(){return Z.current.useId()},We.useImperativeHandle=function(F,Q,re){return Z.current.useImperativeHandle(F,Q,re)},We.useInsertionEffect=function(F,Q){return Z.current.useInsertionEffect(F,Q)},We.useLayoutEffect=function(F,Q){return Z.current.useLayoutEffect(F,Q)},We.useMemo=function(F,Q){return Z.current.useMemo(F,Q)},We.useReducer=function(F,Q,re){return Z.current.useReducer(F,Q,re)},We.useRef=function(F){return Z.current.useRef(F)},We.useState=function(F){return Z.current.useState(F)},We.useSyncExternalStore=function(F,Q,re){return Z.current.useSyncExternalStore(F,Q,re)},We.useTransition=function(){return Z.current.useTransition()},We.version="18.3.1",We}var AE;function Gy(){return AE||(AE=1,Rg.exports=F2()),Rg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PE;function U2(){if(PE)return Gc;PE=1;var t=Gy(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,h,p){var g,v={},x=null,b=null;p!==void 0&&(x=""+p),h.key!==void 0&&(x=""+h.key),h.ref!==void 0&&(b=h.ref);for(g in h)r.call(h,g)&&!o.hasOwnProperty(g)&&(v[g]=h[g]);if(c&&c.defaultProps)for(g in h=c.defaultProps,h)v[g]===void 0&&(v[g]=h[g]);return{$$typeof:e,type:c,key:x,ref:b,props:v,_owner:s.current}}return Gc.Fragment=n,Gc.jsx=l,Gc.jsxs=l,Gc}var RE;function $2(){return RE||(RE=1,Pg.exports=U2()),Pg.exports}var u=$2(),_=Gy();const hr=qy(_),IS=L2({__proto__:null,default:hr},[_]);var Vh={},kg={exports:{}},Mn={},jg={exports:{}},Dg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kE;function B2(){return kE||(kE=1,(function(t){function e(M,Y){var K=M.length;M.push(Y);e:for(;0<K;){var F=K-1>>>1,Q=M[F];if(0<s(Q,Y))M[F]=Y,M[K]=Q,K=F;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var Y=M[0],K=M.pop();if(K!==Y){M[0]=K;e:for(var F=0,Q=M.length,re=Q>>>1;F<re;){var ve=2*(F+1)-1,ce=M[ve],fe=ve+1,le=M[fe];if(0>s(ce,K))fe<Q&&0>s(le,ce)?(M[F]=le,M[fe]=K,F=fe):(M[F]=ce,M[ve]=K,F=ve);else if(fe<Q&&0>s(le,K))M[F]=le,M[fe]=K,F=fe;else break e}}return Y}function s(M,Y){var K=M.sortIndex-Y.sortIndex;return K!==0?K:M.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var h=[],p=[],g=1,v=null,x=3,b=!1,S=!1,C=!1,I=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(M){for(var Y=n(p);Y!==null;){if(Y.callback===null)r(p);else if(Y.startTime<=M)r(p),Y.sortIndex=Y.expirationTime,e(h,Y);else break;Y=n(p)}}function $(M){if(C=!1,O(M),!S)if(n(h)!==null)S=!0,ae(z);else{var Y=n(p);Y!==null&&Z($,Y.startTime-M)}}function z(M,Y){S=!1,C&&(C=!1,j(A),A=-1),b=!0;var K=x;try{for(O(Y),v=n(h);v!==null&&(!(v.expirationTime>Y)||M&&!B());){var F=v.callback;if(typeof F=="function"){v.callback=null,x=v.priorityLevel;var Q=F(v.expirationTime<=Y);Y=t.unstable_now(),typeof Q=="function"?v.callback=Q:v===n(h)&&r(h),O(Y)}else r(h);v=n(h)}if(v!==null)var re=!0;else{var ve=n(p);ve!==null&&Z($,ve.startTime-Y),re=!1}return re}finally{v=null,x=K,b=!1}}var q=!1,R=null,A=-1,D=5,V=-1;function B(){return!(t.unstable_now()-V<D)}function W(){if(R!==null){var M=t.unstable_now();V=M;var Y=!0;try{Y=R(!0,M)}finally{Y?P():(q=!1,R=null)}}else q=!1}var P;if(typeof L=="function")P=function(){L(W)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,ue=te.port2;te.port1.onmessage=W,P=function(){ue.postMessage(null)}}else P=function(){I(W,0)};function ae(M){R=M,q||(q=!0,P())}function Z(M,Y){A=I(function(){M(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){S||b||(S=!0,ae(z))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(M){switch(x){case 1:case 2:case 3:var Y=3;break;default:Y=x}var K=x;x=Y;try{return M()}finally{x=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,Y){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var K=x;x=M;try{return Y()}finally{x=K}},t.unstable_scheduleCallback=function(M,Y,K){var F=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?F+K:F):K=F,M){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=K+Q,M={id:g++,callback:Y,priorityLevel:M,startTime:K,expirationTime:Q,sortIndex:-1},K>F?(M.sortIndex=K,e(p,M),n(h)===null&&M===n(p)&&(C?(j(A),A=-1):C=!0,Z($,K-F))):(M.sortIndex=Q,e(h,M),S||b||(S=!0,ae(z))),M},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(M){var Y=x;return function(){var K=x;x=Y;try{return M.apply(this,arguments)}finally{x=K}}}})(Dg)),Dg}var jE;function z2(){return jE||(jE=1,jg.exports=B2()),jg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DE;function W2(){if(DE)return Mn;DE=1;var t=Gy(),e=z2();function n(i){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+i,d=1;d<arguments.length;d++)a+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function o(i,a){l(i,a),l(i+"Capture",a)}function l(i,a){for(s[i]=a,i=0;i<a.length;i++)r.add(a[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function x(i){return h.call(v,i)?!0:h.call(g,i)?!1:p.test(i)?v[i]=!0:(g[i]=!0,!1)}function b(i,a,d,m){if(d!==null&&d.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return m?!1:d!==null?!d.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function S(i,a,d,m){if(a===null||typeof a>"u"||b(i,a,d,m))return!0;if(m)return!1;if(d!==null)switch(d.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function C(i,a,d,m,y,E,N){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=m,this.attributeNamespace=y,this.mustUseProperty=d,this.propertyName=i,this.type=a,this.sanitizeURL=E,this.removeEmptyString=N}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){I[i]=new C(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var a=i[0];I[a]=new C(a,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){I[i]=new C(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){I[i]=new C(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){I[i]=new C(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){I[i]=new C(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){I[i]=new C(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){I[i]=new C(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){I[i]=new C(i,5,!1,i.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function L(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var a=i.replace(j,L);I[a]=new C(a,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var a=i.replace(j,L);I[a]=new C(a,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var a=i.replace(j,L);I[a]=new C(a,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){I[i]=new C(i,1,!1,i.toLowerCase(),null,!1,!1)}),I.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){I[i]=new C(i,1,!1,i.toLowerCase(),null,!0,!0)});function O(i,a,d,m){var y=I.hasOwnProperty(a)?I[a]:null;(y!==null?y.type!==0:m||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(S(a,d,y,m)&&(d=null),m||y===null?x(a)&&(d===null?i.removeAttribute(a):i.setAttribute(a,""+d)):y.mustUseProperty?i[y.propertyName]=d===null?y.type===3?!1:"":d:(a=y.attributeName,m=y.attributeNamespace,d===null?i.removeAttribute(a):(y=y.type,d=y===3||y===4&&d===!0?"":""+d,m?i.setAttributeNS(m,a,d):i.setAttribute(a,d))))}var $=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),q=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),B=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),ue=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),M=Symbol.iterator;function Y(i){return i===null||typeof i!="object"?null:(i=M&&i[M]||i["@@iterator"],typeof i=="function"?i:null)}var K=Object.assign,F;function Q(i){if(F===void 0)try{throw Error()}catch(d){var a=d.stack.trim().match(/\n( *(at )?)/);F=a&&a[1]||""}return`
`+F+i}var re=!1;function ve(i,a){if(!i||re)return"";re=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ne){var m=ne}Reflect.construct(i,[],a)}else{try{a.call()}catch(ne){m=ne}i.call(a.prototype)}else{try{throw Error()}catch(ne){m=ne}i()}}catch(ne){if(ne&&m&&typeof ne.stack=="string"){for(var y=ne.stack.split(`
`),E=m.stack.split(`
`),N=y.length-1,U=E.length-1;1<=N&&0<=U&&y[N]!==E[U];)U--;for(;1<=N&&0<=U;N--,U--)if(y[N]!==E[U]){if(N!==1||U!==1)do if(N--,U--,0>U||y[N]!==E[U]){var H=`
`+y[N].replace(" at new "," at ");return i.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",i.displayName)),H}while(1<=N&&0<=U);break}}}finally{re=!1,Error.prepareStackTrace=d}return(i=i?i.displayName||i.name:"")?Q(i):""}function ce(i){switch(i.tag){case 5:return Q(i.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return i=ve(i.type,!1),i;case 11:return i=ve(i.type.render,!1),i;case 1:return i=ve(i.type,!0),i;default:return""}}function fe(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case R:return"Fragment";case q:return"Portal";case D:return"Profiler";case A:return"StrictMode";case P:return"Suspense";case te:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case B:return(i.displayName||"Context")+".Consumer";case V:return(i._context.displayName||"Context")+".Provider";case W:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ue:return a=i.displayName||null,a!==null?a:fe(i.type)||"Memo";case ae:a=i._payload,i=i._init;try{return fe(i(a))}catch{}}return null}function le(i){var a=i.type;switch(i.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=a.render,i=i.displayName||i.name||"",a.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fe(a);case 8:return a===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function xe(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ae(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ke(i){var a=Ae(i)?"checked":"value",d=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),m=""+i[a];if(!i.hasOwnProperty(a)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,E=d.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return y.call(this)},set:function(N){m=""+N,E.call(this,N)}}),Object.defineProperty(i,a,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(N){m=""+N},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Gt(i){i._valueTracker||(i._valueTracker=Ke(i))}function Un(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var d=a.getValue(),m="";return i&&(m=Ae(i)?i.checked?"true":"false":i.value),i=m,i!==d?(a.setValue(i),!0):!1}function vn(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function $r(i,a){var d=a.checked;return K({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??i._wrapperState.initialChecked})}function Br(i,a){var d=a.defaultValue==null?"":a.defaultValue,m=a.checked!=null?a.checked:a.defaultChecked;d=xe(a.value!=null?a.value:d),i._wrapperState={initialChecked:m,initialValue:d,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function ec(i,a){a=a.checked,a!=null&&O(i,"checked",a,!1)}function tc(i,a){ec(i,a);var d=xe(a.value),m=a.type;if(d!=null)m==="number"?(d===0&&i.value===""||i.value!=d)&&(i.value=""+d):i.value!==""+d&&(i.value=""+d);else if(m==="submit"||m==="reset"){i.removeAttribute("value");return}a.hasOwnProperty("value")?ma(i,a.type,d):a.hasOwnProperty("defaultValue")&&ma(i,a.type,xe(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(i.defaultChecked=!!a.defaultChecked)}function Ed(i,a,d){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var m=a.type;if(!(m!=="submit"&&m!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+i._wrapperState.initialValue,d||a===i.value||(i.value=a),i.defaultValue=a}d=i.name,d!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,d!==""&&(i.name=d)}function ma(i,a,d){(a!=="number"||vn(i.ownerDocument)!==i)&&(d==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+d&&(i.defaultValue=""+d))}var Es=Array.isArray;function bs(i,a,d,m){if(i=i.options,a){a={};for(var y=0;y<d.length;y++)a["$"+d[y]]=!0;for(d=0;d<i.length;d++)y=a.hasOwnProperty("$"+i[d].value),i[d].selected!==y&&(i[d].selected=y),y&&m&&(i[d].defaultSelected=!0)}else{for(d=""+xe(d),a=null,y=0;y<i.length;y++){if(i[y].value===d){i[y].selected=!0,m&&(i[y].defaultSelected=!0);return}a!==null||i[y].disabled||(a=i[y])}a!==null&&(a.selected=!0)}}function nc(i,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return K({},a,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function ga(i,a){var d=a.value;if(d==null){if(d=a.children,a=a.defaultValue,d!=null){if(a!=null)throw Error(n(92));if(Es(d)){if(1<d.length)throw Error(n(93));d=d[0]}a=d}a==null&&(a=""),d=a}i._wrapperState={initialValue:xe(d)}}function va(i,a){var d=xe(a.value),m=xe(a.defaultValue);d!=null&&(d=""+d,d!==i.value&&(i.value=d),a.defaultValue==null&&i.defaultValue!==d&&(i.defaultValue=d)),m!=null&&(i.defaultValue=""+m)}function rc(i){var a=i.textContent;a===i._wrapperState.initialValue&&a!==""&&a!==null&&(i.value=a)}function Dt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mt(i,a){return i==null||i==="http://www.w3.org/1999/xhtml"?Dt(a):i==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Ts,sc=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,d,m,y){MSApp.execUnsafeLocalFunction(function(){return i(a,d,m,y)})}:i})(function(i,a){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=a;else{for(Ts=Ts||document.createElement("div"),Ts.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Ts.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;a.firstChild;)i.appendChild(a.firstChild)}});function si(i,a){if(a){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=a;return}}i.textContent=a}var co={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uo=["Webkit","ms","Moz","O"];Object.keys(co).forEach(function(i){uo.forEach(function(a){a=a+i.charAt(0).toUpperCase()+i.substring(1),co[a]=co[i]})});function ic(i,a,d){return a==null||typeof a=="boolean"||a===""?"":d||typeof a!="number"||a===0||co.hasOwnProperty(i)&&co[i]?(""+a).trim():a+"px"}function oc(i,a){i=i.style;for(var d in a)if(a.hasOwnProperty(d)){var m=d.indexOf("--")===0,y=ic(d,a[d],m);d==="float"&&(d="cssFloat"),m?i.setProperty(d,y):i[d]=y}}var ac=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lc(i,a){if(a){if(ac[i]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function cc(i,a){if(i.indexOf("-")===-1)return typeof a.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ho=null;function ya(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var xa=null,er=null,zr=null;function wa(i){if(i=jc(i)){if(typeof xa!="function")throw Error(n(280));var a=i.stateNode;a&&(a=Jd(a),xa(i.stateNode,i.type,a))}}function Wr(i){er?zr?zr.push(i):zr=[i]:er=i}function uc(){if(er){var i=er,a=zr;if(zr=er=null,wa(i),a)for(i=0;i<a.length;i++)wa(a[i])}}function fo(i,a){return i(a)}function dc(){}var Ss=!1;function hc(i,a,d){if(Ss)return i(a,d);Ss=!0;try{return fo(i,a,d)}finally{Ss=!1,(er!==null||zr!==null)&&(dc(),uc())}}function Tt(i,a){var d=i.stateNode;if(d===null)return null;var m=Jd(d);if(m===null)return null;d=m[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(n(231,a,typeof d));return d}var _a=!1;if(c)try{var gr={};Object.defineProperty(gr,"passive",{get:function(){_a=!0}}),window.addEventListener("test",gr,gr),window.removeEventListener("test",gr,gr)}catch{_a=!1}function po(i,a,d,m,y,E,N,U,H){var ne=Array.prototype.slice.call(arguments,3);try{a.apply(d,ne)}catch(he){this.onError(he)}}var mo=!1,Ea=null,vr=!1,fc=null,sm={onError:function(i){mo=!0,Ea=i}};function ba(i,a,d,m,y,E,N,U,H){mo=!1,Ea=null,po.apply(sm,arguments)}function bd(i,a,d,m,y,E,N,U,H){if(ba.apply(this,arguments),mo){if(mo){var ne=Ea;mo=!1,Ea=null}else throw Error(n(198));vr||(vr=!0,fc=ne)}}function yr(i){var a=i,d=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(d=a.return),i=a.return;while(i)}return a.tag===3?d:null}function go(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function xr(i){if(yr(i)!==i)throw Error(n(188))}function Td(i){var a=i.alternate;if(!a){if(a=yr(i),a===null)throw Error(n(188));return a!==i?null:i}for(var d=i,m=a;;){var y=d.return;if(y===null)break;var E=y.alternate;if(E===null){if(m=y.return,m!==null){d=m;continue}break}if(y.child===E.child){for(E=y.child;E;){if(E===d)return xr(y),i;if(E===m)return xr(y),a;E=E.sibling}throw Error(n(188))}if(d.return!==m.return)d=y,m=E;else{for(var N=!1,U=y.child;U;){if(U===d){N=!0,d=y,m=E;break}if(U===m){N=!0,m=y,d=E;break}U=U.sibling}if(!N){for(U=E.child;U;){if(U===d){N=!0,d=E,m=y;break}if(U===m){N=!0,m=E,d=y;break}U=U.sibling}if(!N)throw Error(n(189))}}if(d.alternate!==m)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?i:a}function pc(i){return i=Td(i),i!==null?Ta(i):null}function Ta(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var a=Ta(i);if(a!==null)return a;i=i.sibling}return null}var Sa=e.unstable_scheduleCallback,mc=e.unstable_cancelCallback,Sd=e.unstable_shouldYield,im=e.unstable_requestPaint,lt=e.unstable_now,Cd=e.unstable_getCurrentPriorityLevel,vo=e.unstable_ImmediatePriority,ii=e.unstable_UserBlockingPriority,tr=e.unstable_NormalPriority,gc=e.unstable_LowPriority,Id=e.unstable_IdlePriority,yo=null,$n=null;function Nd(i){if($n&&typeof $n.onCommitFiberRoot=="function")try{$n.onCommitFiberRoot(yo,i,void 0,(i.current.flags&128)===128)}catch{}}var yn=Math.clz32?Math.clz32:Pd,vc=Math.log,Ad=Math.LN2;function Pd(i){return i>>>=0,i===0?32:31-(vc(i)/Ad|0)|0}var Ca=64,Ia=4194304;function oi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function xo(i,a){var d=i.pendingLanes;if(d===0)return 0;var m=0,y=i.suspendedLanes,E=i.pingedLanes,N=d&268435455;if(N!==0){var U=N&~y;U!==0?m=oi(U):(E&=N,E!==0&&(m=oi(E)))}else N=d&~y,N!==0?m=oi(N):E!==0&&(m=oi(E));if(m===0)return 0;if(a!==0&&a!==m&&(a&y)===0&&(y=m&-m,E=a&-a,y>=E||y===16&&(E&4194240)!==0))return a;if((m&4)!==0&&(m|=d&16),a=i.entangledLanes,a!==0)for(i=i.entanglements,a&=m;0<a;)d=31-yn(a),y=1<<d,m|=i[d],a&=~y;return m}function om(i,a){switch(i){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cs(i,a){for(var d=i.suspendedLanes,m=i.pingedLanes,y=i.expirationTimes,E=i.pendingLanes;0<E;){var N=31-yn(E),U=1<<N,H=y[N];H===-1?((U&d)===0||(U&m)!==0)&&(y[N]=om(U,a)):H<=a&&(i.expiredLanes|=U),E&=~U}}function Bn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function wo(){var i=Ca;return Ca<<=1,(Ca&4194240)===0&&(Ca=64),i}function ai(i){for(var a=[],d=0;31>d;d++)a.push(i);return a}function li(i,a,d){i.pendingLanes|=a,a!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,a=31-yn(a),i[a]=d}function at(i,a){var d=i.pendingLanes&~a;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=a,i.mutableReadLanes&=a,i.entangledLanes&=a,a=i.entanglements;var m=i.eventTimes;for(i=i.expirationTimes;0<d;){var y=31-yn(d),E=1<<y;a[y]=0,m[y]=-1,i[y]=-1,d&=~E}}function ci(i,a){var d=i.entangledLanes|=a;for(i=i.entanglements;d;){var m=31-yn(d),y=1<<m;y&a|i[m]&a&&(i[m]|=a),d&=~y}}var Ye=0;function ui(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Rd,Na,kd,jd,Dd,yc=!1,Hr=[],Qt=null,wr=null,_r=null,di=new Map,nr=new Map,Kr=[],am="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Md(i,a){switch(i){case"focusin":case"focusout":Qt=null;break;case"dragenter":case"dragleave":wr=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":di.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":nr.delete(a.pointerId)}}function Nn(i,a,d,m,y,E){return i===null||i.nativeEvent!==E?(i={blockedOn:a,domEventName:d,eventSystemFlags:m,nativeEvent:E,targetContainers:[y]},a!==null&&(a=jc(a),a!==null&&Na(a)),i):(i.eventSystemFlags|=m,a=i.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),i)}function lm(i,a,d,m,y){switch(a){case"focusin":return Qt=Nn(Qt,i,a,d,m,y),!0;case"dragenter":return wr=Nn(wr,i,a,d,m,y),!0;case"mouseover":return _r=Nn(_r,i,a,d,m,y),!0;case"pointerover":var E=y.pointerId;return di.set(E,Nn(di.get(E)||null,i,a,d,m,y)),!0;case"gotpointercapture":return E=y.pointerId,nr.set(E,Nn(nr.get(E)||null,i,a,d,m,y)),!0}return!1}function Od(i){var a=So(i.target);if(a!==null){var d=yr(a);if(d!==null){if(a=d.tag,a===13){if(a=go(d),a!==null){i.blockedOn=a,Dd(i.priority,function(){kd(d)});return}}else if(a===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Is(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var d=Aa(i.domEventName,i.eventSystemFlags,a[0],i.nativeEvent);if(d===null){d=i.nativeEvent;var m=new d.constructor(d.type,d);ho=m,d.target.dispatchEvent(m),ho=null}else return a=jc(d),a!==null&&Na(a),i.blockedOn=d,!1;a.shift()}return!0}function _o(i,a,d){Is(i)&&d.delete(a)}function Vd(){yc=!1,Qt!==null&&Is(Qt)&&(Qt=null),wr!==null&&Is(wr)&&(wr=null),_r!==null&&Is(_r)&&(_r=null),di.forEach(_o),nr.forEach(_o)}function Er(i,a){i.blockedOn===a&&(i.blockedOn=null,yc||(yc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Vd)))}function br(i){function a(y){return Er(y,i)}if(0<Hr.length){Er(Hr[0],i);for(var d=1;d<Hr.length;d++){var m=Hr[d];m.blockedOn===i&&(m.blockedOn=null)}}for(Qt!==null&&Er(Qt,i),wr!==null&&Er(wr,i),_r!==null&&Er(_r,i),di.forEach(a),nr.forEach(a),d=0;d<Kr.length;d++)m=Kr[d],m.blockedOn===i&&(m.blockedOn=null);for(;0<Kr.length&&(d=Kr[0],d.blockedOn===null);)Od(d),d.blockedOn===null&&Kr.shift()}var Ns=$.ReactCurrentBatchConfig,hi=!0;function mt(i,a,d,m){var y=Ye,E=Ns.transition;Ns.transition=null;try{Ye=1,xc(i,a,d,m)}finally{Ye=y,Ns.transition=E}}function cm(i,a,d,m){var y=Ye,E=Ns.transition;Ns.transition=null;try{Ye=4,xc(i,a,d,m)}finally{Ye=y,Ns.transition=E}}function xc(i,a,d,m){if(hi){var y=Aa(i,a,d,m);if(y===null)wm(i,a,m,Eo,d),Md(i,m);else if(lm(y,i,a,d,m))m.stopPropagation();else if(Md(i,m),a&4&&-1<am.indexOf(i)){for(;y!==null;){var E=jc(y);if(E!==null&&Rd(E),E=Aa(i,a,d,m),E===null&&wm(i,a,m,Eo,d),E===y)break;y=E}y!==null&&m.stopPropagation()}else wm(i,a,m,null,d)}}var Eo=null;function Aa(i,a,d,m){if(Eo=null,i=ya(m),i=So(i),i!==null)if(a=yr(i),a===null)i=null;else if(d=a.tag,d===13){if(i=go(a),i!==null)return i;i=null}else if(d===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null);return Eo=i,null}function wc(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Cd()){case vo:return 1;case ii:return 4;case tr:case gc:return 16;case Id:return 536870912;default:return 16}default:return 16}}var zn=null,Pa=null,An=null;function _c(){if(An)return An;var i,a=Pa,d=a.length,m,y="value"in zn?zn.value:zn.textContent,E=y.length;for(i=0;i<d&&a[i]===y[i];i++);var N=d-i;for(m=1;m<=N&&a[d-m]===y[E-m];m++);return An=y.slice(i,1<m?1-m:void 0)}function Ra(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function qr(){return!0}function Ec(){return!1}function Yt(i){function a(d,m,y,E,N){this._reactName=d,this._targetInst=y,this.type=m,this.nativeEvent=E,this.target=N,this.currentTarget=null;for(var U in i)i.hasOwnProperty(U)&&(d=i[U],this[U]=d?d(E):E[U]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?qr:Ec,this.isPropagationStopped=Ec,this}return K(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=qr)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=qr)},persist:function(){},isPersistent:qr}),a}var Tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ka=Yt(Tr),Gr=K({},Tr,{view:0,detail:0}),um=Yt(Gr),ja,As,fi,bo=K({},Gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==fi&&(fi&&i.type==="mousemove"?(ja=i.screenX-fi.screenX,As=i.screenY-fi.screenY):As=ja=0,fi=i),ja)},movementY:function(i){return"movementY"in i?i.movementY:As}}),Da=Yt(bo),bc=K({},bo,{dataTransfer:0}),Ld=Yt(bc),Ma=K({},Gr,{relatedTarget:0}),Oa=Yt(Ma),Fd=K({},Tr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ps=Yt(Fd),Ud=K({},Tr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),$d=Yt(Ud),Bd=K({},Tr,{data:0}),Tc=Yt(Bd),Va={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wd(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=zd[i])?!!a[i]:!1}function Qr(){return Wd}var f=K({},Gr,{key:function(i){if(i.key){var a=Va[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Ra(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?xn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qr,charCode:function(i){return i.type==="keypress"?Ra(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ra(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),w=Yt(f),T=K({},bo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),k=Yt(T),X=K({},Gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qr}),se=Yt(X),ye=K({},Tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),it=Yt(ye),Ot=K({},bo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Xe=Yt(Ot),Bt=[9,13,27,32],Nt=c&&"CompositionEvent"in window,rr=null;c&&"documentMode"in document&&(rr=document.documentMode);var Wn=c&&"TextEvent"in window&&!rr,To=c&&(!Nt||rr&&8<rr&&11>=rr),La=" ",Ew=!1;function bw(i,a){switch(i){case"keyup":return Bt.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tw(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Fa=!1;function Mj(i,a){switch(i){case"compositionend":return Tw(a);case"keypress":return a.which!==32?null:(Ew=!0,La);case"textInput":return i=a.data,i===La&&Ew?null:i;default:return null}}function Oj(i,a){if(Fa)return i==="compositionend"||!Nt&&bw(i,a)?(i=_c(),An=Pa=zn=null,Fa=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return To&&a.locale!=="ko"?null:a.data;default:return null}}var Vj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sw(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!Vj[i.type]:a==="textarea"}function Cw(i,a,d,m){Wr(m),a=Qd(a,"onChange"),0<a.length&&(d=new ka("onChange","change",null,d,m),i.push({event:d,listeners:a}))}var Sc=null,Cc=null;function Lj(i){Ww(i,0)}function Hd(i){var a=Wa(i);if(Un(a))return i}function Fj(i,a){if(i==="change")return a}var Iw=!1;if(c){var dm;if(c){var hm="oninput"in document;if(!hm){var Nw=document.createElement("div");Nw.setAttribute("oninput","return;"),hm=typeof Nw.oninput=="function"}dm=hm}else dm=!1;Iw=dm&&(!document.documentMode||9<document.documentMode)}function Aw(){Sc&&(Sc.detachEvent("onpropertychange",Pw),Cc=Sc=null)}function Pw(i){if(i.propertyName==="value"&&Hd(Cc)){var a=[];Cw(a,Cc,i,ya(i)),hc(Lj,a)}}function Uj(i,a,d){i==="focusin"?(Aw(),Sc=a,Cc=d,Sc.attachEvent("onpropertychange",Pw)):i==="focusout"&&Aw()}function $j(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Hd(Cc)}function Bj(i,a){if(i==="click")return Hd(a)}function zj(i,a){if(i==="input"||i==="change")return Hd(a)}function Wj(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Sr=typeof Object.is=="function"?Object.is:Wj;function Ic(i,a){if(Sr(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var d=Object.keys(i),m=Object.keys(a);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var y=d[m];if(!h.call(a,y)||!Sr(i[y],a[y]))return!1}return!0}function Rw(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function kw(i,a){var d=Rw(i);i=0;for(var m;d;){if(d.nodeType===3){if(m=i+d.textContent.length,i<=a&&m>=a)return{node:d,offset:a-i};i=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Rw(d)}}function jw(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?jw(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function Dw(){for(var i=window,a=vn();a instanceof i.HTMLIFrameElement;){try{var d=typeof a.contentWindow.location.href=="string"}catch{d=!1}if(d)i=a.contentWindow;else break;a=vn(i.document)}return a}function fm(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function Hj(i){var a=Dw(),d=i.focusedElem,m=i.selectionRange;if(a!==d&&d&&d.ownerDocument&&jw(d.ownerDocument.documentElement,d)){if(m!==null&&fm(d)){if(a=m.start,i=m.end,i===void 0&&(i=a),"selectionStart"in d)d.selectionStart=a,d.selectionEnd=Math.min(i,d.value.length);else if(i=(a=d.ownerDocument||document)&&a.defaultView||window,i.getSelection){i=i.getSelection();var y=d.textContent.length,E=Math.min(m.start,y);m=m.end===void 0?E:Math.min(m.end,y),!i.extend&&E>m&&(y=m,m=E,E=y),y=kw(d,E);var N=kw(d,m);y&&N&&(i.rangeCount!==1||i.anchorNode!==y.node||i.anchorOffset!==y.offset||i.focusNode!==N.node||i.focusOffset!==N.offset)&&(a=a.createRange(),a.setStart(y.node,y.offset),i.removeAllRanges(),E>m?(i.addRange(a),i.extend(N.node,N.offset)):(a.setEnd(N.node,N.offset),i.addRange(a)))}}for(a=[],i=d;i=i.parentNode;)i.nodeType===1&&a.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<a.length;d++)i=a[d],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Kj=c&&"documentMode"in document&&11>=document.documentMode,Ua=null,pm=null,Nc=null,mm=!1;function Mw(i,a,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;mm||Ua==null||Ua!==vn(m)||(m=Ua,"selectionStart"in m&&fm(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Nc&&Ic(Nc,m)||(Nc=m,m=Qd(pm,"onSelect"),0<m.length&&(a=new ka("onSelect","select",null,a,d),i.push({event:a,listeners:m}),a.target=Ua)))}function Kd(i,a){var d={};return d[i.toLowerCase()]=a.toLowerCase(),d["Webkit"+i]="webkit"+a,d["Moz"+i]="moz"+a,d}var $a={animationend:Kd("Animation","AnimationEnd"),animationiteration:Kd("Animation","AnimationIteration"),animationstart:Kd("Animation","AnimationStart"),transitionend:Kd("Transition","TransitionEnd")},gm={},Ow={};c&&(Ow=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function qd(i){if(gm[i])return gm[i];if(!$a[i])return i;var a=$a[i],d;for(d in a)if(a.hasOwnProperty(d)&&d in Ow)return gm[i]=a[d];return i}var Vw=qd("animationend"),Lw=qd("animationiteration"),Fw=qd("animationstart"),Uw=qd("transitionend"),$w=new Map,Bw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pi(i,a){$w.set(i,a),o(a,[i])}for(var vm=0;vm<Bw.length;vm++){var ym=Bw[vm],qj=ym.toLowerCase(),Gj=ym[0].toUpperCase()+ym.slice(1);pi(qj,"on"+Gj)}pi(Vw,"onAnimationEnd"),pi(Lw,"onAnimationIteration"),pi(Fw,"onAnimationStart"),pi("dblclick","onDoubleClick"),pi("focusin","onFocus"),pi("focusout","onBlur"),pi(Uw,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ac="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ac));function zw(i,a,d){var m=i.type||"unknown-event";i.currentTarget=d,bd(m,a,void 0,i),i.currentTarget=null}function Ww(i,a){a=(a&4)!==0;for(var d=0;d<i.length;d++){var m=i[d],y=m.event;m=m.listeners;e:{var E=void 0;if(a)for(var N=m.length-1;0<=N;N--){var U=m[N],H=U.instance,ne=U.currentTarget;if(U=U.listener,H!==E&&y.isPropagationStopped())break e;zw(y,U,ne),E=H}else for(N=0;N<m.length;N++){if(U=m[N],H=U.instance,ne=U.currentTarget,U=U.listener,H!==E&&y.isPropagationStopped())break e;zw(y,U,ne),E=H}}}if(vr)throw i=fc,vr=!1,fc=null,i}function dt(i,a){var d=a[Cm];d===void 0&&(d=a[Cm]=new Set);var m=i+"__bubble";d.has(m)||(Hw(a,i,2,!1),d.add(m))}function xm(i,a,d){var m=0;a&&(m|=4),Hw(d,i,m,a)}var Gd="_reactListening"+Math.random().toString(36).slice(2);function Pc(i){if(!i[Gd]){i[Gd]=!0,r.forEach(function(d){d!=="selectionchange"&&(Qj.has(d)||xm(d,!1,i),xm(d,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Gd]||(a[Gd]=!0,xm("selectionchange",!1,a))}}function Hw(i,a,d,m){switch(wc(a)){case 1:var y=mt;break;case 4:y=cm;break;default:y=xc}d=y.bind(null,a,d,i),y=void 0,!_a||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),m?y!==void 0?i.addEventListener(a,d,{capture:!0,passive:y}):i.addEventListener(a,d,!0):y!==void 0?i.addEventListener(a,d,{passive:y}):i.addEventListener(a,d,!1)}function wm(i,a,d,m,y){var E=m;if((a&1)===0&&(a&2)===0&&m!==null)e:for(;;){if(m===null)return;var N=m.tag;if(N===3||N===4){var U=m.stateNode.containerInfo;if(U===y||U.nodeType===8&&U.parentNode===y)break;if(N===4)for(N=m.return;N!==null;){var H=N.tag;if((H===3||H===4)&&(H=N.stateNode.containerInfo,H===y||H.nodeType===8&&H.parentNode===y))return;N=N.return}for(;U!==null;){if(N=So(U),N===null)return;if(H=N.tag,H===5||H===6){m=E=N;continue e}U=U.parentNode}}m=m.return}hc(function(){var ne=E,he=ya(d),pe=[];e:{var de=$w.get(i);if(de!==void 0){var we=ka,Ce=i;switch(i){case"keypress":if(Ra(d)===0)break e;case"keydown":case"keyup":we=w;break;case"focusin":Ce="focus",we=Oa;break;case"focusout":Ce="blur",we=Oa;break;case"beforeblur":case"afterblur":we=Oa;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=Da;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=Ld;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=se;break;case Vw:case Lw:case Fw:we=Ps;break;case Uw:we=it;break;case"scroll":we=um;break;case"wheel":we=Xe;break;case"copy":case"cut":case"paste":we=$d;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=k}var Ie=(a&4)!==0,St=!Ie&&i==="scroll",J=Ie?de!==null?de+"Capture":null:de;Ie=[];for(var G=ne,ee;G!==null;){ee=G;var me=ee.stateNode;if(ee.tag===5&&me!==null&&(ee=me,J!==null&&(me=Tt(G,J),me!=null&&Ie.push(Rc(G,me,ee)))),St)break;G=G.return}0<Ie.length&&(de=new we(de,Ce,null,d,he),pe.push({event:de,listeners:Ie}))}}if((a&7)===0){e:{if(de=i==="mouseover"||i==="pointerover",we=i==="mouseout"||i==="pointerout",de&&d!==ho&&(Ce=d.relatedTarget||d.fromElement)&&(So(Ce)||Ce[Rs]))break e;if((we||de)&&(de=he.window===he?he:(de=he.ownerDocument)?de.defaultView||de.parentWindow:window,we?(Ce=d.relatedTarget||d.toElement,we=ne,Ce=Ce?So(Ce):null,Ce!==null&&(St=yr(Ce),Ce!==St||Ce.tag!==5&&Ce.tag!==6)&&(Ce=null)):(we=null,Ce=ne),we!==Ce)){if(Ie=Da,me="onMouseLeave",J="onMouseEnter",G="mouse",(i==="pointerout"||i==="pointerover")&&(Ie=k,me="onPointerLeave",J="onPointerEnter",G="pointer"),St=we==null?de:Wa(we),ee=Ce==null?de:Wa(Ce),de=new Ie(me,G+"leave",we,d,he),de.target=St,de.relatedTarget=ee,me=null,So(he)===ne&&(Ie=new Ie(J,G+"enter",Ce,d,he),Ie.target=ee,Ie.relatedTarget=St,me=Ie),St=me,we&&Ce)t:{for(Ie=we,J=Ce,G=0,ee=Ie;ee;ee=Ba(ee))G++;for(ee=0,me=J;me;me=Ba(me))ee++;for(;0<G-ee;)Ie=Ba(Ie),G--;for(;0<ee-G;)J=Ba(J),ee--;for(;G--;){if(Ie===J||J!==null&&Ie===J.alternate)break t;Ie=Ba(Ie),J=Ba(J)}Ie=null}else Ie=null;we!==null&&Kw(pe,de,we,Ie,!1),Ce!==null&&St!==null&&Kw(pe,St,Ce,Ie,!0)}}e:{if(de=ne?Wa(ne):window,we=de.nodeName&&de.nodeName.toLowerCase(),we==="select"||we==="input"&&de.type==="file")var Ne=Fj;else if(Sw(de))if(Iw)Ne=zj;else{Ne=$j;var je=Uj}else(we=de.nodeName)&&we.toLowerCase()==="input"&&(de.type==="checkbox"||de.type==="radio")&&(Ne=Bj);if(Ne&&(Ne=Ne(i,ne))){Cw(pe,Ne,d,he);break e}je&&je(i,de,ne),i==="focusout"&&(je=de._wrapperState)&&je.controlled&&de.type==="number"&&ma(de,"number",de.value)}switch(je=ne?Wa(ne):window,i){case"focusin":(Sw(je)||je.contentEditable==="true")&&(Ua=je,pm=ne,Nc=null);break;case"focusout":Nc=pm=Ua=null;break;case"mousedown":mm=!0;break;case"contextmenu":case"mouseup":case"dragend":mm=!1,Mw(pe,d,he);break;case"selectionchange":if(Kj)break;case"keydown":case"keyup":Mw(pe,d,he)}var De;if(Nt)e:{switch(i){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else Fa?bw(i,d)&&(Fe="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&(Fe="onCompositionStart");Fe&&(To&&d.locale!=="ko"&&(Fa||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&Fa&&(De=_c()):(zn=he,Pa="value"in zn?zn.value:zn.textContent,Fa=!0)),je=Qd(ne,Fe),0<je.length&&(Fe=new Tc(Fe,i,null,d,he),pe.push({event:Fe,listeners:je}),De?Fe.data=De:(De=Tw(d),De!==null&&(Fe.data=De)))),(De=Wn?Mj(i,d):Oj(i,d))&&(ne=Qd(ne,"onBeforeInput"),0<ne.length&&(he=new Tc("onBeforeInput","beforeinput",null,d,he),pe.push({event:he,listeners:ne}),he.data=De))}Ww(pe,a)})}function Rc(i,a,d){return{instance:i,listener:a,currentTarget:d}}function Qd(i,a){for(var d=a+"Capture",m=[];i!==null;){var y=i,E=y.stateNode;y.tag===5&&E!==null&&(y=E,E=Tt(i,d),E!=null&&m.unshift(Rc(i,E,y)),E=Tt(i,a),E!=null&&m.push(Rc(i,E,y))),i=i.return}return m}function Ba(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Kw(i,a,d,m,y){for(var E=a._reactName,N=[];d!==null&&d!==m;){var U=d,H=U.alternate,ne=U.stateNode;if(H!==null&&H===m)break;U.tag===5&&ne!==null&&(U=ne,y?(H=Tt(d,E),H!=null&&N.unshift(Rc(d,H,U))):y||(H=Tt(d,E),H!=null&&N.push(Rc(d,H,U)))),d=d.return}N.length!==0&&i.push({event:a,listeners:N})}var Yj=/\r\n?/g,Xj=/\u0000|\uFFFD/g;function qw(i){return(typeof i=="string"?i:""+i).replace(Yj,`
`).replace(Xj,"")}function Yd(i,a,d){if(a=qw(a),qw(i)!==a&&d)throw Error(n(425))}function Xd(){}var _m=null,Em=null;function bm(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Tm=typeof setTimeout=="function"?setTimeout:void 0,Jj=typeof clearTimeout=="function"?clearTimeout:void 0,Gw=typeof Promise=="function"?Promise:void 0,Zj=typeof queueMicrotask=="function"?queueMicrotask:typeof Gw<"u"?function(i){return Gw.resolve(null).then(i).catch(e2)}:Tm;function e2(i){setTimeout(function(){throw i})}function Sm(i,a){var d=a,m=0;do{var y=d.nextSibling;if(i.removeChild(d),y&&y.nodeType===8)if(d=y.data,d==="/$"){if(m===0){i.removeChild(y),br(a);return}m--}else d!=="$"&&d!=="$?"&&d!=="$!"||m++;d=y}while(d);br(a)}function mi(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return i}function Qw(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"){if(a===0)return i;a--}else d==="/$"&&a++}i=i.previousSibling}return null}var za=Math.random().toString(36).slice(2),Yr="__reactFiber$"+za,kc="__reactProps$"+za,Rs="__reactContainer$"+za,Cm="__reactEvents$"+za,t2="__reactListeners$"+za,n2="__reactHandles$"+za;function So(i){var a=i[Yr];if(a)return a;for(var d=i.parentNode;d;){if(a=d[Rs]||d[Yr]){if(d=a.alternate,a.child!==null||d!==null&&d.child!==null)for(i=Qw(i);i!==null;){if(d=i[Yr])return d;i=Qw(i)}return a}i=d,d=i.parentNode}return null}function jc(i){return i=i[Yr]||i[Rs],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Wa(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function Jd(i){return i[kc]||null}var Im=[],Ha=-1;function gi(i){return{current:i}}function ht(i){0>Ha||(i.current=Im[Ha],Im[Ha]=null,Ha--)}function ct(i,a){Ha++,Im[Ha]=i.current,i.current=a}var vi={},sn=gi(vi),Pn=gi(!1),Co=vi;function Ka(i,a){var d=i.type.contextTypes;if(!d)return vi;var m=i.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===a)return m.__reactInternalMemoizedMaskedChildContext;var y={},E;for(E in d)y[E]=a[E];return m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=y),y}function Rn(i){return i=i.childContextTypes,i!=null}function Zd(){ht(Pn),ht(sn)}function Yw(i,a,d){if(sn.current!==vi)throw Error(n(168));ct(sn,a),ct(Pn,d)}function Xw(i,a,d){var m=i.stateNode;if(a=a.childContextTypes,typeof m.getChildContext!="function")return d;m=m.getChildContext();for(var y in m)if(!(y in a))throw Error(n(108,le(i)||"Unknown",y));return K({},d,m)}function eh(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||vi,Co=sn.current,ct(sn,i),ct(Pn,Pn.current),!0}function Jw(i,a,d){var m=i.stateNode;if(!m)throw Error(n(169));d?(i=Xw(i,a,Co),m.__reactInternalMemoizedMergedChildContext=i,ht(Pn),ht(sn),ct(sn,i)):ht(Pn),ct(Pn,d)}var ks=null,th=!1,Nm=!1;function Zw(i){ks===null?ks=[i]:ks.push(i)}function r2(i){th=!0,Zw(i)}function yi(){if(!Nm&&ks!==null){Nm=!0;var i=0,a=Ye;try{var d=ks;for(Ye=1;i<d.length;i++){var m=d[i];do m=m(!0);while(m!==null)}ks=null,th=!1}catch(y){throw ks!==null&&(ks=ks.slice(i+1)),Sa(vo,yi),y}finally{Ye=a,Nm=!1}}return null}var qa=[],Ga=0,nh=null,rh=0,sr=[],ir=0,Io=null,js=1,Ds="";function No(i,a){qa[Ga++]=rh,qa[Ga++]=nh,nh=i,rh=a}function e_(i,a,d){sr[ir++]=js,sr[ir++]=Ds,sr[ir++]=Io,Io=i;var m=js;i=Ds;var y=32-yn(m)-1;m&=~(1<<y),d+=1;var E=32-yn(a)+y;if(30<E){var N=y-y%5;E=(m&(1<<N)-1).toString(32),m>>=N,y-=N,js=1<<32-yn(a)+y|d<<y|m,Ds=E+i}else js=1<<E|d<<y|m,Ds=i}function Am(i){i.return!==null&&(No(i,1),e_(i,1,0))}function Pm(i){for(;i===nh;)nh=qa[--Ga],qa[Ga]=null,rh=qa[--Ga],qa[Ga]=null;for(;i===Io;)Io=sr[--ir],sr[ir]=null,Ds=sr[--ir],sr[ir]=null,js=sr[--ir],sr[ir]=null}var Hn=null,Kn=null,gt=!1,Cr=null;function t_(i,a){var d=cr(5,null,null,0);d.elementType="DELETED",d.stateNode=a,d.return=i,a=i.deletions,a===null?(i.deletions=[d],i.flags|=16):a.push(d)}function n_(i,a){switch(i.tag){case 5:var d=i.type;return a=a.nodeType!==1||d.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(i.stateNode=a,Hn=i,Kn=mi(a.firstChild),!0):!1;case 6:return a=i.pendingProps===""||a.nodeType!==3?null:a,a!==null?(i.stateNode=a,Hn=i,Kn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(d=Io!==null?{id:js,overflow:Ds}:null,i.memoizedState={dehydrated:a,treeContext:d,retryLane:1073741824},d=cr(18,null,null,0),d.stateNode=a,d.return=i,i.child=d,Hn=i,Kn=null,!0):!1;default:return!1}}function Rm(i){return(i.mode&1)!==0&&(i.flags&128)===0}function km(i){if(gt){var a=Kn;if(a){var d=a;if(!n_(i,a)){if(Rm(i))throw Error(n(418));a=mi(d.nextSibling);var m=Hn;a&&n_(i,a)?t_(m,d):(i.flags=i.flags&-4097|2,gt=!1,Hn=i)}}else{if(Rm(i))throw Error(n(418));i.flags=i.flags&-4097|2,gt=!1,Hn=i}}}function r_(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Hn=i}function sh(i){if(i!==Hn)return!1;if(!gt)return r_(i),gt=!0,!1;var a;if((a=i.tag!==3)&&!(a=i.tag!==5)&&(a=i.type,a=a!=="head"&&a!=="body"&&!bm(i.type,i.memoizedProps)),a&&(a=Kn)){if(Rm(i))throw s_(),Error(n(418));for(;a;)t_(i,a),a=mi(a.nextSibling)}if(r_(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8){var d=i.data;if(d==="/$"){if(a===0){Kn=mi(i.nextSibling);break e}a--}else d!=="$"&&d!=="$!"&&d!=="$?"||a++}i=i.nextSibling}Kn=null}}else Kn=Hn?mi(i.stateNode.nextSibling):null;return!0}function s_(){for(var i=Kn;i;)i=mi(i.nextSibling)}function Qa(){Kn=Hn=null,gt=!1}function jm(i){Cr===null?Cr=[i]:Cr.push(i)}var s2=$.ReactCurrentBatchConfig;function Dc(i,a,d){if(i=d.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var m=d.stateNode}if(!m)throw Error(n(147,i));var y=m,E=""+i;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===E?a.ref:(a=function(N){var U=y.refs;N===null?delete U[E]:U[E]=N},a._stringRef=E,a)}if(typeof i!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,i))}return i}function ih(i,a){throw i=Object.prototype.toString.call(a),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i))}function i_(i){var a=i._init;return a(i._payload)}function o_(i){function a(J,G){if(i){var ee=J.deletions;ee===null?(J.deletions=[G],J.flags|=16):ee.push(G)}}function d(J,G){if(!i)return null;for(;G!==null;)a(J,G),G=G.sibling;return null}function m(J,G){for(J=new Map;G!==null;)G.key!==null?J.set(G.key,G):J.set(G.index,G),G=G.sibling;return J}function y(J,G){return J=Ci(J,G),J.index=0,J.sibling=null,J}function E(J,G,ee){return J.index=ee,i?(ee=J.alternate,ee!==null?(ee=ee.index,ee<G?(J.flags|=2,G):ee):(J.flags|=2,G)):(J.flags|=1048576,G)}function N(J){return i&&J.alternate===null&&(J.flags|=2),J}function U(J,G,ee,me){return G===null||G.tag!==6?(G=Tg(ee,J.mode,me),G.return=J,G):(G=y(G,ee),G.return=J,G)}function H(J,G,ee,me){var Ne=ee.type;return Ne===R?he(J,G,ee.props.children,me,ee.key):G!==null&&(G.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===ae&&i_(Ne)===G.type)?(me=y(G,ee.props),me.ref=Dc(J,G,ee),me.return=J,me):(me=Ah(ee.type,ee.key,ee.props,null,J.mode,me),me.ref=Dc(J,G,ee),me.return=J,me)}function ne(J,G,ee,me){return G===null||G.tag!==4||G.stateNode.containerInfo!==ee.containerInfo||G.stateNode.implementation!==ee.implementation?(G=Sg(ee,J.mode,me),G.return=J,G):(G=y(G,ee.children||[]),G.return=J,G)}function he(J,G,ee,me,Ne){return G===null||G.tag!==7?(G=Oo(ee,J.mode,me,Ne),G.return=J,G):(G=y(G,ee),G.return=J,G)}function pe(J,G,ee){if(typeof G=="string"&&G!==""||typeof G=="number")return G=Tg(""+G,J.mode,ee),G.return=J,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case z:return ee=Ah(G.type,G.key,G.props,null,J.mode,ee),ee.ref=Dc(J,null,G),ee.return=J,ee;case q:return G=Sg(G,J.mode,ee),G.return=J,G;case ae:var me=G._init;return pe(J,me(G._payload),ee)}if(Es(G)||Y(G))return G=Oo(G,J.mode,ee,null),G.return=J,G;ih(J,G)}return null}function de(J,G,ee,me){var Ne=G!==null?G.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number")return Ne!==null?null:U(J,G,""+ee,me);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case z:return ee.key===Ne?H(J,G,ee,me):null;case q:return ee.key===Ne?ne(J,G,ee,me):null;case ae:return Ne=ee._init,de(J,G,Ne(ee._payload),me)}if(Es(ee)||Y(ee))return Ne!==null?null:he(J,G,ee,me,null);ih(J,ee)}return null}function we(J,G,ee,me,Ne){if(typeof me=="string"&&me!==""||typeof me=="number")return J=J.get(ee)||null,U(G,J,""+me,Ne);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case z:return J=J.get(me.key===null?ee:me.key)||null,H(G,J,me,Ne);case q:return J=J.get(me.key===null?ee:me.key)||null,ne(G,J,me,Ne);case ae:var je=me._init;return we(J,G,ee,je(me._payload),Ne)}if(Es(me)||Y(me))return J=J.get(ee)||null,he(G,J,me,Ne,null);ih(G,me)}return null}function Ce(J,G,ee,me){for(var Ne=null,je=null,De=G,Fe=G=0,Ht=null;De!==null&&Fe<ee.length;Fe++){De.index>Fe?(Ht=De,De=null):Ht=De.sibling;var nt=de(J,De,ee[Fe],me);if(nt===null){De===null&&(De=Ht);break}i&&De&&nt.alternate===null&&a(J,De),G=E(nt,G,Fe),je===null?Ne=nt:je.sibling=nt,je=nt,De=Ht}if(Fe===ee.length)return d(J,De),gt&&No(J,Fe),Ne;if(De===null){for(;Fe<ee.length;Fe++)De=pe(J,ee[Fe],me),De!==null&&(G=E(De,G,Fe),je===null?Ne=De:je.sibling=De,je=De);return gt&&No(J,Fe),Ne}for(De=m(J,De);Fe<ee.length;Fe++)Ht=we(De,J,Fe,ee[Fe],me),Ht!==null&&(i&&Ht.alternate!==null&&De.delete(Ht.key===null?Fe:Ht.key),G=E(Ht,G,Fe),je===null?Ne=Ht:je.sibling=Ht,je=Ht);return i&&De.forEach(function(Ii){return a(J,Ii)}),gt&&No(J,Fe),Ne}function Ie(J,G,ee,me){var Ne=Y(ee);if(typeof Ne!="function")throw Error(n(150));if(ee=Ne.call(ee),ee==null)throw Error(n(151));for(var je=Ne=null,De=G,Fe=G=0,Ht=null,nt=ee.next();De!==null&&!nt.done;Fe++,nt=ee.next()){De.index>Fe?(Ht=De,De=null):Ht=De.sibling;var Ii=de(J,De,nt.value,me);if(Ii===null){De===null&&(De=Ht);break}i&&De&&Ii.alternate===null&&a(J,De),G=E(Ii,G,Fe),je===null?Ne=Ii:je.sibling=Ii,je=Ii,De=Ht}if(nt.done)return d(J,De),gt&&No(J,Fe),Ne;if(De===null){for(;!nt.done;Fe++,nt=ee.next())nt=pe(J,nt.value,me),nt!==null&&(G=E(nt,G,Fe),je===null?Ne=nt:je.sibling=nt,je=nt);return gt&&No(J,Fe),Ne}for(De=m(J,De);!nt.done;Fe++,nt=ee.next())nt=we(De,J,Fe,nt.value,me),nt!==null&&(i&&nt.alternate!==null&&De.delete(nt.key===null?Fe:nt.key),G=E(nt,G,Fe),je===null?Ne=nt:je.sibling=nt,je=nt);return i&&De.forEach(function(V2){return a(J,V2)}),gt&&No(J,Fe),Ne}function St(J,G,ee,me){if(typeof ee=="object"&&ee!==null&&ee.type===R&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case z:e:{for(var Ne=ee.key,je=G;je!==null;){if(je.key===Ne){if(Ne=ee.type,Ne===R){if(je.tag===7){d(J,je.sibling),G=y(je,ee.props.children),G.return=J,J=G;break e}}else if(je.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===ae&&i_(Ne)===je.type){d(J,je.sibling),G=y(je,ee.props),G.ref=Dc(J,je,ee),G.return=J,J=G;break e}d(J,je);break}else a(J,je);je=je.sibling}ee.type===R?(G=Oo(ee.props.children,J.mode,me,ee.key),G.return=J,J=G):(me=Ah(ee.type,ee.key,ee.props,null,J.mode,me),me.ref=Dc(J,G,ee),me.return=J,J=me)}return N(J);case q:e:{for(je=ee.key;G!==null;){if(G.key===je)if(G.tag===4&&G.stateNode.containerInfo===ee.containerInfo&&G.stateNode.implementation===ee.implementation){d(J,G.sibling),G=y(G,ee.children||[]),G.return=J,J=G;break e}else{d(J,G);break}else a(J,G);G=G.sibling}G=Sg(ee,J.mode,me),G.return=J,J=G}return N(J);case ae:return je=ee._init,St(J,G,je(ee._payload),me)}if(Es(ee))return Ce(J,G,ee,me);if(Y(ee))return Ie(J,G,ee,me);ih(J,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"?(ee=""+ee,G!==null&&G.tag===6?(d(J,G.sibling),G=y(G,ee),G.return=J,J=G):(d(J,G),G=Tg(ee,J.mode,me),G.return=J,J=G),N(J)):d(J,G)}return St}var Ya=o_(!0),a_=o_(!1),oh=gi(null),ah=null,Xa=null,Dm=null;function Mm(){Dm=Xa=ah=null}function Om(i){var a=oh.current;ht(oh),i._currentValue=a}function Vm(i,a,d){for(;i!==null;){var m=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),i===d)break;i=i.return}}function Ja(i,a){ah=i,Dm=Xa=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&a)!==0&&(kn=!0),i.firstContext=null)}function or(i){var a=i._currentValue;if(Dm!==i)if(i={context:i,memoizedValue:a,next:null},Xa===null){if(ah===null)throw Error(n(308));Xa=i,ah.dependencies={lanes:0,firstContext:i}}else Xa=Xa.next=i;return a}var Ao=null;function Lm(i){Ao===null?Ao=[i]:Ao.push(i)}function l_(i,a,d,m){var y=a.interleaved;return y===null?(d.next=d,Lm(a)):(d.next=y.next,y.next=d),a.interleaved=d,Ms(i,m)}function Ms(i,a){i.lanes|=a;var d=i.alternate;for(d!==null&&(d.lanes|=a),d=i,i=i.return;i!==null;)i.childLanes|=a,d=i.alternate,d!==null&&(d.childLanes|=a),d=i,i=i.return;return d.tag===3?d.stateNode:null}var xi=!1;function Fm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function c_(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Os(i,a){return{eventTime:i,lane:a,tag:0,payload:null,callback:null,next:null}}function wi(i,a,d){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(et&2)!==0){var y=m.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),m.pending=a,Ms(i,d)}return y=m.interleaved,y===null?(a.next=a,Lm(m)):(a.next=y.next,y.next=a),m.interleaved=a,Ms(i,d)}function lh(i,a,d){if(a=a.updateQueue,a!==null&&(a=a.shared,(d&4194240)!==0)){var m=a.lanes;m&=i.pendingLanes,d|=m,a.lanes=d,ci(i,d)}}function u_(i,a){var d=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var y=null,E=null;if(d=d.firstBaseUpdate,d!==null){do{var N={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};E===null?y=E=N:E=E.next=N,d=d.next}while(d!==null);E===null?y=E=a:E=E.next=a}else y=E=a;d={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:E,shared:m.shared,effects:m.effects},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=a:i.next=a,d.lastBaseUpdate=a}function ch(i,a,d,m){var y=i.updateQueue;xi=!1;var E=y.firstBaseUpdate,N=y.lastBaseUpdate,U=y.shared.pending;if(U!==null){y.shared.pending=null;var H=U,ne=H.next;H.next=null,N===null?E=ne:N.next=ne,N=H;var he=i.alternate;he!==null&&(he=he.updateQueue,U=he.lastBaseUpdate,U!==N&&(U===null?he.firstBaseUpdate=ne:U.next=ne,he.lastBaseUpdate=H))}if(E!==null){var pe=y.baseState;N=0,he=ne=H=null,U=E;do{var de=U.lane,we=U.eventTime;if((m&de)===de){he!==null&&(he=he.next={eventTime:we,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var Ce=i,Ie=U;switch(de=a,we=d,Ie.tag){case 1:if(Ce=Ie.payload,typeof Ce=="function"){pe=Ce.call(we,pe,de);break e}pe=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Ie.payload,de=typeof Ce=="function"?Ce.call(we,pe,de):Ce,de==null)break e;pe=K({},pe,de);break e;case 2:xi=!0}}U.callback!==null&&U.lane!==0&&(i.flags|=64,de=y.effects,de===null?y.effects=[U]:de.push(U))}else we={eventTime:we,lane:de,tag:U.tag,payload:U.payload,callback:U.callback,next:null},he===null?(ne=he=we,H=pe):he=he.next=we,N|=de;if(U=U.next,U===null){if(U=y.shared.pending,U===null)break;de=U,U=de.next,de.next=null,y.lastBaseUpdate=de,y.shared.pending=null}}while(!0);if(he===null&&(H=pe),y.baseState=H,y.firstBaseUpdate=ne,y.lastBaseUpdate=he,a=y.shared.interleaved,a!==null){y=a;do N|=y.lane,y=y.next;while(y!==a)}else E===null&&(y.shared.lanes=0);ko|=N,i.lanes=N,i.memoizedState=pe}}function d_(i,a,d){if(i=a.effects,a.effects=null,i!==null)for(a=0;a<i.length;a++){var m=i[a],y=m.callback;if(y!==null){if(m.callback=null,m=d,typeof y!="function")throw Error(n(191,y));y.call(m)}}}var Mc={},Xr=gi(Mc),Oc=gi(Mc),Vc=gi(Mc);function Po(i){if(i===Mc)throw Error(n(174));return i}function Um(i,a){switch(ct(Vc,a),ct(Oc,i),ct(Xr,Mc),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Mt(null,"");break;default:i=i===8?a.parentNode:a,a=i.namespaceURI||null,i=i.tagName,a=Mt(a,i)}ht(Xr),ct(Xr,a)}function Za(){ht(Xr),ht(Oc),ht(Vc)}function h_(i){Po(Vc.current);var a=Po(Xr.current),d=Mt(a,i.type);a!==d&&(ct(Oc,i),ct(Xr,d))}function $m(i){Oc.current===i&&(ht(Xr),ht(Oc))}var vt=gi(0);function uh(i){for(var a=i;a!==null;){if(a.tag===13){var d=a.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Bm=[];function zm(){for(var i=0;i<Bm.length;i++)Bm[i]._workInProgressVersionPrimary=null;Bm.length=0}var dh=$.ReactCurrentDispatcher,Wm=$.ReactCurrentBatchConfig,Ro=0,yt=null,Vt=null,zt=null,hh=!1,Lc=!1,Fc=0,i2=0;function on(){throw Error(n(321))}function Hm(i,a){if(a===null)return!1;for(var d=0;d<a.length&&d<i.length;d++)if(!Sr(i[d],a[d]))return!1;return!0}function Km(i,a,d,m,y,E){if(Ro=E,yt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,dh.current=i===null||i.memoizedState===null?c2:u2,i=d(m,y),Lc){E=0;do{if(Lc=!1,Fc=0,25<=E)throw Error(n(301));E+=1,zt=Vt=null,a.updateQueue=null,dh.current=d2,i=d(m,y)}while(Lc)}if(dh.current=mh,a=Vt!==null&&Vt.next!==null,Ro=0,zt=Vt=yt=null,hh=!1,a)throw Error(n(300));return i}function qm(){var i=Fc!==0;return Fc=0,i}function Jr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?yt.memoizedState=zt=i:zt=zt.next=i,zt}function ar(){if(Vt===null){var i=yt.alternate;i=i!==null?i.memoizedState:null}else i=Vt.next;var a=zt===null?yt.memoizedState:zt.next;if(a!==null)zt=a,Vt=i;else{if(i===null)throw Error(n(310));Vt=i,i={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},zt===null?yt.memoizedState=zt=i:zt=zt.next=i}return zt}function Uc(i,a){return typeof a=="function"?a(i):a}function Gm(i){var a=ar(),d=a.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=i;var m=Vt,y=m.baseQueue,E=d.pending;if(E!==null){if(y!==null){var N=y.next;y.next=E.next,E.next=N}m.baseQueue=y=E,d.pending=null}if(y!==null){E=y.next,m=m.baseState;var U=N=null,H=null,ne=E;do{var he=ne.lane;if((Ro&he)===he)H!==null&&(H=H.next={lane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),m=ne.hasEagerState?ne.eagerState:i(m,ne.action);else{var pe={lane:he,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null};H===null?(U=H=pe,N=m):H=H.next=pe,yt.lanes|=he,ko|=he}ne=ne.next}while(ne!==null&&ne!==E);H===null?N=m:H.next=U,Sr(m,a.memoizedState)||(kn=!0),a.memoizedState=m,a.baseState=N,a.baseQueue=H,d.lastRenderedState=m}if(i=d.interleaved,i!==null){y=i;do E=y.lane,yt.lanes|=E,ko|=E,y=y.next;while(y!==i)}else y===null&&(d.lanes=0);return[a.memoizedState,d.dispatch]}function Qm(i){var a=ar(),d=a.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=i;var m=d.dispatch,y=d.pending,E=a.memoizedState;if(y!==null){d.pending=null;var N=y=y.next;do E=i(E,N.action),N=N.next;while(N!==y);Sr(E,a.memoizedState)||(kn=!0),a.memoizedState=E,a.baseQueue===null&&(a.baseState=E),d.lastRenderedState=E}return[E,m]}function f_(){}function p_(i,a){var d=yt,m=ar(),y=a(),E=!Sr(m.memoizedState,y);if(E&&(m.memoizedState=y,kn=!0),m=m.queue,Ym(v_.bind(null,d,m,i),[i]),m.getSnapshot!==a||E||zt!==null&&zt.memoizedState.tag&1){if(d.flags|=2048,$c(9,g_.bind(null,d,m,y,a),void 0,null),Wt===null)throw Error(n(349));(Ro&30)!==0||m_(d,a,y)}return y}function m_(i,a,d){i.flags|=16384,i={getSnapshot:a,value:d},a=yt.updateQueue,a===null?(a={lastEffect:null,stores:null},yt.updateQueue=a,a.stores=[i]):(d=a.stores,d===null?a.stores=[i]:d.push(i))}function g_(i,a,d,m){a.value=d,a.getSnapshot=m,y_(a)&&x_(i)}function v_(i,a,d){return d(function(){y_(a)&&x_(i)})}function y_(i){var a=i.getSnapshot;i=i.value;try{var d=a();return!Sr(i,d)}catch{return!0}}function x_(i){var a=Ms(i,1);a!==null&&Pr(a,i,1,-1)}function w_(i){var a=Jr();return typeof i=="function"&&(i=i()),a.memoizedState=a.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uc,lastRenderedState:i},a.queue=i,i=i.dispatch=l2.bind(null,yt,i),[a.memoizedState,i]}function $c(i,a,d,m){return i={tag:i,create:a,destroy:d,deps:m,next:null},a=yt.updateQueue,a===null?(a={lastEffect:null,stores:null},yt.updateQueue=a,a.lastEffect=i.next=i):(d=a.lastEffect,d===null?a.lastEffect=i.next=i:(m=d.next,d.next=i,i.next=m,a.lastEffect=i)),i}function __(){return ar().memoizedState}function fh(i,a,d,m){var y=Jr();yt.flags|=i,y.memoizedState=$c(1|a,d,void 0,m===void 0?null:m)}function ph(i,a,d,m){var y=ar();m=m===void 0?null:m;var E=void 0;if(Vt!==null){var N=Vt.memoizedState;if(E=N.destroy,m!==null&&Hm(m,N.deps)){y.memoizedState=$c(a,d,E,m);return}}yt.flags|=i,y.memoizedState=$c(1|a,d,E,m)}function E_(i,a){return fh(8390656,8,i,a)}function Ym(i,a){return ph(2048,8,i,a)}function b_(i,a){return ph(4,2,i,a)}function T_(i,a){return ph(4,4,i,a)}function S_(i,a){if(typeof a=="function")return i=i(),a(i),function(){a(null)};if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function C_(i,a,d){return d=d!=null?d.concat([i]):null,ph(4,4,S_.bind(null,a,i),d)}function Xm(){}function I_(i,a){var d=ar();a=a===void 0?null:a;var m=d.memoizedState;return m!==null&&a!==null&&Hm(a,m[1])?m[0]:(d.memoizedState=[i,a],i)}function N_(i,a){var d=ar();a=a===void 0?null:a;var m=d.memoizedState;return m!==null&&a!==null&&Hm(a,m[1])?m[0]:(i=i(),d.memoizedState=[i,a],i)}function A_(i,a,d){return(Ro&21)===0?(i.baseState&&(i.baseState=!1,kn=!0),i.memoizedState=d):(Sr(d,a)||(d=wo(),yt.lanes|=d,ko|=d,i.baseState=!0),a)}function o2(i,a){var d=Ye;Ye=d!==0&&4>d?d:4,i(!0);var m=Wm.transition;Wm.transition={};try{i(!1),a()}finally{Ye=d,Wm.transition=m}}function P_(){return ar().memoizedState}function a2(i,a,d){var m=Ti(i);if(d={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null},R_(i))k_(a,d);else if(d=l_(i,a,d,m),d!==null){var y=_n();Pr(d,i,m,y),j_(d,a,m)}}function l2(i,a,d){var m=Ti(i),y={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null};if(R_(i))k_(a,y);else{var E=i.alternate;if(i.lanes===0&&(E===null||E.lanes===0)&&(E=a.lastRenderedReducer,E!==null))try{var N=a.lastRenderedState,U=E(N,d);if(y.hasEagerState=!0,y.eagerState=U,Sr(U,N)){var H=a.interleaved;H===null?(y.next=y,Lm(a)):(y.next=H.next,H.next=y),a.interleaved=y;return}}catch{}finally{}d=l_(i,a,y,m),d!==null&&(y=_n(),Pr(d,i,m,y),j_(d,a,m))}}function R_(i){var a=i.alternate;return i===yt||a!==null&&a===yt}function k_(i,a){Lc=hh=!0;var d=i.pending;d===null?a.next=a:(a.next=d.next,d.next=a),i.pending=a}function j_(i,a,d){if((d&4194240)!==0){var m=a.lanes;m&=i.pendingLanes,d|=m,a.lanes=d,ci(i,d)}}var mh={readContext:or,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useInsertionEffect:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useMutableSource:on,useSyncExternalStore:on,useId:on,unstable_isNewReconciler:!1},c2={readContext:or,useCallback:function(i,a){return Jr().memoizedState=[i,a===void 0?null:a],i},useContext:or,useEffect:E_,useImperativeHandle:function(i,a,d){return d=d!=null?d.concat([i]):null,fh(4194308,4,S_.bind(null,a,i),d)},useLayoutEffect:function(i,a){return fh(4194308,4,i,a)},useInsertionEffect:function(i,a){return fh(4,2,i,a)},useMemo:function(i,a){var d=Jr();return a=a===void 0?null:a,i=i(),d.memoizedState=[i,a],i},useReducer:function(i,a,d){var m=Jr();return a=d!==void 0?d(a):a,m.memoizedState=m.baseState=a,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:a},m.queue=i,i=i.dispatch=a2.bind(null,yt,i),[m.memoizedState,i]},useRef:function(i){var a=Jr();return i={current:i},a.memoizedState=i},useState:w_,useDebugValue:Xm,useDeferredValue:function(i){return Jr().memoizedState=i},useTransition:function(){var i=w_(!1),a=i[0];return i=o2.bind(null,i[1]),Jr().memoizedState=i,[a,i]},useMutableSource:function(){},useSyncExternalStore:function(i,a,d){var m=yt,y=Jr();if(gt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=a(),Wt===null)throw Error(n(349));(Ro&30)!==0||m_(m,a,d)}y.memoizedState=d;var E={value:d,getSnapshot:a};return y.queue=E,E_(v_.bind(null,m,E,i),[i]),m.flags|=2048,$c(9,g_.bind(null,m,E,d,a),void 0,null),d},useId:function(){var i=Jr(),a=Wt.identifierPrefix;if(gt){var d=Ds,m=js;d=(m&~(1<<32-yn(m)-1)).toString(32)+d,a=":"+a+"R"+d,d=Fc++,0<d&&(a+="H"+d.toString(32)),a+=":"}else d=i2++,a=":"+a+"r"+d.toString(32)+":";return i.memoizedState=a},unstable_isNewReconciler:!1},u2={readContext:or,useCallback:I_,useContext:or,useEffect:Ym,useImperativeHandle:C_,useInsertionEffect:b_,useLayoutEffect:T_,useMemo:N_,useReducer:Gm,useRef:__,useState:function(){return Gm(Uc)},useDebugValue:Xm,useDeferredValue:function(i){var a=ar();return A_(a,Vt.memoizedState,i)},useTransition:function(){var i=Gm(Uc)[0],a=ar().memoizedState;return[i,a]},useMutableSource:f_,useSyncExternalStore:p_,useId:P_,unstable_isNewReconciler:!1},d2={readContext:or,useCallback:I_,useContext:or,useEffect:Ym,useImperativeHandle:C_,useInsertionEffect:b_,useLayoutEffect:T_,useMemo:N_,useReducer:Qm,useRef:__,useState:function(){return Qm(Uc)},useDebugValue:Xm,useDeferredValue:function(i){var a=ar();return Vt===null?a.memoizedState=i:A_(a,Vt.memoizedState,i)},useTransition:function(){var i=Qm(Uc)[0],a=ar().memoizedState;return[i,a]},useMutableSource:f_,useSyncExternalStore:p_,useId:P_,unstable_isNewReconciler:!1};function Ir(i,a){if(i&&i.defaultProps){a=K({},a),i=i.defaultProps;for(var d in i)a[d]===void 0&&(a[d]=i[d]);return a}return a}function Jm(i,a,d,m){a=i.memoizedState,d=d(m,a),d=d==null?a:K({},a,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var gh={isMounted:function(i){return(i=i._reactInternals)?yr(i)===i:!1},enqueueSetState:function(i,a,d){i=i._reactInternals;var m=_n(),y=Ti(i),E=Os(m,y);E.payload=a,d!=null&&(E.callback=d),a=wi(i,E,y),a!==null&&(Pr(a,i,y,m),lh(a,i,y))},enqueueReplaceState:function(i,a,d){i=i._reactInternals;var m=_n(),y=Ti(i),E=Os(m,y);E.tag=1,E.payload=a,d!=null&&(E.callback=d),a=wi(i,E,y),a!==null&&(Pr(a,i,y,m),lh(a,i,y))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var d=_n(),m=Ti(i),y=Os(d,m);y.tag=2,a!=null&&(y.callback=a),a=wi(i,y,m),a!==null&&(Pr(a,i,m,d),lh(a,i,m))}};function D_(i,a,d,m,y,E,N){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,E,N):a.prototype&&a.prototype.isPureReactComponent?!Ic(d,m)||!Ic(y,E):!0}function M_(i,a,d){var m=!1,y=vi,E=a.contextType;return typeof E=="object"&&E!==null?E=or(E):(y=Rn(a)?Co:sn.current,m=a.contextTypes,E=(m=m!=null)?Ka(i,y):vi),a=new a(d,E),i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=gh,i.stateNode=a,a._reactInternals=i,m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=y,i.__reactInternalMemoizedMaskedChildContext=E),a}function O_(i,a,d,m){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(d,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(d,m),a.state!==i&&gh.enqueueReplaceState(a,a.state,null)}function Zm(i,a,d,m){var y=i.stateNode;y.props=d,y.state=i.memoizedState,y.refs={},Fm(i);var E=a.contextType;typeof E=="object"&&E!==null?y.context=or(E):(E=Rn(a)?Co:sn.current,y.context=Ka(i,E)),y.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Jm(i,a,E,d),y.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(a=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),a!==y.state&&gh.enqueueReplaceState(y,y.state,null),ch(i,d,y,m),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308)}function el(i,a){try{var d="",m=a;do d+=ce(m),m=m.return;while(m);var y=d}catch(E){y=`
Error generating stack: `+E.message+`
`+E.stack}return{value:i,source:a,stack:y,digest:null}}function eg(i,a,d){return{value:i,source:null,stack:d??null,digest:a??null}}function tg(i,a){try{console.error(a.value)}catch(d){setTimeout(function(){throw d})}}var h2=typeof WeakMap=="function"?WeakMap:Map;function V_(i,a,d){d=Os(-1,d),d.tag=3,d.payload={element:null};var m=a.value;return d.callback=function(){bh||(bh=!0,gg=m),tg(i,a)},d}function L_(i,a,d){d=Os(-1,d),d.tag=3;var m=i.type.getDerivedStateFromError;if(typeof m=="function"){var y=a.value;d.payload=function(){return m(y)},d.callback=function(){tg(i,a)}}var E=i.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(d.callback=function(){tg(i,a),typeof m!="function"&&(Ei===null?Ei=new Set([this]):Ei.add(this));var N=a.stack;this.componentDidCatch(a.value,{componentStack:N!==null?N:""})}),d}function F_(i,a,d){var m=i.pingCache;if(m===null){m=i.pingCache=new h2;var y=new Set;m.set(a,y)}else y=m.get(a),y===void 0&&(y=new Set,m.set(a,y));y.has(d)||(y.add(d),i=C2.bind(null,i,a,d),a.then(i,i))}function U_(i){do{var a;if((a=i.tag===13)&&(a=i.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return i;i=i.return}while(i!==null);return null}function $_(i,a,d,m,y){return(i.mode&1)===0?(i===a?i.flags|=65536:(i.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(a=Os(-1,1),a.tag=2,wi(d,a,1))),d.lanes|=1),i):(i.flags|=65536,i.lanes=y,i)}var f2=$.ReactCurrentOwner,kn=!1;function wn(i,a,d,m){a.child=i===null?a_(a,null,d,m):Ya(a,i.child,d,m)}function B_(i,a,d,m,y){d=d.render;var E=a.ref;return Ja(a,y),m=Km(i,a,d,m,E,y),d=qm(),i!==null&&!kn?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~y,Vs(i,a,y)):(gt&&d&&Am(a),a.flags|=1,wn(i,a,m,y),a.child)}function z_(i,a,d,m,y){if(i===null){var E=d.type;return typeof E=="function"&&!bg(E)&&E.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(a.tag=15,a.type=E,W_(i,a,E,m,y)):(i=Ah(d.type,null,m,a,a.mode,y),i.ref=a.ref,i.return=a,a.child=i)}if(E=i.child,(i.lanes&y)===0){var N=E.memoizedProps;if(d=d.compare,d=d!==null?d:Ic,d(N,m)&&i.ref===a.ref)return Vs(i,a,y)}return a.flags|=1,i=Ci(E,m),i.ref=a.ref,i.return=a,a.child=i}function W_(i,a,d,m,y){if(i!==null){var E=i.memoizedProps;if(Ic(E,m)&&i.ref===a.ref)if(kn=!1,a.pendingProps=m=E,(i.lanes&y)!==0)(i.flags&131072)!==0&&(kn=!0);else return a.lanes=i.lanes,Vs(i,a,y)}return ng(i,a,d,m,y)}function H_(i,a,d){var m=a.pendingProps,y=m.children,E=i!==null?i.memoizedState:null;if(m.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},ct(nl,qn),qn|=d;else{if((d&1073741824)===0)return i=E!==null?E.baseLanes|d:d,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:i,cachePool:null,transitions:null},a.updateQueue=null,ct(nl,qn),qn|=i,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=E!==null?E.baseLanes:d,ct(nl,qn),qn|=m}else E!==null?(m=E.baseLanes|d,a.memoizedState=null):m=d,ct(nl,qn),qn|=m;return wn(i,a,y,d),a.child}function K_(i,a){var d=a.ref;(i===null&&d!==null||i!==null&&i.ref!==d)&&(a.flags|=512,a.flags|=2097152)}function ng(i,a,d,m,y){var E=Rn(d)?Co:sn.current;return E=Ka(a,E),Ja(a,y),d=Km(i,a,d,m,E,y),m=qm(),i!==null&&!kn?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~y,Vs(i,a,y)):(gt&&m&&Am(a),a.flags|=1,wn(i,a,d,y),a.child)}function q_(i,a,d,m,y){if(Rn(d)){var E=!0;eh(a)}else E=!1;if(Ja(a,y),a.stateNode===null)yh(i,a),M_(a,d,m),Zm(a,d,m,y),m=!0;else if(i===null){var N=a.stateNode,U=a.memoizedProps;N.props=U;var H=N.context,ne=d.contextType;typeof ne=="object"&&ne!==null?ne=or(ne):(ne=Rn(d)?Co:sn.current,ne=Ka(a,ne));var he=d.getDerivedStateFromProps,pe=typeof he=="function"||typeof N.getSnapshotBeforeUpdate=="function";pe||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(U!==m||H!==ne)&&O_(a,N,m,ne),xi=!1;var de=a.memoizedState;N.state=de,ch(a,m,N,y),H=a.memoizedState,U!==m||de!==H||Pn.current||xi?(typeof he=="function"&&(Jm(a,d,he,m),H=a.memoizedState),(U=xi||D_(a,d,U,m,de,H,ne))?(pe||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(a.flags|=4194308)):(typeof N.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=H),N.props=m,N.state=H,N.context=ne,m=U):(typeof N.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{N=a.stateNode,c_(i,a),U=a.memoizedProps,ne=a.type===a.elementType?U:Ir(a.type,U),N.props=ne,pe=a.pendingProps,de=N.context,H=d.contextType,typeof H=="object"&&H!==null?H=or(H):(H=Rn(d)?Co:sn.current,H=Ka(a,H));var we=d.getDerivedStateFromProps;(he=typeof we=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(U!==pe||de!==H)&&O_(a,N,m,H),xi=!1,de=a.memoizedState,N.state=de,ch(a,m,N,y);var Ce=a.memoizedState;U!==pe||de!==Ce||Pn.current||xi?(typeof we=="function"&&(Jm(a,d,we,m),Ce=a.memoizedState),(ne=xi||D_(a,d,ne,m,de,Ce,H)||!1)?(he||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(m,Ce,H),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(m,Ce,H)),typeof N.componentDidUpdate=="function"&&(a.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof N.componentDidUpdate!="function"||U===i.memoizedProps&&de===i.memoizedState||(a.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||U===i.memoizedProps&&de===i.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=Ce),N.props=m,N.state=Ce,N.context=H,m=ne):(typeof N.componentDidUpdate!="function"||U===i.memoizedProps&&de===i.memoizedState||(a.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||U===i.memoizedProps&&de===i.memoizedState||(a.flags|=1024),m=!1)}return rg(i,a,d,m,E,y)}function rg(i,a,d,m,y,E){K_(i,a);var N=(a.flags&128)!==0;if(!m&&!N)return y&&Jw(a,d,!1),Vs(i,a,E);m=a.stateNode,f2.current=a;var U=N&&typeof d.getDerivedStateFromError!="function"?null:m.render();return a.flags|=1,i!==null&&N?(a.child=Ya(a,i.child,null,E),a.child=Ya(a,null,U,E)):wn(i,a,U,E),a.memoizedState=m.state,y&&Jw(a,d,!0),a.child}function G_(i){var a=i.stateNode;a.pendingContext?Yw(i,a.pendingContext,a.pendingContext!==a.context):a.context&&Yw(i,a.context,!1),Um(i,a.containerInfo)}function Q_(i,a,d,m,y){return Qa(),jm(y),a.flags|=256,wn(i,a,d,m),a.child}var sg={dehydrated:null,treeContext:null,retryLane:0};function ig(i){return{baseLanes:i,cachePool:null,transitions:null}}function Y_(i,a,d){var m=a.pendingProps,y=vt.current,E=!1,N=(a.flags&128)!==0,U;if((U=N)||(U=i!==null&&i.memoizedState===null?!1:(y&2)!==0),U?(E=!0,a.flags&=-129):(i===null||i.memoizedState!==null)&&(y|=1),ct(vt,y&1),i===null)return km(a),i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((a.mode&1)===0?a.lanes=1:i.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(N=m.children,i=m.fallback,E?(m=a.mode,E=a.child,N={mode:"hidden",children:N},(m&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=N):E=Ph(N,m,0,null),i=Oo(i,m,d,null),E.return=a,i.return=a,E.sibling=i,a.child=E,a.child.memoizedState=ig(d),a.memoizedState=sg,i):og(a,N));if(y=i.memoizedState,y!==null&&(U=y.dehydrated,U!==null))return p2(i,a,N,m,U,y,d);if(E){E=m.fallback,N=a.mode,y=i.child,U=y.sibling;var H={mode:"hidden",children:m.children};return(N&1)===0&&a.child!==y?(m=a.child,m.childLanes=0,m.pendingProps=H,a.deletions=null):(m=Ci(y,H),m.subtreeFlags=y.subtreeFlags&14680064),U!==null?E=Ci(U,E):(E=Oo(E,N,d,null),E.flags|=2),E.return=a,m.return=a,m.sibling=E,a.child=m,m=E,E=a.child,N=i.child.memoizedState,N=N===null?ig(d):{baseLanes:N.baseLanes|d,cachePool:null,transitions:N.transitions},E.memoizedState=N,E.childLanes=i.childLanes&~d,a.memoizedState=sg,m}return E=i.child,i=E.sibling,m=Ci(E,{mode:"visible",children:m.children}),(a.mode&1)===0&&(m.lanes=d),m.return=a,m.sibling=null,i!==null&&(d=a.deletions,d===null?(a.deletions=[i],a.flags|=16):d.push(i)),a.child=m,a.memoizedState=null,m}function og(i,a){return a=Ph({mode:"visible",children:a},i.mode,0,null),a.return=i,i.child=a}function vh(i,a,d,m){return m!==null&&jm(m),Ya(a,i.child,null,d),i=og(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function p2(i,a,d,m,y,E,N){if(d)return a.flags&256?(a.flags&=-257,m=eg(Error(n(422))),vh(i,a,N,m)):a.memoizedState!==null?(a.child=i.child,a.flags|=128,null):(E=m.fallback,y=a.mode,m=Ph({mode:"visible",children:m.children},y,0,null),E=Oo(E,y,N,null),E.flags|=2,m.return=a,E.return=a,m.sibling=E,a.child=m,(a.mode&1)!==0&&Ya(a,i.child,null,N),a.child.memoizedState=ig(N),a.memoizedState=sg,E);if((a.mode&1)===0)return vh(i,a,N,null);if(y.data==="$!"){if(m=y.nextSibling&&y.nextSibling.dataset,m)var U=m.dgst;return m=U,E=Error(n(419)),m=eg(E,m,void 0),vh(i,a,N,m)}if(U=(N&i.childLanes)!==0,kn||U){if(m=Wt,m!==null){switch(N&-N){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(m.suspendedLanes|N))!==0?0:y,y!==0&&y!==E.retryLane&&(E.retryLane=y,Ms(i,y),Pr(m,i,y,-1))}return Eg(),m=eg(Error(n(421))),vh(i,a,N,m)}return y.data==="$?"?(a.flags|=128,a.child=i.child,a=I2.bind(null,i),y._reactRetry=a,null):(i=E.treeContext,Kn=mi(y.nextSibling),Hn=a,gt=!0,Cr=null,i!==null&&(sr[ir++]=js,sr[ir++]=Ds,sr[ir++]=Io,js=i.id,Ds=i.overflow,Io=a),a=og(a,m.children),a.flags|=4096,a)}function X_(i,a,d){i.lanes|=a;var m=i.alternate;m!==null&&(m.lanes|=a),Vm(i.return,a,d)}function ag(i,a,d,m,y){var E=i.memoizedState;E===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:y}:(E.isBackwards=a,E.rendering=null,E.renderingStartTime=0,E.last=m,E.tail=d,E.tailMode=y)}function J_(i,a,d){var m=a.pendingProps,y=m.revealOrder,E=m.tail;if(wn(i,a,m.children,d),m=vt.current,(m&2)!==0)m=m&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&X_(i,d,a);else if(i.tag===19)X_(i,d,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}m&=1}if(ct(vt,m),(a.mode&1)===0)a.memoizedState=null;else switch(y){case"forwards":for(d=a.child,y=null;d!==null;)i=d.alternate,i!==null&&uh(i)===null&&(y=d),d=d.sibling;d=y,d===null?(y=a.child,a.child=null):(y=d.sibling,d.sibling=null),ag(a,!1,y,d,E);break;case"backwards":for(d=null,y=a.child,a.child=null;y!==null;){if(i=y.alternate,i!==null&&uh(i)===null){a.child=y;break}i=y.sibling,y.sibling=d,d=y,y=i}ag(a,!0,d,null,E);break;case"together":ag(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function yh(i,a){(a.mode&1)===0&&i!==null&&(i.alternate=null,a.alternate=null,a.flags|=2)}function Vs(i,a,d){if(i!==null&&(a.dependencies=i.dependencies),ko|=a.lanes,(d&a.childLanes)===0)return null;if(i!==null&&a.child!==i.child)throw Error(n(153));if(a.child!==null){for(i=a.child,d=Ci(i,i.pendingProps),a.child=d,d.return=a;i.sibling!==null;)i=i.sibling,d=d.sibling=Ci(i,i.pendingProps),d.return=a;d.sibling=null}return a.child}function m2(i,a,d){switch(a.tag){case 3:G_(a),Qa();break;case 5:h_(a);break;case 1:Rn(a.type)&&eh(a);break;case 4:Um(a,a.stateNode.containerInfo);break;case 10:var m=a.type._context,y=a.memoizedProps.value;ct(oh,m._currentValue),m._currentValue=y;break;case 13:if(m=a.memoizedState,m!==null)return m.dehydrated!==null?(ct(vt,vt.current&1),a.flags|=128,null):(d&a.child.childLanes)!==0?Y_(i,a,d):(ct(vt,vt.current&1),i=Vs(i,a,d),i!==null?i.sibling:null);ct(vt,vt.current&1);break;case 19:if(m=(d&a.childLanes)!==0,(i.flags&128)!==0){if(m)return J_(i,a,d);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ct(vt,vt.current),m)break;return null;case 22:case 23:return a.lanes=0,H_(i,a,d)}return Vs(i,a,d)}var Z_,lg,eE,tE;Z_=function(i,a){for(var d=a.child;d!==null;){if(d.tag===5||d.tag===6)i.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},lg=function(){},eE=function(i,a,d,m){var y=i.memoizedProps;if(y!==m){i=a.stateNode,Po(Xr.current);var E=null;switch(d){case"input":y=$r(i,y),m=$r(i,m),E=[];break;case"select":y=K({},y,{value:void 0}),m=K({},m,{value:void 0}),E=[];break;case"textarea":y=nc(i,y),m=nc(i,m),E=[];break;default:typeof y.onClick!="function"&&typeof m.onClick=="function"&&(i.onclick=Xd)}lc(d,m);var N;d=null;for(ne in y)if(!m.hasOwnProperty(ne)&&y.hasOwnProperty(ne)&&y[ne]!=null)if(ne==="style"){var U=y[ne];for(N in U)U.hasOwnProperty(N)&&(d||(d={}),d[N]="")}else ne!=="dangerouslySetInnerHTML"&&ne!=="children"&&ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&ne!=="autoFocus"&&(s.hasOwnProperty(ne)?E||(E=[]):(E=E||[]).push(ne,null));for(ne in m){var H=m[ne];if(U=y?.[ne],m.hasOwnProperty(ne)&&H!==U&&(H!=null||U!=null))if(ne==="style")if(U){for(N in U)!U.hasOwnProperty(N)||H&&H.hasOwnProperty(N)||(d||(d={}),d[N]="");for(N in H)H.hasOwnProperty(N)&&U[N]!==H[N]&&(d||(d={}),d[N]=H[N])}else d||(E||(E=[]),E.push(ne,d)),d=H;else ne==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,U=U?U.__html:void 0,H!=null&&U!==H&&(E=E||[]).push(ne,H)):ne==="children"?typeof H!="string"&&typeof H!="number"||(E=E||[]).push(ne,""+H):ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&(s.hasOwnProperty(ne)?(H!=null&&ne==="onScroll"&&dt("scroll",i),E||U===H||(E=[])):(E=E||[]).push(ne,H))}d&&(E=E||[]).push("style",d);var ne=E;(a.updateQueue=ne)&&(a.flags|=4)}},tE=function(i,a,d,m){d!==m&&(a.flags|=4)};function Bc(i,a){if(!gt)switch(i.tailMode){case"hidden":a=i.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function an(i){var a=i.alternate!==null&&i.alternate.child===i.child,d=0,m=0;if(a)for(var y=i.child;y!==null;)d|=y.lanes|y.childLanes,m|=y.subtreeFlags&14680064,m|=y.flags&14680064,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)d|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=m,i.childLanes=d,a}function g2(i,a,d){var m=a.pendingProps;switch(Pm(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(a),null;case 1:return Rn(a.type)&&Zd(),an(a),null;case 3:return m=a.stateNode,Za(),ht(Pn),ht(sn),zm(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(i===null||i.child===null)&&(sh(a)?a.flags|=4:i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Cr!==null&&(xg(Cr),Cr=null))),lg(i,a),an(a),null;case 5:$m(a);var y=Po(Vc.current);if(d=a.type,i!==null&&a.stateNode!=null)eE(i,a,d,m,y),i.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!m){if(a.stateNode===null)throw Error(n(166));return an(a),null}if(i=Po(Xr.current),sh(a)){m=a.stateNode,d=a.type;var E=a.memoizedProps;switch(m[Yr]=a,m[kc]=E,i=(a.mode&1)!==0,d){case"dialog":dt("cancel",m),dt("close",m);break;case"iframe":case"object":case"embed":dt("load",m);break;case"video":case"audio":for(y=0;y<Ac.length;y++)dt(Ac[y],m);break;case"source":dt("error",m);break;case"img":case"image":case"link":dt("error",m),dt("load",m);break;case"details":dt("toggle",m);break;case"input":Br(m,E),dt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!E.multiple},dt("invalid",m);break;case"textarea":ga(m,E),dt("invalid",m)}lc(d,E),y=null;for(var N in E)if(E.hasOwnProperty(N)){var U=E[N];N==="children"?typeof U=="string"?m.textContent!==U&&(E.suppressHydrationWarning!==!0&&Yd(m.textContent,U,i),y=["children",U]):typeof U=="number"&&m.textContent!==""+U&&(E.suppressHydrationWarning!==!0&&Yd(m.textContent,U,i),y=["children",""+U]):s.hasOwnProperty(N)&&U!=null&&N==="onScroll"&&dt("scroll",m)}switch(d){case"input":Gt(m),Ed(m,E,!0);break;case"textarea":Gt(m),rc(m);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(m.onclick=Xd)}m=y,a.updateQueue=m,m!==null&&(a.flags|=4)}else{N=y.nodeType===9?y:y.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Dt(d)),i==="http://www.w3.org/1999/xhtml"?d==="script"?(i=N.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof m.is=="string"?i=N.createElement(d,{is:m.is}):(i=N.createElement(d),d==="select"&&(N=i,m.multiple?N.multiple=!0:m.size&&(N.size=m.size))):i=N.createElementNS(i,d),i[Yr]=a,i[kc]=m,Z_(i,a,!1,!1),a.stateNode=i;e:{switch(N=cc(d,m),d){case"dialog":dt("cancel",i),dt("close",i),y=m;break;case"iframe":case"object":case"embed":dt("load",i),y=m;break;case"video":case"audio":for(y=0;y<Ac.length;y++)dt(Ac[y],i);y=m;break;case"source":dt("error",i),y=m;break;case"img":case"image":case"link":dt("error",i),dt("load",i),y=m;break;case"details":dt("toggle",i),y=m;break;case"input":Br(i,m),y=$r(i,m),dt("invalid",i);break;case"option":y=m;break;case"select":i._wrapperState={wasMultiple:!!m.multiple},y=K({},m,{value:void 0}),dt("invalid",i);break;case"textarea":ga(i,m),y=nc(i,m),dt("invalid",i);break;default:y=m}lc(d,y),U=y;for(E in U)if(U.hasOwnProperty(E)){var H=U[E];E==="style"?oc(i,H):E==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&sc(i,H)):E==="children"?typeof H=="string"?(d!=="textarea"||H!=="")&&si(i,H):typeof H=="number"&&si(i,""+H):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(s.hasOwnProperty(E)?H!=null&&E==="onScroll"&&dt("scroll",i):H!=null&&O(i,E,H,N))}switch(d){case"input":Gt(i),Ed(i,m,!1);break;case"textarea":Gt(i),rc(i);break;case"option":m.value!=null&&i.setAttribute("value",""+xe(m.value));break;case"select":i.multiple=!!m.multiple,E=m.value,E!=null?bs(i,!!m.multiple,E,!1):m.defaultValue!=null&&bs(i,!!m.multiple,m.defaultValue,!0);break;default:typeof y.onClick=="function"&&(i.onclick=Xd)}switch(d){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return an(a),null;case 6:if(i&&a.stateNode!=null)tE(i,a,i.memoizedProps,m);else{if(typeof m!="string"&&a.stateNode===null)throw Error(n(166));if(d=Po(Vc.current),Po(Xr.current),sh(a)){if(m=a.stateNode,d=a.memoizedProps,m[Yr]=a,(E=m.nodeValue!==d)&&(i=Hn,i!==null))switch(i.tag){case 3:Yd(m.nodeValue,d,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Yd(m.nodeValue,d,(i.mode&1)!==0)}E&&(a.flags|=4)}else m=(d.nodeType===9?d:d.ownerDocument).createTextNode(m),m[Yr]=a,a.stateNode=m}return an(a),null;case 13:if(ht(vt),m=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(gt&&Kn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)s_(),Qa(),a.flags|=98560,E=!1;else if(E=sh(a),m!==null&&m.dehydrated!==null){if(i===null){if(!E)throw Error(n(318));if(E=a.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[Yr]=a}else Qa(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;an(a),E=!1}else Cr!==null&&(xg(Cr),Cr=null),E=!0;if(!E)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=d,a):(m=m!==null,m!==(i!==null&&i.memoizedState!==null)&&m&&(a.child.flags|=8192,(a.mode&1)!==0&&(i===null||(vt.current&1)!==0?Lt===0&&(Lt=3):Eg())),a.updateQueue!==null&&(a.flags|=4),an(a),null);case 4:return Za(),lg(i,a),i===null&&Pc(a.stateNode.containerInfo),an(a),null;case 10:return Om(a.type._context),an(a),null;case 17:return Rn(a.type)&&Zd(),an(a),null;case 19:if(ht(vt),E=a.memoizedState,E===null)return an(a),null;if(m=(a.flags&128)!==0,N=E.rendering,N===null)if(m)Bc(E,!1);else{if(Lt!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(N=uh(i),N!==null){for(a.flags|=128,Bc(E,!1),m=N.updateQueue,m!==null&&(a.updateQueue=m,a.flags|=4),a.subtreeFlags=0,m=d,d=a.child;d!==null;)E=d,i=m,E.flags&=14680066,N=E.alternate,N===null?(E.childLanes=0,E.lanes=i,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=N.childLanes,E.lanes=N.lanes,E.child=N.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=N.memoizedProps,E.memoizedState=N.memoizedState,E.updateQueue=N.updateQueue,E.type=N.type,i=N.dependencies,E.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),d=d.sibling;return ct(vt,vt.current&1|2),a.child}i=i.sibling}E.tail!==null&&lt()>rl&&(a.flags|=128,m=!0,Bc(E,!1),a.lanes=4194304)}else{if(!m)if(i=uh(N),i!==null){if(a.flags|=128,m=!0,d=i.updateQueue,d!==null&&(a.updateQueue=d,a.flags|=4),Bc(E,!0),E.tail===null&&E.tailMode==="hidden"&&!N.alternate&&!gt)return an(a),null}else 2*lt()-E.renderingStartTime>rl&&d!==1073741824&&(a.flags|=128,m=!0,Bc(E,!1),a.lanes=4194304);E.isBackwards?(N.sibling=a.child,a.child=N):(d=E.last,d!==null?d.sibling=N:a.child=N,E.last=N)}return E.tail!==null?(a=E.tail,E.rendering=a,E.tail=a.sibling,E.renderingStartTime=lt(),a.sibling=null,d=vt.current,ct(vt,m?d&1|2:d&1),a):(an(a),null);case 22:case 23:return _g(),m=a.memoizedState!==null,i!==null&&i.memoizedState!==null!==m&&(a.flags|=8192),m&&(a.mode&1)!==0?(qn&1073741824)!==0&&(an(a),a.subtreeFlags&6&&(a.flags|=8192)):an(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function v2(i,a){switch(Pm(a),a.tag){case 1:return Rn(a.type)&&Zd(),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Za(),ht(Pn),ht(sn),zm(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 5:return $m(a),null;case 13:if(ht(vt),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(n(340));Qa()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return ht(vt),null;case 4:return Za(),null;case 10:return Om(a.type._context),null;case 22:case 23:return _g(),null;case 24:return null;default:return null}}var xh=!1,ln=!1,y2=typeof WeakSet=="function"?WeakSet:Set,Se=null;function tl(i,a){var d=i.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(m){Et(i,a,m)}else d.current=null}function cg(i,a,d){try{d()}catch(m){Et(i,a,m)}}var nE=!1;function x2(i,a){if(_m=hi,i=Dw(),fm(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else e:{d=(d=i.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var y=m.anchorOffset,E=m.focusNode;m=m.focusOffset;try{d.nodeType,E.nodeType}catch{d=null;break e}var N=0,U=-1,H=-1,ne=0,he=0,pe=i,de=null;t:for(;;){for(var we;pe!==d||y!==0&&pe.nodeType!==3||(U=N+y),pe!==E||m!==0&&pe.nodeType!==3||(H=N+m),pe.nodeType===3&&(N+=pe.nodeValue.length),(we=pe.firstChild)!==null;)de=pe,pe=we;for(;;){if(pe===i)break t;if(de===d&&++ne===y&&(U=N),de===E&&++he===m&&(H=N),(we=pe.nextSibling)!==null)break;pe=de,de=pe.parentNode}pe=we}d=U===-1||H===-1?null:{start:U,end:H}}else d=null}d=d||{start:0,end:0}}else d=null;for(Em={focusedElem:i,selectionRange:d},hi=!1,Se=a;Se!==null;)if(a=Se,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,Se=i;else for(;Se!==null;){a=Se;try{var Ce=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Ce!==null){var Ie=Ce.memoizedProps,St=Ce.memoizedState,J=a.stateNode,G=J.getSnapshotBeforeUpdate(a.elementType===a.type?Ie:Ir(a.type,Ie),St);J.__reactInternalSnapshotBeforeUpdate=G}break;case 3:var ee=a.stateNode.containerInfo;ee.nodeType===1?ee.textContent="":ee.nodeType===9&&ee.documentElement&&ee.removeChild(ee.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(me){Et(a,a.return,me)}if(i=a.sibling,i!==null){i.return=a.return,Se=i;break}Se=a.return}return Ce=nE,nE=!1,Ce}function zc(i,a,d){var m=a.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var y=m=m.next;do{if((y.tag&i)===i){var E=y.destroy;y.destroy=void 0,E!==void 0&&cg(a,d,E)}y=y.next}while(y!==m)}}function wh(i,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var d=a=a.next;do{if((d.tag&i)===i){var m=d.create;d.destroy=m()}d=d.next}while(d!==a)}}function ug(i){var a=i.ref;if(a!==null){var d=i.stateNode;switch(i.tag){case 5:i=d;break;default:i=d}typeof a=="function"?a(i):a.current=i}}function rE(i){var a=i.alternate;a!==null&&(i.alternate=null,rE(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&(delete a[Yr],delete a[kc],delete a[Cm],delete a[t2],delete a[n2])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function sE(i){return i.tag===5||i.tag===3||i.tag===4}function iE(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||sE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function dg(i,a,d){var m=i.tag;if(m===5||m===6)i=i.stateNode,a?d.nodeType===8?d.parentNode.insertBefore(i,a):d.insertBefore(i,a):(d.nodeType===8?(a=d.parentNode,a.insertBefore(i,d)):(a=d,a.appendChild(i)),d=d._reactRootContainer,d!=null||a.onclick!==null||(a.onclick=Xd));else if(m!==4&&(i=i.child,i!==null))for(dg(i,a,d),i=i.sibling;i!==null;)dg(i,a,d),i=i.sibling}function hg(i,a,d){var m=i.tag;if(m===5||m===6)i=i.stateNode,a?d.insertBefore(i,a):d.appendChild(i);else if(m!==4&&(i=i.child,i!==null))for(hg(i,a,d),i=i.sibling;i!==null;)hg(i,a,d),i=i.sibling}var Xt=null,Nr=!1;function _i(i,a,d){for(d=d.child;d!==null;)oE(i,a,d),d=d.sibling}function oE(i,a,d){if($n&&typeof $n.onCommitFiberUnmount=="function")try{$n.onCommitFiberUnmount(yo,d)}catch{}switch(d.tag){case 5:ln||tl(d,a);case 6:var m=Xt,y=Nr;Xt=null,_i(i,a,d),Xt=m,Nr=y,Xt!==null&&(Nr?(i=Xt,d=d.stateNode,i.nodeType===8?i.parentNode.removeChild(d):i.removeChild(d)):Xt.removeChild(d.stateNode));break;case 18:Xt!==null&&(Nr?(i=Xt,d=d.stateNode,i.nodeType===8?Sm(i.parentNode,d):i.nodeType===1&&Sm(i,d),br(i)):Sm(Xt,d.stateNode));break;case 4:m=Xt,y=Nr,Xt=d.stateNode.containerInfo,Nr=!0,_i(i,a,d),Xt=m,Nr=y;break;case 0:case 11:case 14:case 15:if(!ln&&(m=d.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){y=m=m.next;do{var E=y,N=E.destroy;E=E.tag,N!==void 0&&((E&2)!==0||(E&4)!==0)&&cg(d,a,N),y=y.next}while(y!==m)}_i(i,a,d);break;case 1:if(!ln&&(tl(d,a),m=d.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=d.memoizedProps,m.state=d.memoizedState,m.componentWillUnmount()}catch(U){Et(d,a,U)}_i(i,a,d);break;case 21:_i(i,a,d);break;case 22:d.mode&1?(ln=(m=ln)||d.memoizedState!==null,_i(i,a,d),ln=m):_i(i,a,d);break;default:_i(i,a,d)}}function aE(i){var a=i.updateQueue;if(a!==null){i.updateQueue=null;var d=i.stateNode;d===null&&(d=i.stateNode=new y2),a.forEach(function(m){var y=N2.bind(null,i,m);d.has(m)||(d.add(m),m.then(y,y))})}}function Ar(i,a){var d=a.deletions;if(d!==null)for(var m=0;m<d.length;m++){var y=d[m];try{var E=i,N=a,U=N;e:for(;U!==null;){switch(U.tag){case 5:Xt=U.stateNode,Nr=!1;break e;case 3:Xt=U.stateNode.containerInfo,Nr=!0;break e;case 4:Xt=U.stateNode.containerInfo,Nr=!0;break e}U=U.return}if(Xt===null)throw Error(n(160));oE(E,N,y),Xt=null,Nr=!1;var H=y.alternate;H!==null&&(H.return=null),y.return=null}catch(ne){Et(y,a,ne)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)lE(a,i),a=a.sibling}function lE(i,a){var d=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Ar(a,i),Zr(i),m&4){try{zc(3,i,i.return),wh(3,i)}catch(Ie){Et(i,i.return,Ie)}try{zc(5,i,i.return)}catch(Ie){Et(i,i.return,Ie)}}break;case 1:Ar(a,i),Zr(i),m&512&&d!==null&&tl(d,d.return);break;case 5:if(Ar(a,i),Zr(i),m&512&&d!==null&&tl(d,d.return),i.flags&32){var y=i.stateNode;try{si(y,"")}catch(Ie){Et(i,i.return,Ie)}}if(m&4&&(y=i.stateNode,y!=null)){var E=i.memoizedProps,N=d!==null?d.memoizedProps:E,U=i.type,H=i.updateQueue;if(i.updateQueue=null,H!==null)try{U==="input"&&E.type==="radio"&&E.name!=null&&ec(y,E),cc(U,N);var ne=cc(U,E);for(N=0;N<H.length;N+=2){var he=H[N],pe=H[N+1];he==="style"?oc(y,pe):he==="dangerouslySetInnerHTML"?sc(y,pe):he==="children"?si(y,pe):O(y,he,pe,ne)}switch(U){case"input":tc(y,E);break;case"textarea":va(y,E);break;case"select":var de=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!E.multiple;var we=E.value;we!=null?bs(y,!!E.multiple,we,!1):de!==!!E.multiple&&(E.defaultValue!=null?bs(y,!!E.multiple,E.defaultValue,!0):bs(y,!!E.multiple,E.multiple?[]:"",!1))}y[kc]=E}catch(Ie){Et(i,i.return,Ie)}}break;case 6:if(Ar(a,i),Zr(i),m&4){if(i.stateNode===null)throw Error(n(162));y=i.stateNode,E=i.memoizedProps;try{y.nodeValue=E}catch(Ie){Et(i,i.return,Ie)}}break;case 3:if(Ar(a,i),Zr(i),m&4&&d!==null&&d.memoizedState.isDehydrated)try{br(a.containerInfo)}catch(Ie){Et(i,i.return,Ie)}break;case 4:Ar(a,i),Zr(i);break;case 13:Ar(a,i),Zr(i),y=i.child,y.flags&8192&&(E=y.memoizedState!==null,y.stateNode.isHidden=E,!E||y.alternate!==null&&y.alternate.memoizedState!==null||(mg=lt())),m&4&&aE(i);break;case 22:if(he=d!==null&&d.memoizedState!==null,i.mode&1?(ln=(ne=ln)||he,Ar(a,i),ln=ne):Ar(a,i),Zr(i),m&8192){if(ne=i.memoizedState!==null,(i.stateNode.isHidden=ne)&&!he&&(i.mode&1)!==0)for(Se=i,he=i.child;he!==null;){for(pe=Se=he;Se!==null;){switch(de=Se,we=de.child,de.tag){case 0:case 11:case 14:case 15:zc(4,de,de.return);break;case 1:tl(de,de.return);var Ce=de.stateNode;if(typeof Ce.componentWillUnmount=="function"){m=de,d=de.return;try{a=m,Ce.props=a.memoizedProps,Ce.state=a.memoizedState,Ce.componentWillUnmount()}catch(Ie){Et(m,d,Ie)}}break;case 5:tl(de,de.return);break;case 22:if(de.memoizedState!==null){dE(pe);continue}}we!==null?(we.return=de,Se=we):dE(pe)}he=he.sibling}e:for(he=null,pe=i;;){if(pe.tag===5){if(he===null){he=pe;try{y=pe.stateNode,ne?(E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(U=pe.stateNode,H=pe.memoizedProps.style,N=H!=null&&H.hasOwnProperty("display")?H.display:null,U.style.display=ic("display",N))}catch(Ie){Et(i,i.return,Ie)}}}else if(pe.tag===6){if(he===null)try{pe.stateNode.nodeValue=ne?"":pe.memoizedProps}catch(Ie){Et(i,i.return,Ie)}}else if((pe.tag!==22&&pe.tag!==23||pe.memoizedState===null||pe===i)&&pe.child!==null){pe.child.return=pe,pe=pe.child;continue}if(pe===i)break e;for(;pe.sibling===null;){if(pe.return===null||pe.return===i)break e;he===pe&&(he=null),pe=pe.return}he===pe&&(he=null),pe.sibling.return=pe.return,pe=pe.sibling}}break;case 19:Ar(a,i),Zr(i),m&4&&aE(i);break;case 21:break;default:Ar(a,i),Zr(i)}}function Zr(i){var a=i.flags;if(a&2){try{e:{for(var d=i.return;d!==null;){if(sE(d)){var m=d;break e}d=d.return}throw Error(n(160))}switch(m.tag){case 5:var y=m.stateNode;m.flags&32&&(si(y,""),m.flags&=-33);var E=iE(i);hg(i,E,y);break;case 3:case 4:var N=m.stateNode.containerInfo,U=iE(i);dg(i,U,N);break;default:throw Error(n(161))}}catch(H){Et(i,i.return,H)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function w2(i,a,d){Se=i,cE(i)}function cE(i,a,d){for(var m=(i.mode&1)!==0;Se!==null;){var y=Se,E=y.child;if(y.tag===22&&m){var N=y.memoizedState!==null||xh;if(!N){var U=y.alternate,H=U!==null&&U.memoizedState!==null||ln;U=xh;var ne=ln;if(xh=N,(ln=H)&&!ne)for(Se=y;Se!==null;)N=Se,H=N.child,N.tag===22&&N.memoizedState!==null?hE(y):H!==null?(H.return=N,Se=H):hE(y);for(;E!==null;)Se=E,cE(E),E=E.sibling;Se=y,xh=U,ln=ne}uE(i)}else(y.subtreeFlags&8772)!==0&&E!==null?(E.return=y,Se=E):uE(i)}}function uE(i){for(;Se!==null;){var a=Se;if((a.flags&8772)!==0){var d=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:ln||wh(5,a);break;case 1:var m=a.stateNode;if(a.flags&4&&!ln)if(d===null)m.componentDidMount();else{var y=a.elementType===a.type?d.memoizedProps:Ir(a.type,d.memoizedProps);m.componentDidUpdate(y,d.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var E=a.updateQueue;E!==null&&d_(a,E,m);break;case 3:var N=a.updateQueue;if(N!==null){if(d=null,a.child!==null)switch(a.child.tag){case 5:d=a.child.stateNode;break;case 1:d=a.child.stateNode}d_(a,N,d)}break;case 5:var U=a.stateNode;if(d===null&&a.flags&4){d=U;var H=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&d.focus();break;case"img":H.src&&(d.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ne=a.alternate;if(ne!==null){var he=ne.memoizedState;if(he!==null){var pe=he.dehydrated;pe!==null&&br(pe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ln||a.flags&512&&ug(a)}catch(de){Et(a,a.return,de)}}if(a===i){Se=null;break}if(d=a.sibling,d!==null){d.return=a.return,Se=d;break}Se=a.return}}function dE(i){for(;Se!==null;){var a=Se;if(a===i){Se=null;break}var d=a.sibling;if(d!==null){d.return=a.return,Se=d;break}Se=a.return}}function hE(i){for(;Se!==null;){var a=Se;try{switch(a.tag){case 0:case 11:case 15:var d=a.return;try{wh(4,a)}catch(H){Et(a,d,H)}break;case 1:var m=a.stateNode;if(typeof m.componentDidMount=="function"){var y=a.return;try{m.componentDidMount()}catch(H){Et(a,y,H)}}var E=a.return;try{ug(a)}catch(H){Et(a,E,H)}break;case 5:var N=a.return;try{ug(a)}catch(H){Et(a,N,H)}}}catch(H){Et(a,a.return,H)}if(a===i){Se=null;break}var U=a.sibling;if(U!==null){U.return=a.return,Se=U;break}Se=a.return}}var _2=Math.ceil,_h=$.ReactCurrentDispatcher,fg=$.ReactCurrentOwner,lr=$.ReactCurrentBatchConfig,et=0,Wt=null,At=null,Jt=0,qn=0,nl=gi(0),Lt=0,Wc=null,ko=0,Eh=0,pg=0,Hc=null,jn=null,mg=0,rl=1/0,Ls=null,bh=!1,gg=null,Ei=null,Th=!1,bi=null,Sh=0,Kc=0,vg=null,Ch=-1,Ih=0;function _n(){return(et&6)!==0?lt():Ch!==-1?Ch:Ch=lt()}function Ti(i){return(i.mode&1)===0?1:(et&2)!==0&&Jt!==0?Jt&-Jt:s2.transition!==null?(Ih===0&&(Ih=wo()),Ih):(i=Ye,i!==0||(i=window.event,i=i===void 0?16:wc(i.type)),i)}function Pr(i,a,d,m){if(50<Kc)throw Kc=0,vg=null,Error(n(185));li(i,d,m),((et&2)===0||i!==Wt)&&(i===Wt&&((et&2)===0&&(Eh|=d),Lt===4&&Si(i,Jt)),Dn(i,m),d===1&&et===0&&(a.mode&1)===0&&(rl=lt()+500,th&&yi()))}function Dn(i,a){var d=i.callbackNode;Cs(i,a);var m=xo(i,i===Wt?Jt:0);if(m===0)d!==null&&mc(d),i.callbackNode=null,i.callbackPriority=0;else if(a=m&-m,i.callbackPriority!==a){if(d!=null&&mc(d),a===1)i.tag===0?r2(pE.bind(null,i)):Zw(pE.bind(null,i)),Zj(function(){(et&6)===0&&yi()}),d=null;else{switch(ui(m)){case 1:d=vo;break;case 4:d=ii;break;case 16:d=tr;break;case 536870912:d=Id;break;default:d=tr}d=EE(d,fE.bind(null,i))}i.callbackPriority=a,i.callbackNode=d}}function fE(i,a){if(Ch=-1,Ih=0,(et&6)!==0)throw Error(n(327));var d=i.callbackNode;if(sl()&&i.callbackNode!==d)return null;var m=xo(i,i===Wt?Jt:0);if(m===0)return null;if((m&30)!==0||(m&i.expiredLanes)!==0||a)a=Nh(i,m);else{a=m;var y=et;et|=2;var E=gE();(Wt!==i||Jt!==a)&&(Ls=null,rl=lt()+500,Do(i,a));do try{T2();break}catch(U){mE(i,U)}while(!0);Mm(),_h.current=E,et=y,At!==null?a=0:(Wt=null,Jt=0,a=Lt)}if(a!==0){if(a===2&&(y=Bn(i),y!==0&&(m=y,a=yg(i,y))),a===1)throw d=Wc,Do(i,0),Si(i,m),Dn(i,lt()),d;if(a===6)Si(i,m);else{if(y=i.current.alternate,(m&30)===0&&!E2(y)&&(a=Nh(i,m),a===2&&(E=Bn(i),E!==0&&(m=E,a=yg(i,E))),a===1))throw d=Wc,Do(i,0),Si(i,m),Dn(i,lt()),d;switch(i.finishedWork=y,i.finishedLanes=m,a){case 0:case 1:throw Error(n(345));case 2:Mo(i,jn,Ls);break;case 3:if(Si(i,m),(m&130023424)===m&&(a=mg+500-lt(),10<a)){if(xo(i,0)!==0)break;if(y=i.suspendedLanes,(y&m)!==m){_n(),i.pingedLanes|=i.suspendedLanes&y;break}i.timeoutHandle=Tm(Mo.bind(null,i,jn,Ls),a);break}Mo(i,jn,Ls);break;case 4:if(Si(i,m),(m&4194240)===m)break;for(a=i.eventTimes,y=-1;0<m;){var N=31-yn(m);E=1<<N,N=a[N],N>y&&(y=N),m&=~E}if(m=y,m=lt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*_2(m/1960))-m,10<m){i.timeoutHandle=Tm(Mo.bind(null,i,jn,Ls),m);break}Mo(i,jn,Ls);break;case 5:Mo(i,jn,Ls);break;default:throw Error(n(329))}}}return Dn(i,lt()),i.callbackNode===d?fE.bind(null,i):null}function yg(i,a){var d=Hc;return i.current.memoizedState.isDehydrated&&(Do(i,a).flags|=256),i=Nh(i,a),i!==2&&(a=jn,jn=d,a!==null&&xg(a)),i}function xg(i){jn===null?jn=i:jn.push.apply(jn,i)}function E2(i){for(var a=i;;){if(a.flags&16384){var d=a.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var m=0;m<d.length;m++){var y=d[m],E=y.getSnapshot;y=y.value;try{if(!Sr(E(),y))return!1}catch{return!1}}}if(d=a.child,a.subtreeFlags&16384&&d!==null)d.return=a,a=d;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Si(i,a){for(a&=~pg,a&=~Eh,i.suspendedLanes|=a,i.pingedLanes&=~a,i=i.expirationTimes;0<a;){var d=31-yn(a),m=1<<d;i[d]=-1,a&=~m}}function pE(i){if((et&6)!==0)throw Error(n(327));sl();var a=xo(i,0);if((a&1)===0)return Dn(i,lt()),null;var d=Nh(i,a);if(i.tag!==0&&d===2){var m=Bn(i);m!==0&&(a=m,d=yg(i,m))}if(d===1)throw d=Wc,Do(i,0),Si(i,a),Dn(i,lt()),d;if(d===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=a,Mo(i,jn,Ls),Dn(i,lt()),null}function wg(i,a){var d=et;et|=1;try{return i(a)}finally{et=d,et===0&&(rl=lt()+500,th&&yi())}}function jo(i){bi!==null&&bi.tag===0&&(et&6)===0&&sl();var a=et;et|=1;var d=lr.transition,m=Ye;try{if(lr.transition=null,Ye=1,i)return i()}finally{Ye=m,lr.transition=d,et=a,(et&6)===0&&yi()}}function _g(){qn=nl.current,ht(nl)}function Do(i,a){i.finishedWork=null,i.finishedLanes=0;var d=i.timeoutHandle;if(d!==-1&&(i.timeoutHandle=-1,Jj(d)),At!==null)for(d=At.return;d!==null;){var m=d;switch(Pm(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Zd();break;case 3:Za(),ht(Pn),ht(sn),zm();break;case 5:$m(m);break;case 4:Za();break;case 13:ht(vt);break;case 19:ht(vt);break;case 10:Om(m.type._context);break;case 22:case 23:_g()}d=d.return}if(Wt=i,At=i=Ci(i.current,null),Jt=qn=a,Lt=0,Wc=null,pg=Eh=ko=0,jn=Hc=null,Ao!==null){for(a=0;a<Ao.length;a++)if(d=Ao[a],m=d.interleaved,m!==null){d.interleaved=null;var y=m.next,E=d.pending;if(E!==null){var N=E.next;E.next=y,m.next=N}d.pending=m}Ao=null}return i}function mE(i,a){do{var d=At;try{if(Mm(),dh.current=mh,hh){for(var m=yt.memoizedState;m!==null;){var y=m.queue;y!==null&&(y.pending=null),m=m.next}hh=!1}if(Ro=0,zt=Vt=yt=null,Lc=!1,Fc=0,fg.current=null,d===null||d.return===null){Lt=1,Wc=a,At=null;break}e:{var E=i,N=d.return,U=d,H=a;if(a=Jt,U.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var ne=H,he=U,pe=he.tag;if((he.mode&1)===0&&(pe===0||pe===11||pe===15)){var de=he.alternate;de?(he.updateQueue=de.updateQueue,he.memoizedState=de.memoizedState,he.lanes=de.lanes):(he.updateQueue=null,he.memoizedState=null)}var we=U_(N);if(we!==null){we.flags&=-257,$_(we,N,U,E,a),we.mode&1&&F_(E,ne,a),a=we,H=ne;var Ce=a.updateQueue;if(Ce===null){var Ie=new Set;Ie.add(H),a.updateQueue=Ie}else Ce.add(H);break e}else{if((a&1)===0){F_(E,ne,a),Eg();break e}H=Error(n(426))}}else if(gt&&U.mode&1){var St=U_(N);if(St!==null){(St.flags&65536)===0&&(St.flags|=256),$_(St,N,U,E,a),jm(el(H,U));break e}}E=H=el(H,U),Lt!==4&&(Lt=2),Hc===null?Hc=[E]:Hc.push(E),E=N;do{switch(E.tag){case 3:E.flags|=65536,a&=-a,E.lanes|=a;var J=V_(E,H,a);u_(E,J);break e;case 1:U=H;var G=E.type,ee=E.stateNode;if((E.flags&128)===0&&(typeof G.getDerivedStateFromError=="function"||ee!==null&&typeof ee.componentDidCatch=="function"&&(Ei===null||!Ei.has(ee)))){E.flags|=65536,a&=-a,E.lanes|=a;var me=L_(E,U,a);u_(E,me);break e}}E=E.return}while(E!==null)}yE(d)}catch(Ne){a=Ne,At===d&&d!==null&&(At=d=d.return);continue}break}while(!0)}function gE(){var i=_h.current;return _h.current=mh,i===null?mh:i}function Eg(){(Lt===0||Lt===3||Lt===2)&&(Lt=4),Wt===null||(ko&268435455)===0&&(Eh&268435455)===0||Si(Wt,Jt)}function Nh(i,a){var d=et;et|=2;var m=gE();(Wt!==i||Jt!==a)&&(Ls=null,Do(i,a));do try{b2();break}catch(y){mE(i,y)}while(!0);if(Mm(),et=d,_h.current=m,At!==null)throw Error(n(261));return Wt=null,Jt=0,Lt}function b2(){for(;At!==null;)vE(At)}function T2(){for(;At!==null&&!Sd();)vE(At)}function vE(i){var a=_E(i.alternate,i,qn);i.memoizedProps=i.pendingProps,a===null?yE(i):At=a,fg.current=null}function yE(i){var a=i;do{var d=a.alternate;if(i=a.return,(a.flags&32768)===0){if(d=g2(d,a,qn),d!==null){At=d;return}}else{if(d=v2(d,a),d!==null){d.flags&=32767,At=d;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Lt=6,At=null;return}}if(a=a.sibling,a!==null){At=a;return}At=a=i}while(a!==null);Lt===0&&(Lt=5)}function Mo(i,a,d){var m=Ye,y=lr.transition;try{lr.transition=null,Ye=1,S2(i,a,d,m)}finally{lr.transition=y,Ye=m}return null}function S2(i,a,d,m){do sl();while(bi!==null);if((et&6)!==0)throw Error(n(327));d=i.finishedWork;var y=i.finishedLanes;if(d===null)return null;if(i.finishedWork=null,i.finishedLanes=0,d===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var E=d.lanes|d.childLanes;if(at(i,E),i===Wt&&(At=Wt=null,Jt=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||Th||(Th=!0,EE(tr,function(){return sl(),null})),E=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||E){E=lr.transition,lr.transition=null;var N=Ye;Ye=1;var U=et;et|=4,fg.current=null,x2(i,d),lE(d,i),Hj(Em),hi=!!_m,Em=_m=null,i.current=d,w2(d),im(),et=U,Ye=N,lr.transition=E}else i.current=d;if(Th&&(Th=!1,bi=i,Sh=y),E=i.pendingLanes,E===0&&(Ei=null),Nd(d.stateNode),Dn(i,lt()),a!==null)for(m=i.onRecoverableError,d=0;d<a.length;d++)y=a[d],m(y.value,{componentStack:y.stack,digest:y.digest});if(bh)throw bh=!1,i=gg,gg=null,i;return(Sh&1)!==0&&i.tag!==0&&sl(),E=i.pendingLanes,(E&1)!==0?i===vg?Kc++:(Kc=0,vg=i):Kc=0,yi(),null}function sl(){if(bi!==null){var i=ui(Sh),a=lr.transition,d=Ye;try{if(lr.transition=null,Ye=16>i?16:i,bi===null)var m=!1;else{if(i=bi,bi=null,Sh=0,(et&6)!==0)throw Error(n(331));var y=et;for(et|=4,Se=i.current;Se!==null;){var E=Se,N=E.child;if((Se.flags&16)!==0){var U=E.deletions;if(U!==null){for(var H=0;H<U.length;H++){var ne=U[H];for(Se=ne;Se!==null;){var he=Se;switch(he.tag){case 0:case 11:case 15:zc(8,he,E)}var pe=he.child;if(pe!==null)pe.return=he,Se=pe;else for(;Se!==null;){he=Se;var de=he.sibling,we=he.return;if(rE(he),he===ne){Se=null;break}if(de!==null){de.return=we,Se=de;break}Se=we}}}var Ce=E.alternate;if(Ce!==null){var Ie=Ce.child;if(Ie!==null){Ce.child=null;do{var St=Ie.sibling;Ie.sibling=null,Ie=St}while(Ie!==null)}}Se=E}}if((E.subtreeFlags&2064)!==0&&N!==null)N.return=E,Se=N;else e:for(;Se!==null;){if(E=Se,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:zc(9,E,E.return)}var J=E.sibling;if(J!==null){J.return=E.return,Se=J;break e}Se=E.return}}var G=i.current;for(Se=G;Se!==null;){N=Se;var ee=N.child;if((N.subtreeFlags&2064)!==0&&ee!==null)ee.return=N,Se=ee;else e:for(N=G;Se!==null;){if(U=Se,(U.flags&2048)!==0)try{switch(U.tag){case 0:case 11:case 15:wh(9,U)}}catch(Ne){Et(U,U.return,Ne)}if(U===N){Se=null;break e}var me=U.sibling;if(me!==null){me.return=U.return,Se=me;break e}Se=U.return}}if(et=y,yi(),$n&&typeof $n.onPostCommitFiberRoot=="function")try{$n.onPostCommitFiberRoot(yo,i)}catch{}m=!0}return m}finally{Ye=d,lr.transition=a}}return!1}function xE(i,a,d){a=el(d,a),a=V_(i,a,1),i=wi(i,a,1),a=_n(),i!==null&&(li(i,1,a),Dn(i,a))}function Et(i,a,d){if(i.tag===3)xE(i,i,d);else for(;a!==null;){if(a.tag===3){xE(a,i,d);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Ei===null||!Ei.has(m))){i=el(d,i),i=L_(a,i,1),a=wi(a,i,1),i=_n(),a!==null&&(li(a,1,i),Dn(a,i));break}}a=a.return}}function C2(i,a,d){var m=i.pingCache;m!==null&&m.delete(a),a=_n(),i.pingedLanes|=i.suspendedLanes&d,Wt===i&&(Jt&d)===d&&(Lt===4||Lt===3&&(Jt&130023424)===Jt&&500>lt()-mg?Do(i,0):pg|=d),Dn(i,a)}function wE(i,a){a===0&&((i.mode&1)===0?a=1:(a=Ia,Ia<<=1,(Ia&130023424)===0&&(Ia=4194304)));var d=_n();i=Ms(i,a),i!==null&&(li(i,a,d),Dn(i,d))}function I2(i){var a=i.memoizedState,d=0;a!==null&&(d=a.retryLane),wE(i,d)}function N2(i,a){var d=0;switch(i.tag){case 13:var m=i.stateNode,y=i.memoizedState;y!==null&&(d=y.retryLane);break;case 19:m=i.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(a),wE(i,d)}var _E;_E=function(i,a,d){if(i!==null)if(i.memoizedProps!==a.pendingProps||Pn.current)kn=!0;else{if((i.lanes&d)===0&&(a.flags&128)===0)return kn=!1,m2(i,a,d);kn=(i.flags&131072)!==0}else kn=!1,gt&&(a.flags&1048576)!==0&&e_(a,rh,a.index);switch(a.lanes=0,a.tag){case 2:var m=a.type;yh(i,a),i=a.pendingProps;var y=Ka(a,sn.current);Ja(a,d),y=Km(null,a,m,i,y,d);var E=qm();return a.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Rn(m)?(E=!0,eh(a)):E=!1,a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Fm(a),y.updater=gh,a.stateNode=y,y._reactInternals=a,Zm(a,m,i,d),a=rg(null,a,m,!0,E,d)):(a.tag=0,gt&&E&&Am(a),wn(null,a,y,d),a=a.child),a;case 16:m=a.elementType;e:{switch(yh(i,a),i=a.pendingProps,y=m._init,m=y(m._payload),a.type=m,y=a.tag=P2(m),i=Ir(m,i),y){case 0:a=ng(null,a,m,i,d);break e;case 1:a=q_(null,a,m,i,d);break e;case 11:a=B_(null,a,m,i,d);break e;case 14:a=z_(null,a,m,Ir(m.type,i),d);break e}throw Error(n(306,m,""))}return a;case 0:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:Ir(m,y),ng(i,a,m,y,d);case 1:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:Ir(m,y),q_(i,a,m,y,d);case 3:e:{if(G_(a),i===null)throw Error(n(387));m=a.pendingProps,E=a.memoizedState,y=E.element,c_(i,a),ch(a,m,null,d);var N=a.memoizedState;if(m=N.element,E.isDehydrated)if(E={element:m,isDehydrated:!1,cache:N.cache,pendingSuspenseBoundaries:N.pendingSuspenseBoundaries,transitions:N.transitions},a.updateQueue.baseState=E,a.memoizedState=E,a.flags&256){y=el(Error(n(423)),a),a=Q_(i,a,m,d,y);break e}else if(m!==y){y=el(Error(n(424)),a),a=Q_(i,a,m,d,y);break e}else for(Kn=mi(a.stateNode.containerInfo.firstChild),Hn=a,gt=!0,Cr=null,d=a_(a,null,m,d),a.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Qa(),m===y){a=Vs(i,a,d);break e}wn(i,a,m,d)}a=a.child}return a;case 5:return h_(a),i===null&&km(a),m=a.type,y=a.pendingProps,E=i!==null?i.memoizedProps:null,N=y.children,bm(m,y)?N=null:E!==null&&bm(m,E)&&(a.flags|=32),K_(i,a),wn(i,a,N,d),a.child;case 6:return i===null&&km(a),null;case 13:return Y_(i,a,d);case 4:return Um(a,a.stateNode.containerInfo),m=a.pendingProps,i===null?a.child=Ya(a,null,m,d):wn(i,a,m,d),a.child;case 11:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:Ir(m,y),B_(i,a,m,y,d);case 7:return wn(i,a,a.pendingProps,d),a.child;case 8:return wn(i,a,a.pendingProps.children,d),a.child;case 12:return wn(i,a,a.pendingProps.children,d),a.child;case 10:e:{if(m=a.type._context,y=a.pendingProps,E=a.memoizedProps,N=y.value,ct(oh,m._currentValue),m._currentValue=N,E!==null)if(Sr(E.value,N)){if(E.children===y.children&&!Pn.current){a=Vs(i,a,d);break e}}else for(E=a.child,E!==null&&(E.return=a);E!==null;){var U=E.dependencies;if(U!==null){N=E.child;for(var H=U.firstContext;H!==null;){if(H.context===m){if(E.tag===1){H=Os(-1,d&-d),H.tag=2;var ne=E.updateQueue;if(ne!==null){ne=ne.shared;var he=ne.pending;he===null?H.next=H:(H.next=he.next,he.next=H),ne.pending=H}}E.lanes|=d,H=E.alternate,H!==null&&(H.lanes|=d),Vm(E.return,d,a),U.lanes|=d;break}H=H.next}}else if(E.tag===10)N=E.type===a.type?null:E.child;else if(E.tag===18){if(N=E.return,N===null)throw Error(n(341));N.lanes|=d,U=N.alternate,U!==null&&(U.lanes|=d),Vm(N,d,a),N=E.sibling}else N=E.child;if(N!==null)N.return=E;else for(N=E;N!==null;){if(N===a){N=null;break}if(E=N.sibling,E!==null){E.return=N.return,N=E;break}N=N.return}E=N}wn(i,a,y.children,d),a=a.child}return a;case 9:return y=a.type,m=a.pendingProps.children,Ja(a,d),y=or(y),m=m(y),a.flags|=1,wn(i,a,m,d),a.child;case 14:return m=a.type,y=Ir(m,a.pendingProps),y=Ir(m.type,y),z_(i,a,m,y,d);case 15:return W_(i,a,a.type,a.pendingProps,d);case 17:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:Ir(m,y),yh(i,a),a.tag=1,Rn(m)?(i=!0,eh(a)):i=!1,Ja(a,d),M_(a,m,y),Zm(a,m,y,d),rg(null,a,m,!0,i,d);case 19:return J_(i,a,d);case 22:return H_(i,a,d)}throw Error(n(156,a.tag))};function EE(i,a){return Sa(i,a)}function A2(i,a,d,m){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cr(i,a,d,m){return new A2(i,a,d,m)}function bg(i){return i=i.prototype,!(!i||!i.isReactComponent)}function P2(i){if(typeof i=="function")return bg(i)?1:0;if(i!=null){if(i=i.$$typeof,i===W)return 11;if(i===ue)return 14}return 2}function Ci(i,a){var d=i.alternate;return d===null?(d=cr(i.tag,a,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=a,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&14680064,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,a=i.dependencies,d.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d}function Ah(i,a,d,m,y,E){var N=2;if(m=i,typeof i=="function")bg(i)&&(N=1);else if(typeof i=="string")N=5;else e:switch(i){case R:return Oo(d.children,y,E,a);case A:N=8,y|=8;break;case D:return i=cr(12,d,a,y|2),i.elementType=D,i.lanes=E,i;case P:return i=cr(13,d,a,y),i.elementType=P,i.lanes=E,i;case te:return i=cr(19,d,a,y),i.elementType=te,i.lanes=E,i;case Z:return Ph(d,y,E,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case V:N=10;break e;case B:N=9;break e;case W:N=11;break e;case ue:N=14;break e;case ae:N=16,m=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return a=cr(N,d,a,y),a.elementType=i,a.type=m,a.lanes=E,a}function Oo(i,a,d,m){return i=cr(7,i,m,a),i.lanes=d,i}function Ph(i,a,d,m){return i=cr(22,i,m,a),i.elementType=Z,i.lanes=d,i.stateNode={isHidden:!1},i}function Tg(i,a,d){return i=cr(6,i,null,a),i.lanes=d,i}function Sg(i,a,d){return a=cr(4,i.children!==null?i.children:[],i.key,a),a.lanes=d,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function R2(i,a,d,m,y){this.tag=a,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ai(0),this.expirationTimes=ai(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.identifierPrefix=m,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function Cg(i,a,d,m,y,E,N,U,H){return i=new R2(i,a,d,U,H),a===1?(a=1,E===!0&&(a|=8)):a=0,E=cr(3,null,null,a),i.current=E,E.stateNode=i,E.memoizedState={element:m,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fm(E),i}function k2(i,a,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q,key:m==null?null:""+m,children:i,containerInfo:a,implementation:d}}function bE(i){if(!i)return vi;i=i._reactInternals;e:{if(yr(i)!==i||i.tag!==1)throw Error(n(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Rn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(i.tag===1){var d=i.type;if(Rn(d))return Xw(i,d,a)}return a}function TE(i,a,d,m,y,E,N,U,H){return i=Cg(d,m,!0,i,y,E,N,U,H),i.context=bE(null),d=i.current,m=_n(),y=Ti(d),E=Os(m,y),E.callback=a??null,wi(d,E,y),i.current.lanes=y,li(i,y,m),Dn(i,m),i}function Rh(i,a,d,m){var y=a.current,E=_n(),N=Ti(y);return d=bE(d),a.context===null?a.context=d:a.pendingContext=d,a=Os(E,N),a.payload={element:i},m=m===void 0?null:m,m!==null&&(a.callback=m),i=wi(y,a,N),i!==null&&(Pr(i,y,N,E),lh(i,y,N)),N}function kh(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function SE(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<a?d:a}}function Ig(i,a){SE(i,a),(i=i.alternate)&&SE(i,a)}function j2(){return null}var CE=typeof reportError=="function"?reportError:function(i){console.error(i)};function Ng(i){this._internalRoot=i}jh.prototype.render=Ng.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(n(409));Rh(i,a,null,null)},jh.prototype.unmount=Ng.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;jo(function(){Rh(null,i,null,null)}),a[Rs]=null}};function jh(i){this._internalRoot=i}jh.prototype.unstable_scheduleHydration=function(i){if(i){var a=jd();i={blockedOn:null,target:i,priority:a};for(var d=0;d<Kr.length&&a!==0&&a<Kr[d].priority;d++);Kr.splice(d,0,i),d===0&&Od(i)}};function Ag(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Dh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function IE(){}function D2(i,a,d,m,y){if(y){if(typeof m=="function"){var E=m;m=function(){var ne=kh(N);E.call(ne)}}var N=TE(a,m,i,0,null,!1,!1,"",IE);return i._reactRootContainer=N,i[Rs]=N.current,Pc(i.nodeType===8?i.parentNode:i),jo(),N}for(;y=i.lastChild;)i.removeChild(y);if(typeof m=="function"){var U=m;m=function(){var ne=kh(H);U.call(ne)}}var H=Cg(i,0,!1,null,null,!1,!1,"",IE);return i._reactRootContainer=H,i[Rs]=H.current,Pc(i.nodeType===8?i.parentNode:i),jo(function(){Rh(a,H,d,m)}),H}function Mh(i,a,d,m,y){var E=d._reactRootContainer;if(E){var N=E;if(typeof y=="function"){var U=y;y=function(){var H=kh(N);U.call(H)}}Rh(a,N,i,y)}else N=D2(d,a,i,y,m);return kh(N)}Rd=function(i){switch(i.tag){case 3:var a=i.stateNode;if(a.current.memoizedState.isDehydrated){var d=oi(a.pendingLanes);d!==0&&(ci(a,d|1),Dn(a,lt()),(et&6)===0&&(rl=lt()+500,yi()))}break;case 13:jo(function(){var m=Ms(i,1);if(m!==null){var y=_n();Pr(m,i,1,y)}}),Ig(i,1)}},Na=function(i){if(i.tag===13){var a=Ms(i,134217728);if(a!==null){var d=_n();Pr(a,i,134217728,d)}Ig(i,134217728)}},kd=function(i){if(i.tag===13){var a=Ti(i),d=Ms(i,a);if(d!==null){var m=_n();Pr(d,i,a,m)}Ig(i,a)}},jd=function(){return Ye},Dd=function(i,a){var d=Ye;try{return Ye=i,a()}finally{Ye=d}},xa=function(i,a,d){switch(a){case"input":if(tc(i,d),a=d.name,d.type==="radio"&&a!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<d.length;a++){var m=d[a];if(m!==i&&m.form===i.form){var y=Jd(m);if(!y)throw Error(n(90));Un(m),tc(m,y)}}}break;case"textarea":va(i,d);break;case"select":a=d.value,a!=null&&bs(i,!!d.multiple,a,!1)}},fo=wg,dc=jo;var M2={usingClientEntryPoint:!1,Events:[jc,Wa,Jd,Wr,uc,wg]},qc={findFiberByHostInstance:So,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},O2={bundleType:qc.bundleType,version:qc.version,rendererPackageName:qc.rendererPackageName,rendererConfig:qc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=pc(i),i===null?null:i.stateNode},findFiberByHostInstance:qc.findFiberByHostInstance||j2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oh.isDisabled&&Oh.supportsFiber)try{yo=Oh.inject(O2),$n=Oh}catch{}}return Mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M2,Mn.createPortal=function(i,a){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ag(a))throw Error(n(200));return k2(i,a,null,d)},Mn.createRoot=function(i,a){if(!Ag(i))throw Error(n(299));var d=!1,m="",y=CE;return a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=Cg(i,1,!1,null,null,d,!1,m,y),i[Rs]=a.current,Pc(i.nodeType===8?i.parentNode:i),new Ng(a)},Mn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=pc(a),i=i===null?null:i.stateNode,i},Mn.flushSync=function(i){return jo(i)},Mn.hydrate=function(i,a,d){if(!Dh(a))throw Error(n(200));return Mh(null,i,a,!0,d)},Mn.hydrateRoot=function(i,a,d){if(!Ag(i))throw Error(n(405));var m=d!=null&&d.hydratedSources||null,y=!1,E="",N=CE;if(d!=null&&(d.unstable_strictMode===!0&&(y=!0),d.identifierPrefix!==void 0&&(E=d.identifierPrefix),d.onRecoverableError!==void 0&&(N=d.onRecoverableError)),a=TE(a,null,i,1,d??null,y,!1,E,N),i[Rs]=a.current,Pc(i),m)for(i=0;i<m.length;i++)d=m[i],y=d._getVersion,y=y(d._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[d,y]:a.mutableSourceEagerHydrationData.push(d,y);return new jh(a)},Mn.render=function(i,a,d){if(!Dh(a))throw Error(n(200));return Mh(null,i,a,!1,d)},Mn.unmountComponentAtNode=function(i){if(!Dh(i))throw Error(n(40));return i._reactRootContainer?(jo(function(){Mh(null,null,i,!1,function(){i._reactRootContainer=null,i[Rs]=null})}),!0):!1},Mn.unstable_batchedUpdates=wg,Mn.unstable_renderSubtreeIntoContainer=function(i,a,d,m){if(!Dh(d))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return Mh(i,a,d,!1,m)},Mn.version="18.3.1-next-f1338f8080-20240426",Mn}var ME;function NS(){if(ME)return kg.exports;ME=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),kg.exports=W2(),kg.exports}var OE;function H2(){if(OE)return Vh;OE=1;var t=NS();return Vh.createRoot=t.createRoot,Vh.hydrateRoot=t.hydrateRoot,Vh}var K2=H2();const q2=qy(K2);var up=NS();const G2=qy(up);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _u(){return _u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_u.apply(this,arguments)}var Mi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Mi||(Mi={}));const VE="popstate";function Q2(t){t===void 0&&(t={});function e(r,s){let{pathname:o,search:l,hash:c}=r.location;return Iv("",{pathname:o,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:If(s)}return X2(e,n,null,t)}function jt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function AS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Y2(){return Math.random().toString(36).substr(2,8)}function LE(t,e){return{usr:t.state,key:t.key,idx:e}}function Iv(t,e,n,r){return n===void 0&&(n=null),_u({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?$l(e):e,{state:n,key:e&&e.key||r||Y2()})}function If(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function $l(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function X2(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,l=s.history,c=Mi.Pop,h=null,p=g();p==null&&(p=0,l.replaceState(_u({},l.state,{idx:p}),""));function g(){return(l.state||{idx:null}).idx}function v(){c=Mi.Pop;let I=g(),j=I==null?null:I-p;p=I,h&&h({action:c,location:C.location,delta:j})}function x(I,j){c=Mi.Push;let L=Iv(C.location,I,j);p=g()+1;let O=LE(L,p),$=C.createHref(L);try{l.pushState(O,"",$)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;s.location.assign($)}o&&h&&h({action:c,location:C.location,delta:1})}function b(I,j){c=Mi.Replace;let L=Iv(C.location,I,j);p=g();let O=LE(L,p),$=C.createHref(L);l.replaceState(O,"",$),o&&h&&h({action:c,location:C.location,delta:0})}function S(I){let j=s.location.origin!=="null"?s.location.origin:s.location.href,L=typeof I=="string"?I:If(I);return L=L.replace(/ $/,"%20"),jt(j,"No window.location.(origin|href) available to create URL for href: "+L),new URL(L,j)}let C={get action(){return c},get location(){return t(s,l)},listen(I){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(VE,v),h=I,()=>{s.removeEventListener(VE,v),h=null}},createHref(I){return e(s,I)},createURL:S,encodeLocation(I){let j=S(I);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:x,replace:b,go(I){return l.go(I)}};return C}var FE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(FE||(FE={}));function J2(t,e,n){return n===void 0&&(n="/"),Z2(t,e,n)}function Z2(t,e,n,r){let s=typeof e=="string"?$l(e):e,o=Qy(s.pathname||"/",n);if(o==null)return null;let l=PS(t);eD(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let p=hD(o);c=cD(l[h],p)}return c}function PS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,l,c)=>{let h={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};h.relativePath.startsWith("/")&&(jt(h.relativePath.startsWith(r),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(r.length));let p=Vi([r,h.relativePath]),g=n.concat(h);o.children&&o.children.length>0&&(jt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),PS(o.children,e,g,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:aD(p,o.index),routesMeta:g})};return t.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))s(o,l);else for(let h of RS(o.path))s(o,l,h)}),e}function RS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let l=RS(r.join("/")),c=[];return c.push(...l.map(h=>h===""?o:[o,h].join("/"))),s&&c.push(...l),c.map(h=>t.startsWith("/")&&h===""?"/":h)}function eD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:lD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const tD=/^:[\w-]+$/,nD=3,rD=2,sD=1,iD=10,oD=-2,UE=t=>t==="*";function aD(t,e){let n=t.split("/"),r=n.length;return n.some(UE)&&(r+=oD),e&&(r+=rD),n.filter(s=>!UE(s)).reduce((s,o)=>s+(tD.test(o)?nD:o===""?sD:iD),r)}function lD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function cD(t,e,n){let{routesMeta:r}=t,s={},o="/",l=[];for(let c=0;c<r.length;++c){let h=r[c],p=c===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",v=uD({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},g),x=h.route;if(!v)return null;Object.assign(s,v.params),l.push({params:s,pathname:Vi([o,v.pathname]),pathnameBase:gD(Vi([o,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(o=Vi([o,v.pathnameBase]))}return l}function uD(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=dD(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((p,g,v)=>{let{paramName:x,isOptional:b}=g;if(x==="*"){let C=c[v]||"";l=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const S=c[v];return b&&!S?p[x]=void 0:p[x]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:l,pattern:t}}function dD(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),AS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(r.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function hD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return AS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Qy(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function fD(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?$l(t):t;return{pathname:n?n.startsWith("/")?n:pD(n,e):e,search:vD(r),hash:yD(s)}}function pD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Mg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function mD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function kS(t,e){let n=mD(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function jS(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=$l(t):(s=_u({},t),jt(!s.pathname||!s.pathname.includes("?"),Mg("?","pathname","search",s)),jt(!s.pathname||!s.pathname.includes("#"),Mg("#","pathname","hash",s)),jt(!s.search||!s.search.includes("#"),Mg("#","search","hash",s)));let o=t===""||s.pathname==="",l=o?"/":s.pathname,c;if(l==null)c=n;else{let v=e.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),v-=1;s.pathname=x.join("/")}c=v>=0?e[v]:"/"}let h=fD(s,c),p=l&&l!=="/"&&l.endsWith("/"),g=(o||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||g)&&(h.pathname+="/"),h}const Vi=t=>t.join("/").replace(/\/\/+/g,"/"),gD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),vD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,yD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function xD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const DS=["post","put","patch","delete"];new Set(DS);const wD=["get",...DS];new Set(wD);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eu(){return Eu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eu.apply(this,arguments)}const Yy=_.createContext(null),_D=_.createContext(null),sa=_.createContext(null),dp=_.createContext(null),eo=_.createContext({outlet:null,matches:[],isDataRoute:!1}),MS=_.createContext(null);function ED(t,e){let{relative:n}=e===void 0?{}:e;qu()||jt(!1);let{basename:r,navigator:s}=_.useContext(sa),{hash:o,pathname:l,search:c}=VS(t,{relative:n}),h=l;return r!=="/"&&(h=l==="/"?r:Vi([r,l])),s.createHref({pathname:h,search:c,hash:o})}function qu(){return _.useContext(dp)!=null}function Gu(){return qu()||jt(!1),_.useContext(dp).location}function OS(t){_.useContext(sa).static||_.useLayoutEffect(t)}function to(){let{isDataRoute:t}=_.useContext(eo);return t?OD():bD()}function bD(){qu()||jt(!1);let t=_.useContext(Yy),{basename:e,future:n,navigator:r}=_.useContext(sa),{matches:s}=_.useContext(eo),{pathname:o}=Gu(),l=JSON.stringify(kS(s,n.v7_relativeSplatPath)),c=_.useRef(!1);return OS(()=>{c.current=!0}),_.useCallback(function(p,g){if(g===void 0&&(g={}),!c.current)return;if(typeof p=="number"){r.go(p);return}let v=jS(p,JSON.parse(l),o,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Vi([e,v.pathname])),(g.replace?r.replace:r.push)(v,g.state,g)},[e,r,l,o,t])}function TD(){let{matches:t}=_.useContext(eo),e=t[t.length-1];return e?e.params:{}}function VS(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=_.useContext(sa),{matches:s}=_.useContext(eo),{pathname:o}=Gu(),l=JSON.stringify(kS(s,r.v7_relativeSplatPath));return _.useMemo(()=>jS(t,JSON.parse(l),o,n==="path"),[t,l,o,n])}function SD(t,e){return CD(t,e)}function CD(t,e,n,r){qu()||jt(!1);let{navigator:s}=_.useContext(sa),{matches:o}=_.useContext(eo),l=o[o.length-1],c=l?l.params:{};l&&l.pathname;let h=l?l.pathnameBase:"/";l&&l.route;let p=Gu(),g;if(e){var v;let I=typeof e=="string"?$l(e):e;h==="/"||(v=I.pathname)!=null&&v.startsWith(h)||jt(!1),g=I}else g=p;let x=g.pathname||"/",b=x;if(h!=="/"){let I=h.replace(/^\//,"").split("/");b="/"+x.replace(/^\//,"").split("/").slice(I.length).join("/")}let S=J2(t,{pathname:b}),C=RD(S&&S.map(I=>Object.assign({},I,{params:Object.assign({},c,I.params),pathname:Vi([h,s.encodeLocation?s.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?h:Vi([h,s.encodeLocation?s.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),o,n,r);return e&&C?_.createElement(dp.Provider,{value:{location:Eu({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Mi.Pop}},C):C}function ID(){let t=MD(),e=xD(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:s},n):null,null)}const ND=_.createElement(ID,null);class AD extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?_.createElement(eo.Provider,{value:this.props.routeContext},_.createElement(MS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function PD(t){let{routeContext:e,match:n,children:r}=t,s=_.useContext(Yy);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(eo.Provider,{value:e},r)}function RD(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=(s=n)==null?void 0:s.errors;if(c!=null){let g=l.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);g>=0||jt(!1),l=l.slice(0,Math.min(l.length,g+1))}let h=!1,p=-1;if(n&&r&&r.v7_partialHydration)for(let g=0;g<l.length;g++){let v=l[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=g),v.route.id){let{loaderData:x,errors:b}=n,S=v.route.loader&&x[v.route.id]===void 0&&(!b||b[v.route.id]===void 0);if(v.route.lazy||S){h=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((g,v,x)=>{let b,S=!1,C=null,I=null;n&&(b=c&&v.route.id?c[v.route.id]:void 0,C=v.route.errorElement||ND,h&&(p<0&&x===0?(VD("route-fallback"),S=!0,I=null):p===x&&(S=!0,I=v.route.hydrateFallbackElement||null)));let j=e.concat(l.slice(0,x+1)),L=()=>{let O;return b?O=C:S?O=I:v.route.Component?O=_.createElement(v.route.Component,null):v.route.element?O=v.route.element:O=g,_.createElement(PD,{match:v,routeContext:{outlet:g,matches:j,isDataRoute:n!=null},children:O})};return n&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?_.createElement(AD,{location:n.location,revalidation:n.revalidation,component:C,error:b,children:L(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):L()},null)}var LS=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(LS||{}),FS=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(FS||{});function kD(t){let e=_.useContext(Yy);return e||jt(!1),e}function jD(t){let e=_.useContext(_D);return e||jt(!1),e}function DD(t){let e=_.useContext(eo);return e||jt(!1),e}function US(t){let e=DD(),n=e.matches[e.matches.length-1];return n.route.id||jt(!1),n.route.id}function MD(){var t;let e=_.useContext(MS),n=jD(),r=US();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function OD(){let{router:t}=kD(LS.UseNavigateStable),e=US(FS.UseNavigateStable),n=_.useRef(!1);return OS(()=>{n.current=!0}),_.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Eu({fromRouteId:e},o)))},[t,e])}const $E={};function VD(t,e,n){$E[t]||($E[t]=!0)}function LD(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function En(t){jt(!1)}function FD(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Mi.Pop,navigator:o,static:l=!1,future:c}=t;qu()&&jt(!1);let h=e.replace(/^\/*/,"/"),p=_.useMemo(()=>({basename:h,navigator:o,static:l,future:Eu({v7_relativeSplatPath:!1},c)}),[h,c,o,l]);typeof r=="string"&&(r=$l(r));let{pathname:g="/",search:v="",hash:x="",state:b=null,key:S="default"}=r,C=_.useMemo(()=>{let I=Qy(g,h);return I==null?null:{location:{pathname:I,search:v,hash:x,state:b,key:S},navigationType:s}},[h,g,v,x,b,S,s]);return C==null?null:_.createElement(sa.Provider,{value:p},_.createElement(dp.Provider,{children:n,value:C}))}function $S(t){let{children:e,location:n}=t;return SD(Nv(e),n)}new Promise(()=>{});function Nv(t,e){e===void 0&&(e=[]);let n=[];return _.Children.forEach(t,(r,s)=>{if(!_.isValidElement(r))return;let o=[...e,s];if(r.type===_.Fragment){n.push.apply(n,Nv(r.props.children,o));return}r.type!==En&&jt(!1),!r.props.index||!r.props.children||jt(!1);let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Nv(r.props.children,o)),n.push(l)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Av(){return Av=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Av.apply(this,arguments)}function UD(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function $D(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function BD(t,e){return t.button===0&&(!e||e==="_self")&&!$D(t)}const zD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],WD="6";try{window.__reactRouterVersion=WD}catch{}const HD="startTransition",BE=IS[HD];function KD(t){let{basename:e,children:n,future:r,window:s}=t,o=_.useRef();o.current==null&&(o.current=Q2({window:s,v5Compat:!0}));let l=o.current,[c,h]=_.useState({action:l.action,location:l.location}),{v7_startTransition:p}=r||{},g=_.useCallback(v=>{p&&BE?BE(()=>h(v)):h(v)},[h,p]);return _.useLayoutEffect(()=>l.listen(g),[l,g]),_.useEffect(()=>LD(r),[r]),_.createElement(FD,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const qD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,is=_.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:o,replace:l,state:c,target:h,to:p,preventScrollReset:g,viewTransition:v}=e,x=UD(e,zD),{basename:b}=_.useContext(sa),S,C=!1;if(typeof p=="string"&&GD.test(p)&&(S=p,qD))try{let O=new URL(window.location.href),$=p.startsWith("//")?new URL(O.protocol+p):new URL(p),z=Qy($.pathname,b);$.origin===O.origin&&z!=null?p=z+$.search+$.hash:C=!0}catch{}let I=ED(p,{relative:s}),j=QD(p,{replace:l,state:c,target:h,preventScrollReset:g,relative:s,viewTransition:v});function L(O){r&&r(O),O.defaultPrevented||j(O)}return _.createElement("a",Av({},x,{href:S||I,onClick:C||o?r:L,ref:n,target:h}))});var zE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(zE||(zE={}));var WE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(WE||(WE={}));function QD(t,e){let{target:n,replace:r,state:s,preventScrollReset:o,relative:l,viewTransition:c}=e===void 0?{}:e,h=to(),p=Gu(),g=VS(t,{relative:l});return _.useCallback(v=>{if(BD(v,n)){v.preventDefault();let x=r!==void 0?r:If(p)===If(g);h(t,{replace:x,state:s,preventScrollReset:o,relative:l,viewTransition:c})}},[p,h,g,r,s,n,t,o,l,c])}const YD=()=>{};var HE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},XD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],l=t[n++],c=t[n++],h=((s&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return e.join("")},zS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],l=s+1<t.length,c=l?t[s+1]:0,h=s+2<t.length,p=h?t[s+2]:0,g=o>>2,v=(o&3)<<4|c>>4;let x=(c&15)<<2|p>>6,b=p&63;h||(b=64,l||(x=64)),r.push(n[g],n[v],n[x],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(BS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):XD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const v=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||c==null||p==null||v==null)throw new JD;const x=o<<2|c>>4;if(r.push(x),p!==64){const b=c<<4&240|p>>2;if(r.push(b),v!==64){const S=p<<6&192|v;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class JD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZD=function(t){const e=BS(t);return zS.encodeByteArray(e,!0)},Nf=function(t){return ZD(t).replace(/\./g,"")},WS=function(t){try{return zS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM=()=>eM().__FIREBASE_DEFAULTS__,nM=()=>{if(typeof process>"u"||typeof HE>"u")return;const t=HE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},rM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&WS(t[1]);return e&&JSON.parse(e)},hp=()=>{try{return YD()||tM()||nM()||rM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},HS=t=>{var e,n;return(n=(e=hp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Xy=t=>{const e=HS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},KS=()=>{var t;return(t=hp())===null||t===void 0?void 0:t.config},qS=t=>{var e;return(e=hp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(t){return t.endsWith(".cloudworkstations.dev")}async function fp(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Nf(JSON.stringify(n)),Nf(JSON.stringify(l)),""].join(".")}const lu={};function iM(){const t={prod:[],emulator:[]};for(const e of Object.keys(lu))lu[e]?t.emulator.push(e):t.prod.push(e);return t}function oM(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let KE=!1;function pp(t,e){if(typeof window>"u"||typeof document>"u"||!no(window.location.host)||lu[t]===e||lu[t]||KE)return;lu[t]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",o=iM().prod.length>0;function l(){const x=document.getElementById(r);x&&x.remove()}function c(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function h(x,b){x.setAttribute("width","24"),x.setAttribute("id",b),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function p(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{KE=!0,l()},x}function g(x,b){x.setAttribute("id",b),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function v(){const x=oM(r),b=n("text"),S=document.getElementById(b)||document.createElement("span"),C=n("learnmore"),I=document.getElementById(C)||document.createElement("a"),j=n("preprendIcon"),L=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const O=x.element;c(O),g(I,C);const $=p();h(L,j),O.append(L,S,I,$),document.body.appendChild(O)}o?(S.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function lM(){var t;const e=(t=hp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(globalThis.process)==="[object process]"}catch{return!1}}function cM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function dM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hM(){const t=mn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function fM(){return!lM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pM(){try{return typeof indexedDB=="object"}catch{return!1}}function mM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM="FirebaseError";class vs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=gM,Object.setPrototypeOf(this,vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qu.prototype.create)}}class Qu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],l=o?vM(o,r):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new vs(s,c,r)}}function vM(t,e){return t.replace(yM,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const yM=/\{\$([^}]+)}/g;function xM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Gs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],l=e[s];if(qE(o)&&qE(l)){if(!Gs(o,l))return!1}else if(o!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function qE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Xc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function Jc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function wM(t,e){const n=new _M(t,e);return n.subscribe.bind(n)}class _M{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");EM(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Og),s.error===void 0&&(s.error=Og),s.complete===void 0&&(s.complete=Og);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function EM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Og(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(t){return t&&t._delegate?t._delegate:t}class Qs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bM=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new sM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),s=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(SM(e))try{this.getOrInitializeService({instanceIdentifier:Uo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Uo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Uo){return this.instances.has(e)}getOptions(e=Uo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Uo){return this.component?this.component.multipleInstances?e:Uo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function TM(t){return t===Uo?void 0:t}function SM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new bM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ge||(Ge={}));const IM={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},NM=Ge.INFO,AM={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},PM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=AM[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jy{constructor(e){this.name=e,this._logLevel=NM,this._logHandler=PM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const RM=(t,e)=>e.some(n=>t instanceof n);let GE,QE;function kM(){return GE||(GE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jM(){return QE||(QE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QS=new WeakMap,Pv=new WeakMap,YS=new WeakMap,Vg=new WeakMap,Zy=new WeakMap;function DM(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(Li(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&QS.set(n,t)}).catch(()=>{}),Zy.set(e,t),e}function MM(t){if(Pv.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});Pv.set(t,e)}let Rv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Pv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||YS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Li(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function OM(t){Rv=t(Rv)}function VM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Lg(this),e,...n);return YS.set(r,e.sort?e.sort():[e]),Li(r)}:jM().includes(t)?function(...e){return t.apply(Lg(this),e),Li(QS.get(this))}:function(...e){return Li(t.apply(Lg(this),e))}}function LM(t){return typeof t=="function"?VM(t):(t instanceof IDBTransaction&&MM(t),RM(t,kM())?new Proxy(t,Rv):t)}function Li(t){if(t instanceof IDBRequest)return DM(t);if(Vg.has(t))return Vg.get(t);const e=LM(t);return e!==t&&(Vg.set(t,e),Zy.set(e,t)),e}const Lg=t=>Zy.get(t);function FM(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const l=indexedDB.open(t,e),c=Li(l);return r&&l.addEventListener("upgradeneeded",h=>{r(Li(l.result),h.oldVersion,h.newVersion,Li(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{o&&h.addEventListener("close",()=>o()),s&&h.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const UM=["get","getKey","getAll","getAllKeys","count"],$M=["put","add","delete","clear"],Fg=new Map;function YE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fg.get(e))return Fg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=$M.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||UM.includes(n)))return;const o=async function(l,...c){const h=this.transaction(l,s?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[n](...c),s&&h.done]))[0]};return Fg.set(e,o),o}OM(t=>({...t,get:(e,n,r)=>YE(e,n)||t.get(e,n,r),has:(e,n)=>!!YE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function zM(t){const e=t.getComponent();return e?.type==="VERSION"}const kv="@firebase/app",XE="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys=new Jy("@firebase/app"),WM="@firebase/app-compat",HM="@firebase/analytics-compat",KM="@firebase/analytics",qM="@firebase/app-check-compat",GM="@firebase/app-check",QM="@firebase/auth",YM="@firebase/auth-compat",XM="@firebase/database",JM="@firebase/data-connect",ZM="@firebase/database-compat",eO="@firebase/functions",tO="@firebase/functions-compat",nO="@firebase/installations",rO="@firebase/installations-compat",sO="@firebase/messaging",iO="@firebase/messaging-compat",oO="@firebase/performance",aO="@firebase/performance-compat",lO="@firebase/remote-config",cO="@firebase/remote-config-compat",uO="@firebase/storage",dO="@firebase/storage-compat",hO="@firebase/firestore",fO="@firebase/ai",pO="@firebase/firestore-compat",mO="firebase",gO="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="[DEFAULT]",vO={[kv]:"fire-core",[WM]:"fire-core-compat",[KM]:"fire-analytics",[HM]:"fire-analytics-compat",[GM]:"fire-app-check",[qM]:"fire-app-check-compat",[QM]:"fire-auth",[YM]:"fire-auth-compat",[XM]:"fire-rtdb",[JM]:"fire-data-connect",[ZM]:"fire-rtdb-compat",[eO]:"fire-fn",[tO]:"fire-fn-compat",[nO]:"fire-iid",[rO]:"fire-iid-compat",[sO]:"fire-fcm",[iO]:"fire-fcm-compat",[oO]:"fire-perf",[aO]:"fire-perf-compat",[lO]:"fire-rc",[cO]:"fire-rc-compat",[uO]:"fire-gcs",[dO]:"fire-gcs-compat",[hO]:"fire-fst",[pO]:"fire-fst-compat",[fO]:"fire-vertex","fire-js":"fire-js",[mO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu=new Map,yO=new Map,Dv=new Map;function JE(t,e){try{t.container.addComponent(e)}catch(n){Ys.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Bi(t){const e=t.name;if(Dv.has(e))return Ys.debug(`There were multiple attempts to register component ${e}.`),!1;Dv.set(e,t);for(const n of bu.values())JE(n,t);for(const n of yO.values())JE(n,t);return!0}function Xu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Tn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fi=new Qu("app","Firebase",xO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=gO;function XS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:jv,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw Fi.create("bad-app-name",{appName:String(s)});if(n||(n=KS()),!n)throw Fi.create("no-options");const o=bu.get(s);if(o){if(Gs(n,o.options)&&Gs(r,o.config))return o;throw Fi.create("duplicate-app",{appName:s})}const l=new CM(s);for(const h of Dv.values())l.addComponent(h);const c=new wO(n,r,l);return bu.set(s,c),c}function Ju(t=jv){const e=bu.get(t);if(!e&&t===jv&&KS())return XS();if(!e)throw Fi.create("no-app",{appName:t});return e}function _O(){return Array.from(bu.values())}function fr(t,e,n){var r;let s=(r=vO[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ys.warn(c.join(" "));return}Bi(new Qs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO="firebase-heartbeat-database",bO=1,Tu="firebase-heartbeat-store";let Ug=null;function JS(){return Ug||(Ug=FM(EO,bO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Tu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Fi.create("idb-open",{originalErrorMessage:t.message})})),Ug}async function TO(t){try{const n=(await JS()).transaction(Tu),r=await n.objectStore(Tu).get(ZS(t));return await n.done,r}catch(e){if(e instanceof vs)Ys.warn(e.message);else{const n=Fi.create("idb-get",{originalErrorMessage:e?.message});Ys.warn(n.message)}}}async function ZE(t,e){try{const r=(await JS()).transaction(Tu,"readwrite");await r.objectStore(Tu).put(e,ZS(t)),await r.done}catch(n){if(n instanceof vs)Ys.warn(n.message);else{const r=Fi.create("idb-set",{originalErrorMessage:n?.message});Ys.warn(r.message)}}}function ZS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO=1024,CO=30;class IO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new AO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=eb();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>CO){const l=PO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ys.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=eb(),{heartbeatsToSend:r,unsentEntries:s}=NO(this._heartbeatsCache.heartbeats),o=Nf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ys.warn(n),""}}}function eb(){return new Date().toISOString().substring(0,10)}function NO(t,e=SO){const n=[];let r=t.slice();for(const s of t){const o=n.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),tb(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),tb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class AO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pM()?mM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await TO(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return ZE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return ZE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function tb(t){return Nf(JSON.stringify({version:2,heartbeats:t})).length}function PO(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(t){Bi(new Qs("platform-logger",e=>new BM(e),"PRIVATE")),Bi(new Qs("heartbeat",e=>new IO(e),"PRIVATE")),fr(kv,XE,t),fr(kv,XE,"esm2017"),fr("fire-js","")}RO("");var kO="firebase",jO="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fr(kO,jO,"app");var rs=function(){return rs=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},rs.apply(this,arguments)};function Zu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function DO(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function eC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MO=eC,tC=new Qu("auth","Firebase",eC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af=new Jy("@firebase/auth");function OO(t,...e){Af.logLevel<=Ge.WARN&&Af.warn(`Auth (${ia}): ${t}`,...e)}function nf(t,...e){Af.logLevel<=Ge.ERROR&&Af.error(`Auth (${ia}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(t,...e){throw t0(t,...e)}function Or(t,...e){return t0(t,...e)}function e0(t,e,n){const r=Object.assign(Object.assign({},MO()),{[e]:n});return new Qu("auth","Firebase",r).create(e,{appName:t.name})}function Bs(t){return e0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function VO(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&mr(t,"argument-error"),e0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function t0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return tC.create(t,...e)}function Ve(t,e,...n){if(!t)throw t0(e,...n)}function Us(t){const e="INTERNAL ASSERTION FAILED: "+t;throw nf(e),new Error(e)}function Xs(t,e){t||Us(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function LO(){return nb()==="http:"||nb()==="https:"}function nb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LO()||uM()||"connection"in navigator)?navigator.onLine:!0}function UO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xs(n>e,"Short delay should be less than long delay!"),this.isMobile=aM()||dM()}get(){return FO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(t,e){Xs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Us("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Us("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Us("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zO=new ed(3e4,6e4);function ro(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ri(t,e,n,r,s={}){return rC(t,s,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const c=Yu(Object.assign({key:t.config.apiKey},l)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:h},o);return cM()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&no(t.emulatorConfig.host)&&(p.credentials="include"),nC.fetch()(await sC(t,t.config.apiHost,n,c),p)})}async function rC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},$O),e);try{const s=new HO(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Lh(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[h,p]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lh(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Lh(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw Lh(t,"user-disabled",l);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw e0(t,g,p);mr(t,g)}}catch(s){if(s instanceof vs)throw s;mr(t,"network-request-failed",{message:String(s)})}}async function td(t,e,n,r,s={}){const o=await ri(t,e,n,r,s);return"mfaPendingCredential"in o&&mr(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function sC(t,e,n,r){const s=`${e}${n}?${r}`,o=t,l=o.config.emulator?n0(t.config,s):`${t.config.apiScheme}://${s}`;return BO.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function WO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class HO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Or(this.auth,"network-request-failed")),zO.get())})}}function Lh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Or(t,e,r);return s.customData._tokenResponse=n,s}function rb(t){return t!==void 0&&t.enterprise!==void 0}class KO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return WO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function qO(t,e){return ri(t,"GET","/v2/recaptchaConfig",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GO(t,e){return ri(t,"POST","/v1/accounts:delete",e)}async function Pf(t,e){return ri(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QO(t,e=!1){const n=ut(t),r=await n.getIdToken(e),s=r0(r);Ve(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,l=o?.sign_in_provider;return{claims:s,token:r,authTime:cu($g(s.auth_time)),issuedAtTime:cu($g(s.iat)),expirationTime:cu($g(s.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function $g(t){return Number(t)*1e3}function r0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return nf("JWT malformed, contained fewer than 3 sections"),null;try{const s=WS(n);return s?JSON.parse(s):(nf("Failed to decode base64 JWT payload"),null)}catch(s){return nf("Caught error parsing JWT payload as JSON",s?.toString()),null}}function sb(t){const e=r0(t);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Il(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof vs&&YO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function YO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cu(this.lastLoginAt),this.creationTime=cu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rf(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Il(t,Pf(n,{idToken:r}));Ve(s?.users.length,n,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?iC(o.providerUserInfo):[],c=ZO(t.providerData,l),h=t.isAnonymous,p=!(t.email&&o.passwordHash)&&!c?.length,g=h?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Ov(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function JO(t){const e=ut(t);await Rf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ZO(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function iC(t){return t.map(e=>{var{providerId:n}=e,r=Zu(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e4(t,e){const n=await rC(t,{},async()=>{const r=Yu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,l=await sC(t,s,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:c,body:r};return t.emulatorConfig&&no(t.emulatorConfig.host)&&(h.credentials="include"),nC.fetch()(l,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function t4(t,e){return ri(t,"POST","/v2/accounts:revokeToken",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const n=sb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await e4(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,l=new xl;return r&&(Ve(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Ve(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),o&&(Ve(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xl,this.toJSON())}_performRefresh(){return Us("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(t,e){Ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Dr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,o=Zu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new XO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ov(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Il(this,this.stsTokenManager.getToken(this.auth,e));return Ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return QO(this,e)}reload(){return JO(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Dr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Rf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tn(this.auth.app))return Promise.reject(Bs(this.auth));const e=await this.getIdToken();return await Il(this,GO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,o,l,c,h,p,g;const v=(r=n.displayName)!==null&&r!==void 0?r:void 0,x=(s=n.email)!==null&&s!==void 0?s:void 0,b=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,S=(l=n.photoURL)!==null&&l!==void 0?l:void 0,C=(c=n.tenantId)!==null&&c!==void 0?c:void 0,I=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,j=(p=n.createdAt)!==null&&p!==void 0?p:void 0,L=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:O,emailVerified:$,isAnonymous:z,providerData:q,stsTokenManager:R}=n;Ve(O&&R,e,"internal-error");const A=xl.fromJSON(this.name,R);Ve(typeof O=="string",e,"internal-error"),Ni(v,e.name),Ni(x,e.name),Ve(typeof $=="boolean",e,"internal-error"),Ve(typeof z=="boolean",e,"internal-error"),Ni(b,e.name),Ni(S,e.name),Ni(C,e.name),Ni(I,e.name),Ni(j,e.name),Ni(L,e.name);const D=new Dr({uid:O,auth:e,email:x,emailVerified:$,displayName:v,isAnonymous:z,photoURL:S,phoneNumber:b,tenantId:C,stsTokenManager:A,createdAt:j,lastLoginAt:L});return q&&Array.isArray(q)&&(D.providerData=q.map(V=>Object.assign({},V))),I&&(D._redirectEventId=I),D}static async _fromIdTokenResponse(e,n,r=!1){const s=new xl;s.updateFromServerResponse(n);const o=new Dr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Rf(o),o}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ve(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?iC(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!o?.length,c=new xl;c.updateFromIdToken(r);const h=new Dr({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Ov(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=new Map;function $s(t){Xs(t instanceof Function,"Expected a class definition");let e=ib.get(t);return e?(Xs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ib.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}oC.type="NONE";const ob=oC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(t,e,n){return`firebase:${t}:${e}:${n}`}class wl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=rf(this.userKey,s.apiKey,o),this.fullPersistenceKey=rf("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Pf(this.auth,{idToken:e}).catch(()=>{});return n?Dr._fromGetAccountInfoResponse(this.auth,n,e):null}return Dr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new wl($s(ob),e,r);const s=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=s[0]||$s(ob);const l=rf(r,e.config.apiKey,e.name);let c=null;for(const p of n)try{const g=await p._get(l);if(g){let v;if(typeof g=="string"){const x=await Pf(e,{idToken:g}).catch(()=>{});if(!x)break;v=await Dr._fromGetAccountInfoResponse(e,x,g)}else v=Dr._fromJSON(e,g);p!==o&&(c=v),o=p;break}}catch{}const h=s.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new wl(o,e,r):(o=h[0],c&&await o._set(l,c.toJSON()),await Promise.all(n.map(async p=>{if(p!==o)try{await p._remove(l)}catch{}})),new wl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hC(e))return"Blackberry";if(fC(e))return"Webos";if(lC(e))return"Safari";if((e.includes("chrome/")||cC(e))&&!e.includes("edge/"))return"Chrome";if(dC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function aC(t=mn()){return/firefox\//i.test(t)}function lC(t=mn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cC(t=mn()){return/crios\//i.test(t)}function uC(t=mn()){return/iemobile/i.test(t)}function dC(t=mn()){return/android/i.test(t)}function hC(t=mn()){return/blackberry/i.test(t)}function fC(t=mn()){return/webos/i.test(t)}function s0(t=mn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function n4(t=mn()){var e;return s0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function r4(){return hM()&&document.documentMode===10}function pC(t=mn()){return s0(t)||dC(t)||fC(t)||hC(t)||/windows phone/i.test(t)||uC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(t,e=[]){let n;switch(t){case"Browser":n=ab(mn());break;case"Worker":n=`${ab(mn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ia}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((l,c)=>{try{const h=e(o);l(h)}catch(h){c(h)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i4(t,e={}){return ri(t,"GET","/v2/passwordPolicy",ro(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4=6;class a4{constructor(e){var n,r,s,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:o4,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,o,l,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lb(this),this.idTokenSubscription=new lb(this),this.beforeStateQueue=new s4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$s(n)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await wl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Pf(this,{idToken:e}),r=await Dr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Tn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&h?.user&&(s=h.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Rf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=UO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tn(this.app))return Promise.reject(Bs(this));const n=e?ut(e):null;return n&&Ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tn(this.app)?Promise.reject(Bs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tn(this.app)?Promise.reject(Bs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($s(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await i4(this),n=new a4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await t4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&$s(e)||this._popupRedirectResolver;Ve(n,this,"argument-error"),this.redirectPersistenceManager=await wl.create(this,[$s(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,s);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&OO(`Error while retrieving App Check token: ${n.error}`),n?.token}}function so(t){return ut(t)}class lb{constructor(e){this.auth=e,this.observer=null,this.addObserver=wM(n=>this.observer=n)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function c4(t){mp=t}function gC(t){return mp.loadJS(t)}function u4(){return mp.recaptchaEnterpriseScript}function d4(){return mp.gapiScript}function h4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class f4{constructor(){this.enterprise=new p4}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class p4{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const m4="recaptcha-enterprise",vC="NO_RECAPTCHA";class g4{constructor(e){this.type=m4,this.auth=so(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{qO(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const p=new KO(h);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,l(p.siteKey)}}).catch(h=>{c(h)})})}function s(o,l,c){const h=window.grecaptcha;rb(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(p=>{l(p)}).catch(()=>{l(vC)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new f4().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(c=>{if(!n&&rb(window.grecaptcha))s(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=u4();h.length!==0&&(h+=c),gC(h).then(()=>{s(c,o,l)}).catch(p=>{l(p)})}}).catch(c=>{l(c)})})}}async function cb(t,e,n,r=!1,s=!1){const o=new g4(t);let l;if(s)l=vC;else try{l=await o.verify(n)}catch{l=await o.verify(n,!0)}const c=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,p=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Vv(t,e,n,r,s){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await cb(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await cb(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(t,e){const n=Xu(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(Gs(o,e??{}))return s;mr(s,"already-initialized")}return n.initialize({options:e})}function y4(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map($s);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function x4(t,e,n){const r=so(t);Ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=yC(e),{host:l,port:c}=w4(e),h=c===null?"":`:${c}`,p={url:`${o}//${l}${h}/`},g=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ve(Gs(p,r.config.emulator)&&Gs(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,no(l)?(fp(`${o}//${l}${h}`),pp("Auth",!0)):_4()}function yC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function w4(t){const e=yC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:ub(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:ub(l)}}}function ub(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function _4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Us("not implemented")}_getIdTokenResponse(e){return Us("not implemented")}_linkToIdToken(e,n){return Us("not implemented")}_getReauthenticationResolver(e){return Us("not implemented")}}async function E4(t,e){return ri(t,"POST","/v1/accounts:update",e)}async function b4(t,e){return ri(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T4(t,e){return td(t,"POST","/v1/accounts:signInWithPassword",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S4(t,e){return td(t,"POST","/v1/accounts:signInWithEmailLink",ro(t,e))}async function C4(t,e){return td(t,"POST","/v1/accounts:signInWithEmailLink",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su extends i0{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Su(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Su(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vv(e,n,"signInWithPassword",T4);case"emailLink":return S4(e,{email:this._email,oobCode:this._password});default:mr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vv(e,r,"signUpPassword",b4);case"emailLink":return C4(e,{idToken:n,email:this._email,oobCode:this._password});default:mr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _l(t,e){return td(t,"POST","/v1/accounts:signInWithIdp",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4="http://localhost";class Jo extends i0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Jo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):mr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,o=Zu(n,["providerId","signInMethod"]);if(!r||!s)return null;const l=new Jo(r,s);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return _l(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,_l(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_l(e,n)}buildRequest(){const e={requestUri:I4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Yu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function A4(t){const e=Xc(Jc(t)).link,n=e?Xc(Jc(e)).deep_link_id:null,r=Xc(Jc(t)).deep_link_id;return(r?Xc(Jc(r)).link:null)||r||n||e||t}class o0{constructor(e){var n,r,s,o,l,c;const h=Xc(Jc(e)),p=(n=h.apiKey)!==null&&n!==void 0?n:null,g=(r=h.oobCode)!==null&&r!==void 0?r:null,v=N4((s=h.mode)!==null&&s!==void 0?s:null);Ve(p&&g&&v,"argument-error"),this.apiKey=p,this.operation=v,this.code=g,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=h.lang)!==null&&l!==void 0?l:null,this.tenantId=(c=h.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=A4(e);try{return new o0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(){this.providerId=oa.PROVIDER_ID}static credential(e,n){return Su._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=o0.parseLink(n);return Ve(r,"argument-error"),Su._fromEmailAndCode(e,r.code,r.tenantId)}}oa.PROVIDER_ID="password";oa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";oa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd extends a0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends nd{constructor(){super("facebook.com")}static credential(e){return Jo._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ki.credential(e.oauthAccessToken)}catch{return null}}}ki.FACEBOOK_SIGN_IN_METHOD="facebook.com";ki.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends nd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Jo._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Fs.credential(n,r)}catch{return null}}}Fs.GOOGLE_SIGN_IN_METHOD="google.com";Fs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends nd{constructor(){super("github.com")}static credential(e){return Jo._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ji.credential(e.oauthAccessToken)}catch{return null}}}ji.GITHUB_SIGN_IN_METHOD="github.com";ji.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends nd{constructor(){super("twitter.com")}static credential(e,n){return Jo._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Di.credential(n,r)}catch{return null}}}Di.TWITTER_SIGN_IN_METHOD="twitter.com";Di.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P4(t,e){return td(t,"POST","/v1/accounts:signUp",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await Dr._fromIdTokenResponse(e,r,s),l=db(r);return new Zo({user:o,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=db(r);return new Zo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function db(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf extends vs{constructor(e,n,r,s){var o;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,kf.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new kf(e,n,r,s)}}function xC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?kf._fromErrorAndOperation(t,o,e,r):o})}async function R4(t,e,n=!1){const r=await Il(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Zo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wC(t,e,n=!1){const{auth:r}=t;if(Tn(r.app))return Promise.reject(Bs(r));const s="reauthenticate";try{const o=await Il(t,xC(r,s,e,t),n);Ve(o.idToken,r,"internal-error");const l=r0(o.idToken);Ve(l,r,"internal-error");const{sub:c}=l;return Ve(t.uid===c,r,"user-mismatch"),Zo._forOperation(t,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&mr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _C(t,e,n=!1){if(Tn(t.app))return Promise.reject(Bs(t));const r="signIn",s=await xC(t,r,e),o=await Zo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}async function k4(t,e){return _C(so(t),e)}async function j4(t,e){return wC(ut(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EC(t){const e=so(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function D4(t,e,n){if(Tn(t.app))return Promise.reject(Bs(t));const r=so(t),l=await Vv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",P4).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&EC(t),h}),c=await Zo._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function M4(t,e,n){return Tn(t.app)?Promise.reject(Bs(t)):k4(ut(t),oa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&EC(t),r})}function O4(t,e){return V4(ut(t),null,e)}async function V4(t,e,n){const{auth:r}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(o.password=n);const l=await Il(t,E4(r,o));await t._updateTokensIfNecessary(l,!0)}function L4(t,e,n,r){return ut(t).onIdTokenChanged(e,n,r)}function F4(t,e,n){return ut(t).beforeAuthStateChanged(e,n)}function U4(t,e,n,r){return ut(t).onAuthStateChanged(e,n,r)}function $4(t){return ut(t).signOut()}const jf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jf,"1"),this.storage.removeItem(jf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4=1e3,z4=10;class TC extends bC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);r4()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,z4):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},B4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}TC.type="LOCAL";const W4=TC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC extends bC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}SC.type="SESSION";const CC=SC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new gp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,l=this.handlersMap[s];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(l).map(async p=>p(n.origin,o)),h=await H4(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,l;return new Promise((c,h)=>{const p=l0("",20);s.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(v){const x=v;if(x.data.eventId===p)switch(x.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(x.data.response);break;default:clearTimeout(g),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(){return window}function q4(t){os().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(){return typeof os().WorkerGlobalScope<"u"&&typeof os().importScripts=="function"}async function G4(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Q4(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Y4(){return IC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="firebaseLocalStorageDb",X4=1,Df="firebaseLocalStorage",AC="fbase_key";class rd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vp(t,e){return t.transaction([Df],e?"readwrite":"readonly").objectStore(Df)}function J4(){const t=indexedDB.deleteDatabase(NC);return new rd(t).toPromise()}function Lv(){const t=indexedDB.open(NC,X4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Df,{keyPath:AC})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Df)?e(r):(r.close(),await J4(),e(await Lv()))})})}async function hb(t,e,n){const r=vp(t,!0).put({[AC]:e,value:n});return new rd(r).toPromise()}async function Z4(t,e){const n=vp(t,!1).get(e),r=await new rd(n).toPromise();return r===void 0?null:r.value}function fb(t,e){const n=vp(t,!0).delete(e);return new rd(n).toPromise()}const eV=800,tV=3;class PC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>tV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return IC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gp._getInstance(Y4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await G4(),!this.activeServiceWorker)return;this.sender=new K4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Q4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Lv();return await hb(e,jf,"1"),await fb(e,jf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>hb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Z4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>fb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=vp(s,!1).getAll();return new rd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PC.type="LOCAL";const nV=PC;new ed(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(t,e){return e?$s(e):(Ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0 extends i0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _l(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _l(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _l(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function rV(t){return _C(t.auth,new c0(t),t.bypassAuthState)}function sV(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),wC(n,new c0(t),t.bypassAuthState)}async function iV(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),R4(n,new c0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rV;case"linkViaPopup":case"linkViaRedirect":return iV;case"reauthViaPopup":case"reauthViaRedirect":return sV;default:mr(this.auth,"internal-error")}}resolve(e){Xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV=new ed(2e3,1e4);async function aV(t,e,n){if(Tn(t.app))return Promise.reject(Or(t,"operation-not-supported-in-this-environment"));const r=so(t);VO(t,e,a0);const s=RC(r,n);return new Wo(r,"signInViaPopup",e,s).executeNotNull()}class Wo extends kC{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,Wo.currentPopupAction&&Wo.currentPopupAction.cancel(),Wo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){Xs(this.filter.length===1,"Popup operations only handle one event");const e=l0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Or(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Or(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Or(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,oV.get())};e()}}Wo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV="pendingRedirect",sf=new Map;class cV extends kC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=sf.get(this.auth._key());if(!e){try{const r=await uV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}sf.set(this.auth._key(),e)}return this.bypassAuthState||sf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uV(t,e){const n=fV(e),r=hV(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function dV(t,e){sf.set(t._key(),e)}function hV(t){return $s(t._redirectPersistence)}function fV(t){return rf(lV,t.config.apiKey,t.name)}async function pV(t,e,n=!1){if(Tn(t.app))return Promise.reject(Bs(t));const r=so(t),s=RC(r,e),l=await new cV(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV=600*1e3;class gV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!jC(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Or(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mV&&this.cachedEventUids.clear(),this.cachedEventUids.has(pb(e))}saveEventToCache(e){this.cachedEventUids.add(pb(e)),this.lastProcessedEventTime=Date.now()}}function pb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jC({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function vV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yV(t,e={}){return ri(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wV=/^https?/;async function _V(t){if(t.config.emulator)return;const{authorizedDomains:e}=await yV(t);for(const n of e)try{if(EV(n))return}catch{}mr(t,"unauthorized-domain")}function EV(t){const e=Mv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!wV.test(n))return!1;if(xV.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV=new ed(3e4,6e4);function mb(){const t=os().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function TV(t){return new Promise((e,n)=>{var r,s,o;function l(){mb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mb(),n(Or(t,"network-request-failed"))},timeout:bV.get()})}if(!((s=(r=os().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=os().gapi)===null||o===void 0)&&o.load)l();else{const c=h4("iframefcb");return os()[c]=()=>{gapi.load?l():n(Or(t,"network-request-failed"))},gC(`${d4()}?onload=${c}`).catch(h=>n(h))}}).catch(e=>{throw of=null,e})}let of=null;function SV(t){return of=of||TV(t),of}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CV=new ed(5e3,15e3),IV="__/auth/iframe",NV="emulator/auth/iframe",AV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RV(t){const e=t.config;Ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?n0(e,NV):`https://${t.config.authDomain}/${IV}`,r={apiKey:e.apiKey,appName:t.name,v:ia},s=PV.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Yu(r).slice(1)}`}async function kV(t){const e=await SV(t),n=os().gapi;return Ve(n,t,"internal-error"),e.open({where:document.body,url:RV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AV,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const l=Or(t,"network-request-failed"),c=os().setTimeout(()=>{o(l)},CV.get());function h(){os().clearTimeout(c),s(r)}r.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DV=500,MV=600,OV="_blank",VV="http://localhost";class gb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function LV(t,e,n,r=DV,s=MV){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const h=Object.assign(Object.assign({},jV),{width:r.toString(),height:s.toString(),top:o,left:l}),p=mn().toLowerCase();n&&(c=cC(p)?OV:n),aC(p)&&(e=e||VV,h.scrollbars="yes");const g=Object.entries(h).reduce((x,[b,S])=>`${x}${b}=${S},`,"");if(n4(p)&&c!=="_self")return FV(e||"",c),new gb(null);const v=window.open(e||"",c,g);Ve(v,t,"popup-blocked");try{v.focus()}catch{}return new gb(v)}function FV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV="__/auth/handler",$V="emulator/auth/handler",BV=encodeURIComponent("fac");async function vb(t,e,n,r,s,o){Ve(t.config.authDomain,t,"auth-domain-config-required"),Ve(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ia,eventId:s};if(e instanceof a0){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",xM(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))l[g]=v}if(e instanceof nd){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(l.scopes=g.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const h=await t._getAppCheckToken(),p=h?`#${BV}=${encodeURIComponent(h)}`:"";return`${zV(t)}?${Yu(c).slice(1)}${p}`}function zV({config:t}){return t.emulator?n0(t,$V):`https://${t.authDomain}/${UV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg="webStorageSupport";class WV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CC,this._completeRedirectFn=pV,this._overrideRedirectResult=dV}async _openPopup(e,n,r,s){var o;Xs((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await vb(e,n,r,Mv(),s);return LV(e,l,l0())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await vb(e,n,r,Mv(),s);return q4(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(Xs(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await kV(e),r=new gV(e);return n.register("authEvent",s=>(Ve(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Bg,{type:Bg},s=>{var o;const l=(o=s?.[0])===null||o===void 0?void 0:o[Bg];l!==void 0&&n(!!l),mr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_V(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pC()||lC()||s0()}}const HV=WV;var yb="@firebase/auth",xb="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GV(t){Bi(new Qs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Ve(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mC(t)},p=new l4(r,s,o,h);return y4(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Bi(new Qs("auth-internal",e=>{const n=so(e.getProvider("auth").getImmediate());return(r=>new KV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),fr(yb,xb,qV(t)),fr(yb,xb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV=300,YV=qS("authIdTokenMaxAge")||QV;let wb=null;const XV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>YV)return;const s=n?.token;wb!==s&&(wb=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function JV(t=Ju()){const e=Xu(t,"auth");if(e.isInitialized())return e.getImmediate();const n=v4(t,{popupRedirectResolver:HV,persistence:[nV,W4,CC]}),r=qS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=XV(o.toString());F4(n,l,()=>l(n.currentUser)),L4(n,c=>l(c))}}const s=HS("auth");return s&&x4(n,`http://${s}`),n}function ZV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}c4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=Or("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",ZV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GV("Browser");var _b=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ui,DC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,A){function D(){}D.prototype=A.prototype,R.D=A.prototype,R.prototype=new D,R.prototype.constructor=R,R.C=function(V,B,W){for(var P=Array(arguments.length-2),te=2;te<arguments.length;te++)P[te-2]=arguments[te];return A.prototype[B].apply(V,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(R,A,D){D||(D=0);var V=Array(16);if(typeof A=="string")for(var B=0;16>B;++B)V[B]=A.charCodeAt(D++)|A.charCodeAt(D++)<<8|A.charCodeAt(D++)<<16|A.charCodeAt(D++)<<24;else for(B=0;16>B;++B)V[B]=A[D++]|A[D++]<<8|A[D++]<<16|A[D++]<<24;A=R.g[0],D=R.g[1],B=R.g[2];var W=R.g[3],P=A+(W^D&(B^W))+V[0]+3614090360&4294967295;A=D+(P<<7&4294967295|P>>>25),P=W+(B^A&(D^B))+V[1]+3905402710&4294967295,W=A+(P<<12&4294967295|P>>>20),P=B+(D^W&(A^D))+V[2]+606105819&4294967295,B=W+(P<<17&4294967295|P>>>15),P=D+(A^B&(W^A))+V[3]+3250441966&4294967295,D=B+(P<<22&4294967295|P>>>10),P=A+(W^D&(B^W))+V[4]+4118548399&4294967295,A=D+(P<<7&4294967295|P>>>25),P=W+(B^A&(D^B))+V[5]+1200080426&4294967295,W=A+(P<<12&4294967295|P>>>20),P=B+(D^W&(A^D))+V[6]+2821735955&4294967295,B=W+(P<<17&4294967295|P>>>15),P=D+(A^B&(W^A))+V[7]+4249261313&4294967295,D=B+(P<<22&4294967295|P>>>10),P=A+(W^D&(B^W))+V[8]+1770035416&4294967295,A=D+(P<<7&4294967295|P>>>25),P=W+(B^A&(D^B))+V[9]+2336552879&4294967295,W=A+(P<<12&4294967295|P>>>20),P=B+(D^W&(A^D))+V[10]+4294925233&4294967295,B=W+(P<<17&4294967295|P>>>15),P=D+(A^B&(W^A))+V[11]+2304563134&4294967295,D=B+(P<<22&4294967295|P>>>10),P=A+(W^D&(B^W))+V[12]+1804603682&4294967295,A=D+(P<<7&4294967295|P>>>25),P=W+(B^A&(D^B))+V[13]+4254626195&4294967295,W=A+(P<<12&4294967295|P>>>20),P=B+(D^W&(A^D))+V[14]+2792965006&4294967295,B=W+(P<<17&4294967295|P>>>15),P=D+(A^B&(W^A))+V[15]+1236535329&4294967295,D=B+(P<<22&4294967295|P>>>10),P=A+(B^W&(D^B))+V[1]+4129170786&4294967295,A=D+(P<<5&4294967295|P>>>27),P=W+(D^B&(A^D))+V[6]+3225465664&4294967295,W=A+(P<<9&4294967295|P>>>23),P=B+(A^D&(W^A))+V[11]+643717713&4294967295,B=W+(P<<14&4294967295|P>>>18),P=D+(W^A&(B^W))+V[0]+3921069994&4294967295,D=B+(P<<20&4294967295|P>>>12),P=A+(B^W&(D^B))+V[5]+3593408605&4294967295,A=D+(P<<5&4294967295|P>>>27),P=W+(D^B&(A^D))+V[10]+38016083&4294967295,W=A+(P<<9&4294967295|P>>>23),P=B+(A^D&(W^A))+V[15]+3634488961&4294967295,B=W+(P<<14&4294967295|P>>>18),P=D+(W^A&(B^W))+V[4]+3889429448&4294967295,D=B+(P<<20&4294967295|P>>>12),P=A+(B^W&(D^B))+V[9]+568446438&4294967295,A=D+(P<<5&4294967295|P>>>27),P=W+(D^B&(A^D))+V[14]+3275163606&4294967295,W=A+(P<<9&4294967295|P>>>23),P=B+(A^D&(W^A))+V[3]+4107603335&4294967295,B=W+(P<<14&4294967295|P>>>18),P=D+(W^A&(B^W))+V[8]+1163531501&4294967295,D=B+(P<<20&4294967295|P>>>12),P=A+(B^W&(D^B))+V[13]+2850285829&4294967295,A=D+(P<<5&4294967295|P>>>27),P=W+(D^B&(A^D))+V[2]+4243563512&4294967295,W=A+(P<<9&4294967295|P>>>23),P=B+(A^D&(W^A))+V[7]+1735328473&4294967295,B=W+(P<<14&4294967295|P>>>18),P=D+(W^A&(B^W))+V[12]+2368359562&4294967295,D=B+(P<<20&4294967295|P>>>12),P=A+(D^B^W)+V[5]+4294588738&4294967295,A=D+(P<<4&4294967295|P>>>28),P=W+(A^D^B)+V[8]+2272392833&4294967295,W=A+(P<<11&4294967295|P>>>21),P=B+(W^A^D)+V[11]+1839030562&4294967295,B=W+(P<<16&4294967295|P>>>16),P=D+(B^W^A)+V[14]+4259657740&4294967295,D=B+(P<<23&4294967295|P>>>9),P=A+(D^B^W)+V[1]+2763975236&4294967295,A=D+(P<<4&4294967295|P>>>28),P=W+(A^D^B)+V[4]+1272893353&4294967295,W=A+(P<<11&4294967295|P>>>21),P=B+(W^A^D)+V[7]+4139469664&4294967295,B=W+(P<<16&4294967295|P>>>16),P=D+(B^W^A)+V[10]+3200236656&4294967295,D=B+(P<<23&4294967295|P>>>9),P=A+(D^B^W)+V[13]+681279174&4294967295,A=D+(P<<4&4294967295|P>>>28),P=W+(A^D^B)+V[0]+3936430074&4294967295,W=A+(P<<11&4294967295|P>>>21),P=B+(W^A^D)+V[3]+3572445317&4294967295,B=W+(P<<16&4294967295|P>>>16),P=D+(B^W^A)+V[6]+76029189&4294967295,D=B+(P<<23&4294967295|P>>>9),P=A+(D^B^W)+V[9]+3654602809&4294967295,A=D+(P<<4&4294967295|P>>>28),P=W+(A^D^B)+V[12]+3873151461&4294967295,W=A+(P<<11&4294967295|P>>>21),P=B+(W^A^D)+V[15]+530742520&4294967295,B=W+(P<<16&4294967295|P>>>16),P=D+(B^W^A)+V[2]+3299628645&4294967295,D=B+(P<<23&4294967295|P>>>9),P=A+(B^(D|~W))+V[0]+4096336452&4294967295,A=D+(P<<6&4294967295|P>>>26),P=W+(D^(A|~B))+V[7]+1126891415&4294967295,W=A+(P<<10&4294967295|P>>>22),P=B+(A^(W|~D))+V[14]+2878612391&4294967295,B=W+(P<<15&4294967295|P>>>17),P=D+(W^(B|~A))+V[5]+4237533241&4294967295,D=B+(P<<21&4294967295|P>>>11),P=A+(B^(D|~W))+V[12]+1700485571&4294967295,A=D+(P<<6&4294967295|P>>>26),P=W+(D^(A|~B))+V[3]+2399980690&4294967295,W=A+(P<<10&4294967295|P>>>22),P=B+(A^(W|~D))+V[10]+4293915773&4294967295,B=W+(P<<15&4294967295|P>>>17),P=D+(W^(B|~A))+V[1]+2240044497&4294967295,D=B+(P<<21&4294967295|P>>>11),P=A+(B^(D|~W))+V[8]+1873313359&4294967295,A=D+(P<<6&4294967295|P>>>26),P=W+(D^(A|~B))+V[15]+4264355552&4294967295,W=A+(P<<10&4294967295|P>>>22),P=B+(A^(W|~D))+V[6]+2734768916&4294967295,B=W+(P<<15&4294967295|P>>>17),P=D+(W^(B|~A))+V[13]+1309151649&4294967295,D=B+(P<<21&4294967295|P>>>11),P=A+(B^(D|~W))+V[4]+4149444226&4294967295,A=D+(P<<6&4294967295|P>>>26),P=W+(D^(A|~B))+V[11]+3174756917&4294967295,W=A+(P<<10&4294967295|P>>>22),P=B+(A^(W|~D))+V[2]+718787259&4294967295,B=W+(P<<15&4294967295|P>>>17),P=D+(W^(B|~A))+V[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(B+(P<<21&4294967295|P>>>11))&4294967295,R.g[2]=R.g[2]+B&4294967295,R.g[3]=R.g[3]+W&4294967295}r.prototype.u=function(R,A){A===void 0&&(A=R.length);for(var D=A-this.blockSize,V=this.B,B=this.h,W=0;W<A;){if(B==0)for(;W<=D;)s(this,R,W),W+=this.blockSize;if(typeof R=="string"){for(;W<A;)if(V[B++]=R.charCodeAt(W++),B==this.blockSize){s(this,V),B=0;break}}else for(;W<A;)if(V[B++]=R[W++],B==this.blockSize){s(this,V),B=0;break}}this.h=B,this.o+=A},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;var D=8*this.o;for(A=R.length-8;A<R.length;++A)R[A]=D&255,D/=256;for(this.u(R),R=Array(16),A=D=0;4>A;++A)for(var V=0;32>V;V+=8)R[D++]=this.g[A]>>>V&255;return R};function o(R,A){var D=c;return Object.prototype.hasOwnProperty.call(D,R)?D[R]:D[R]=A(R)}function l(R,A){this.h=A;for(var D=[],V=!0,B=R.length-1;0<=B;B--){var W=R[B]|0;V&&W==A||(D[B]=W,V=!1)}this.g=D}var c={};function h(R){return-128<=R&&128>R?o(R,function(A){return new l([A|0],0>A?-1:0)}):new l([R|0],0>R?-1:0)}function p(R){if(isNaN(R)||!isFinite(R))return v;if(0>R)return I(p(-R));for(var A=[],D=1,V=0;R>=D;V++)A[V]=R/D|0,D*=4294967296;return new l(A,0)}function g(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return I(g(R.substring(1),A));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=p(Math.pow(A,8)),V=v,B=0;B<R.length;B+=8){var W=Math.min(8,R.length-B),P=parseInt(R.substring(B,B+W),A);8>W?(W=p(Math.pow(A,W)),V=V.j(W).add(p(P))):(V=V.j(D),V=V.add(p(P)))}return V}var v=h(0),x=h(1),b=h(16777216);t=l.prototype,t.m=function(){if(C(this))return-I(this).m();for(var R=0,A=1,D=0;D<this.g.length;D++){var V=this.i(D);R+=(0<=V?V:4294967296+V)*A,A*=4294967296}return R},t.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(S(this))return"0";if(C(this))return"-"+I(this).toString(R);for(var A=p(Math.pow(R,6)),D=this,V="";;){var B=$(D,A).g;D=j(D,B.j(A));var W=((0<D.g.length?D.g[0]:D.h)>>>0).toString(R);if(D=B,S(D))return W+V;for(;6>W.length;)W="0"+W;V=W+V}},t.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function S(R){if(R.h!=0)return!1;for(var A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function C(R){return R.h==-1}t.l=function(R){return R=j(this,R),C(R)?-1:S(R)?0:1};function I(R){for(var A=R.g.length,D=[],V=0;V<A;V++)D[V]=~R.g[V];return new l(D,~R.h).add(x)}t.abs=function(){return C(this)?I(this):this},t.add=function(R){for(var A=Math.max(this.g.length,R.g.length),D=[],V=0,B=0;B<=A;B++){var W=V+(this.i(B)&65535)+(R.i(B)&65535),P=(W>>>16)+(this.i(B)>>>16)+(R.i(B)>>>16);V=P>>>16,W&=65535,P&=65535,D[B]=P<<16|W}return new l(D,D[D.length-1]&-2147483648?-1:0)};function j(R,A){return R.add(I(A))}t.j=function(R){if(S(this)||S(R))return v;if(C(this))return C(R)?I(this).j(I(R)):I(I(this).j(R));if(C(R))return I(this.j(I(R)));if(0>this.l(b)&&0>R.l(b))return p(this.m()*R.m());for(var A=this.g.length+R.g.length,D=[],V=0;V<2*A;V++)D[V]=0;for(V=0;V<this.g.length;V++)for(var B=0;B<R.g.length;B++){var W=this.i(V)>>>16,P=this.i(V)&65535,te=R.i(B)>>>16,ue=R.i(B)&65535;D[2*V+2*B]+=P*ue,L(D,2*V+2*B),D[2*V+2*B+1]+=W*ue,L(D,2*V+2*B+1),D[2*V+2*B+1]+=P*te,L(D,2*V+2*B+1),D[2*V+2*B+2]+=W*te,L(D,2*V+2*B+2)}for(V=0;V<A;V++)D[V]=D[2*V+1]<<16|D[2*V];for(V=A;V<2*A;V++)D[V]=0;return new l(D,0)};function L(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function O(R,A){this.g=R,this.h=A}function $(R,A){if(S(A))throw Error("division by zero");if(S(R))return new O(v,v);if(C(R))return A=$(I(R),A),new O(I(A.g),I(A.h));if(C(A))return A=$(R,I(A)),new O(I(A.g),A.h);if(30<R.g.length){if(C(R)||C(A))throw Error("slowDivide_ only works with positive integers.");for(var D=x,V=A;0>=V.l(R);)D=z(D),V=z(V);var B=q(D,1),W=q(V,1);for(V=q(V,2),D=q(D,2);!S(V);){var P=W.add(V);0>=P.l(R)&&(B=B.add(D),W=P),V=q(V,1),D=q(D,1)}return A=j(R,B.j(A)),new O(B,A)}for(B=v;0<=R.l(A);){for(D=Math.max(1,Math.floor(R.m()/A.m())),V=Math.ceil(Math.log(D)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),W=p(D),P=W.j(A);C(P)||0<P.l(R);)D-=V,W=p(D),P=W.j(A);S(W)&&(W=x),B=B.add(W),R=j(R,P)}return new O(B,R)}t.A=function(R){return $(this,R).h},t.and=function(R){for(var A=Math.max(this.g.length,R.g.length),D=[],V=0;V<A;V++)D[V]=this.i(V)&R.i(V);return new l(D,this.h&R.h)},t.or=function(R){for(var A=Math.max(this.g.length,R.g.length),D=[],V=0;V<A;V++)D[V]=this.i(V)|R.i(V);return new l(D,this.h|R.h)},t.xor=function(R){for(var A=Math.max(this.g.length,R.g.length),D=[],V=0;V<A;V++)D[V]=this.i(V)^R.i(V);return new l(D,this.h^R.h)};function z(R){for(var A=R.g.length+1,D=[],V=0;V<A;V++)D[V]=R.i(V)<<1|R.i(V-1)>>>31;return new l(D,R.h)}function q(R,A){var D=A>>5;A%=32;for(var V=R.g.length-D,B=[],W=0;W<V;W++)B[W]=0<A?R.i(W+D)>>>A|R.i(W+D+1)<<32-A:R.i(W+D);return new l(B,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,DC=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,Ui=l}).apply(typeof _b<"u"?_b:typeof self<"u"?self:typeof window<"u"?window:{});var Fh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var MC,Zc,OC,af,Fv,VC,LC,FC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,w,T){return f==Array.prototype||f==Object.prototype||(f[w]=T.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fh=="object"&&Fh];for(var w=0;w<f.length;++w){var T=f[w];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function s(f,w){if(w)e:{var T=r;f=f.split(".");for(var k=0;k<f.length-1;k++){var X=f[k];if(!(X in T))break e;T=T[X]}f=f[f.length-1],k=T[f],w=w(k),w!=k&&w!=null&&e(T,f,{configurable:!0,writable:!0,value:w})}}function o(f,w){f instanceof String&&(f+="");var T=0,k=!1,X={next:function(){if(!k&&T<f.length){var se=T++;return{value:w(se,f[se]),done:!1}}return k=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}s("Array.prototype.values",function(f){return f||function(){return o(this,function(w,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(f){var w=typeof f;return w=w!="object"?w:f?Array.isArray(f)?"array":w:"null",w=="array"||w=="object"&&typeof f.length=="number"}function p(f){var w=typeof f;return w=="object"&&f!=null||w=="function"}function g(f,w,T){return f.call.apply(f.bind,arguments)}function v(f,w,T){if(!f)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,k),f.apply(w,X)}}return function(){return f.apply(w,arguments)}}function x(f,w,T){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,x.apply(null,arguments)}function b(f,w){var T=Array.prototype.slice.call(arguments,1);return function(){var k=T.slice();return k.push.apply(k,arguments),f.apply(this,k)}}function S(f,w){function T(){}T.prototype=w.prototype,f.aa=w.prototype,f.prototype=new T,f.prototype.constructor=f,f.Qb=function(k,X,se){for(var ye=Array(arguments.length-2),it=2;it<arguments.length;it++)ye[it-2]=arguments[it];return w.prototype[X].apply(k,ye)}}function C(f){const w=f.length;if(0<w){const T=Array(w);for(let k=0;k<w;k++)T[k]=f[k];return T}return[]}function I(f,w){for(let T=1;T<arguments.length;T++){const k=arguments[T];if(h(k)){const X=f.length||0,se=k.length||0;f.length=X+se;for(let ye=0;ye<se;ye++)f[X+ye]=k[ye]}else f.push(k)}}class j{constructor(w,T){this.i=w,this.j=T,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function L(f){return/^[\s\xa0]*$/.test(f)}function O(){var f=c.navigator;return f&&(f=f.userAgent)?f:""}function $(f){return $[" "](f),f}$[" "]=function(){};var z=O().indexOf("Gecko")!=-1&&!(O().toLowerCase().indexOf("webkit")!=-1&&O().indexOf("Edge")==-1)&&!(O().indexOf("Trident")!=-1||O().indexOf("MSIE")!=-1)&&O().indexOf("Edge")==-1;function q(f,w,T){for(const k in f)w.call(T,f[k],k,f)}function R(f,w){for(const T in f)w.call(void 0,f[T],T,f)}function A(f){const w={};for(const T in f)w[T]=f[T];return w}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(f,w){let T,k;for(let X=1;X<arguments.length;X++){k=arguments[X];for(T in k)f[T]=k[T];for(let se=0;se<D.length;se++)T=D[se],Object.prototype.hasOwnProperty.call(k,T)&&(f[T]=k[T])}}function B(f){var w=1;f=f.split(":");const T=[];for(;0<w&&f.length;)T.push(f.shift()),w--;return f.length&&T.push(f.join(":")),T}function W(f){c.setTimeout(()=>{throw f},0)}function P(){var f=Y;let w=null;return f.g&&(w=f.g,f.g=f.g.next,f.g||(f.h=null),w.next=null),w}class te{constructor(){this.h=this.g=null}add(w,T){const k=ue.get();k.set(w,T),this.h?this.h.next=k:this.g=k,this.h=k}}var ue=new j(()=>new ae,f=>f.reset());class ae{constructor(){this.next=this.g=this.h=null}set(w,T){this.h=w,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,M=!1,Y=new te,K=()=>{const f=c.Promise.resolve(void 0);Z=()=>{f.then(F)}};var F=()=>{for(var f;f=P();){try{f.h.call(f.g)}catch(T){W(T)}var w=ue;w.j(f),100>w.h&&(w.h++,f.next=w.g,w.g=f)}M=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(f,w){this.type=f,this.g=this.target=w,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var ve=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,w=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};c.addEventListener("test",T,w),c.removeEventListener("test",T,w)}catch{}return f})();function ce(f,w){if(re.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var T=this.type=f.type,k=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=w,w=f.relatedTarget){if(z){e:{try{$(w.nodeName);var X=!0;break e}catch{}X=!1}X||(w=null)}}else T=="mouseover"?w=f.fromElement:T=="mouseout"&&(w=f.toElement);this.relatedTarget=w,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:fe[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&ce.aa.h.call(this)}}S(ce,re);var fe={2:"touch",3:"pen",4:"mouse"};ce.prototype.h=function(){ce.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var le="closure_listenable_"+(1e6*Math.random()|0),xe=0;function Ae(f,w,T,k,X){this.listener=f,this.proxy=null,this.src=w,this.type=T,this.capture=!!k,this.ha=X,this.key=++xe,this.da=this.fa=!1}function Ke(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Gt(f){this.src=f,this.g={},this.h=0}Gt.prototype.add=function(f,w,T,k,X){var se=f.toString();f=this.g[se],f||(f=this.g[se]=[],this.h++);var ye=vn(f,w,k,X);return-1<ye?(w=f[ye],T||(w.fa=!1)):(w=new Ae(w,this.src,se,!!k,X),w.fa=T,f.push(w)),w};function Un(f,w){var T=w.type;if(T in f.g){var k=f.g[T],X=Array.prototype.indexOf.call(k,w,void 0),se;(se=0<=X)&&Array.prototype.splice.call(k,X,1),se&&(Ke(w),f.g[T].length==0&&(delete f.g[T],f.h--))}}function vn(f,w,T,k){for(var X=0;X<f.length;++X){var se=f[X];if(!se.da&&se.listener==w&&se.capture==!!T&&se.ha==k)return X}return-1}var $r="closure_lm_"+(1e6*Math.random()|0),Br={};function ec(f,w,T,k,X){if(Array.isArray(w)){for(var se=0;se<w.length;se++)ec(f,w[se],T,k,X);return null}return T=rc(T),f&&f[le]?f.K(w,T,p(k)?!!k.capture:!1,X):tc(f,w,T,!1,k,X)}function tc(f,w,T,k,X,se){if(!w)throw Error("Invalid event type");var ye=p(X)?!!X.capture:!!X,it=ga(f);if(it||(f[$r]=it=new Gt(f)),T=it.add(w,T,k,ye,se),T.proxy)return T;if(k=Ed(),T.proxy=k,k.src=f,k.listener=T,f.addEventListener)ve||(X=ye),X===void 0&&(X=!1),f.addEventListener(w.toString(),k,X);else if(f.attachEvent)f.attachEvent(bs(w.toString()),k);else if(f.addListener&&f.removeListener)f.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ed(){function f(T){return w.call(f.src,f.listener,T)}const w=nc;return f}function ma(f,w,T,k,X){if(Array.isArray(w))for(var se=0;se<w.length;se++)ma(f,w[se],T,k,X);else k=p(k)?!!k.capture:!!k,T=rc(T),f&&f[le]?(f=f.i,w=String(w).toString(),w in f.g&&(se=f.g[w],T=vn(se,T,k,X),-1<T&&(Ke(se[T]),Array.prototype.splice.call(se,T,1),se.length==0&&(delete f.g[w],f.h--)))):f&&(f=ga(f))&&(w=f.g[w.toString()],f=-1,w&&(f=vn(w,T,k,X)),(T=-1<f?w[f]:null)&&Es(T))}function Es(f){if(typeof f!="number"&&f&&!f.da){var w=f.src;if(w&&w[le])Un(w.i,f);else{var T=f.type,k=f.proxy;w.removeEventListener?w.removeEventListener(T,k,f.capture):w.detachEvent?w.detachEvent(bs(T),k):w.addListener&&w.removeListener&&w.removeListener(k),(T=ga(w))?(Un(T,f),T.h==0&&(T.src=null,w[$r]=null)):Ke(f)}}}function bs(f){return f in Br?Br[f]:Br[f]="on"+f}function nc(f,w){if(f.da)f=!0;else{w=new ce(w,this);var T=f.listener,k=f.ha||f.src;f.fa&&Es(f),f=T.call(k,w)}return f}function ga(f){return f=f[$r],f instanceof Gt?f:null}var va="__closure_events_fn_"+(1e9*Math.random()>>>0);function rc(f){return typeof f=="function"?f:(f[va]||(f[va]=function(w){return f.handleEvent(w)}),f[va])}function Dt(){Q.call(this),this.i=new Gt(this),this.M=this,this.F=null}S(Dt,Q),Dt.prototype[le]=!0,Dt.prototype.removeEventListener=function(f,w,T,k){ma(this,f,w,T,k)};function Mt(f,w){var T,k=f.F;if(k)for(T=[];k;k=k.F)T.push(k);if(f=f.M,k=w.type||w,typeof w=="string")w=new re(w,f);else if(w instanceof re)w.target=w.target||f;else{var X=w;w=new re(k,f),V(w,X)}if(X=!0,T)for(var se=T.length-1;0<=se;se--){var ye=w.g=T[se];X=Ts(ye,k,!0,w)&&X}if(ye=w.g=f,X=Ts(ye,k,!0,w)&&X,X=Ts(ye,k,!1,w)&&X,T)for(se=0;se<T.length;se++)ye=w.g=T[se],X=Ts(ye,k,!1,w)&&X}Dt.prototype.N=function(){if(Dt.aa.N.call(this),this.i){var f=this.i,w;for(w in f.g){for(var T=f.g[w],k=0;k<T.length;k++)Ke(T[k]);delete f.g[w],f.h--}}this.F=null},Dt.prototype.K=function(f,w,T,k){return this.i.add(String(f),w,!1,T,k)},Dt.prototype.L=function(f,w,T,k){return this.i.add(String(f),w,!0,T,k)};function Ts(f,w,T,k){if(w=f.i.g[String(w)],!w)return!0;w=w.concat();for(var X=!0,se=0;se<w.length;++se){var ye=w[se];if(ye&&!ye.da&&ye.capture==T){var it=ye.listener,Ot=ye.ha||ye.src;ye.fa&&Un(f.i,ye),X=it.call(Ot,k)!==!1&&X}}return X&&!k.defaultPrevented}function sc(f,w,T){if(typeof f=="function")T&&(f=x(f,T));else if(f&&typeof f.handleEvent=="function")f=x(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:c.setTimeout(f,w||0)}function si(f){f.g=sc(()=>{f.g=null,f.i&&(f.i=!1,si(f))},f.l);const w=f.h;f.h=null,f.m.apply(null,w)}class co extends Q{constructor(w,T){super(),this.m=w,this.l=T,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:si(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function uo(f){Q.call(this),this.h=f,this.g={}}S(uo,Q);var ic=[];function oc(f){q(f.g,function(w,T){this.g.hasOwnProperty(T)&&Es(w)},f),f.g={}}uo.prototype.N=function(){uo.aa.N.call(this),oc(this)},uo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ac=c.JSON.stringify,lc=c.JSON.parse,cc=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function ho(){}ho.prototype.h=null;function ya(f){return f.h||(f.h=f.i())}function xa(){}var er={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zr(){re.call(this,"d")}S(zr,re);function wa(){re.call(this,"c")}S(wa,re);var Wr={},uc=null;function fo(){return uc=uc||new Dt}Wr.La="serverreachability";function dc(f){re.call(this,Wr.La,f)}S(dc,re);function Ss(f){const w=fo();Mt(w,new dc(w))}Wr.STAT_EVENT="statevent";function hc(f,w){re.call(this,Wr.STAT_EVENT,f),this.stat=w}S(hc,re);function Tt(f){const w=fo();Mt(w,new hc(w,f))}Wr.Ma="timingevent";function _a(f,w){re.call(this,Wr.Ma,f),this.size=w}S(_a,re);function gr(f,w){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},w)}function po(){this.g=!0}po.prototype.xa=function(){this.g=!1};function mo(f,w,T,k,X,se){f.info(function(){if(f.g)if(se)for(var ye="",it=se.split("&"),Ot=0;Ot<it.length;Ot++){var Xe=it[Ot].split("=");if(1<Xe.length){var Bt=Xe[0];Xe=Xe[1];var Nt=Bt.split("_");ye=2<=Nt.length&&Nt[1]=="type"?ye+(Bt+"="+Xe+"&"):ye+(Bt+"=redacted&")}}else ye=null;else ye=se;return"XMLHTTP REQ ("+k+") [attempt "+X+"]: "+w+`
`+T+`
`+ye})}function Ea(f,w,T,k,X,se,ye){f.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+X+"]: "+w+`
`+T+`
`+se+" "+ye})}function vr(f,w,T,k){f.info(function(){return"XMLHTTP TEXT ("+w+"): "+sm(f,T)+(k?" "+k:"")})}function fc(f,w){f.info(function(){return"TIMEOUT: "+w})}po.prototype.info=function(){};function sm(f,w){if(!f.g)return w;if(!w)return null;try{var T=JSON.parse(w);if(T){for(f=0;f<T.length;f++)if(Array.isArray(T[f])){var k=T[f];if(!(2>k.length)){var X=k[1];if(Array.isArray(X)&&!(1>X.length)){var se=X[0];if(se!="noop"&&se!="stop"&&se!="close")for(var ye=1;ye<X.length;ye++)X[ye]=""}}}}return ac(T)}catch{return w}}var ba={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},bd={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yr;function go(){}S(go,ho),go.prototype.g=function(){return new XMLHttpRequest},go.prototype.i=function(){return{}},yr=new go;function xr(f,w,T,k){this.j=f,this.i=w,this.l=T,this.R=k||1,this.U=new uo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Td}function Td(){this.i=null,this.g="",this.h=!1}var pc={},Ta={};function Sa(f,w,T){f.L=1,f.v=ci(Bn(w)),f.m=T,f.P=!0,mc(f,null)}function mc(f,w){f.F=Date.now(),lt(f),f.A=Bn(f.v);var T=f.A,k=f.R;Array.isArray(k)||(k=[String(k)]),di(T.i,"t",k),f.C=0,T=f.j.J,f.h=new Td,f.g=Bd(f.j,T?w:null,!f.m),0<f.O&&(f.M=new co(x(f.Y,f,f.g),f.O)),w=f.U,T=f.g,k=f.ca;var X="readystatechange";Array.isArray(X)||(X&&(ic[0]=X.toString()),X=ic);for(var se=0;se<X.length;se++){var ye=ec(T,X[se],k||w.handleEvent,!1,w.h||w);if(!ye)break;w.g[ye.key]=ye}w=f.H?A(f.H):{},f.m?(f.u||(f.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,w)):(f.u="GET",f.g.ea(f.A,f.u,null,w)),Ss(),mo(f.i,f.u,f.A,f.l,f.R,f.m)}xr.prototype.ca=function(f){f=f.target;const w=this.M;w&&An(f)==3?w.j():this.Y(f)},xr.prototype.Y=function(f){try{if(f==this.g)e:{const Nt=An(this.g);var w=this.g.Ba();const rr=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||_c(this.g)))){this.J||Nt!=4||w==7||(w==8||0>=rr?Ss(3):Ss(2)),vo(this);var T=this.g.Z();this.X=T;t:if(Sd(this)){var k=_c(this.g);f="";var X=k.length,se=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tr(this),ii(this);var ye="";break t}this.h.i=new c.TextDecoder}for(w=0;w<X;w++)this.h.h=!0,f+=this.h.i.decode(k[w],{stream:!(se&&w==X-1)});k.length=0,this.h.g+=f,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=T==200,Ea(this.i,this.u,this.A,this.l,this.R,Nt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var it,Ot=this.g;if((it=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(it)){var Xe=it;break t}}Xe=null}if(T=Xe)vr(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gc(this,T);else{this.o=!1,this.s=3,Tt(12),tr(this),ii(this);break e}}if(this.P){T=!0;let Wn;for(;!this.J&&this.C<ye.length;)if(Wn=im(this,ye),Wn==Ta){Nt==4&&(this.s=4,Tt(14),T=!1),vr(this.i,this.l,null,"[Incomplete Response]");break}else if(Wn==pc){this.s=4,Tt(15),vr(this.i,this.l,ye,"[Invalid Chunk]"),T=!1;break}else vr(this.i,this.l,Wn,null),gc(this,Wn);if(Sd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||ye.length!=0||this.h.h||(this.s=1,Tt(16),T=!1),this.o=this.o&&T,!T)vr(this.i,this.l,ye,"[Invalid Chunked Response]"),tr(this),ii(this);else if(0<ye.length&&!this.W){this.W=!0;var Bt=this.j;Bt.g==this&&Bt.ba&&!Bt.M&&(Bt.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),bc(Bt),Bt.M=!0,Tt(11))}}else vr(this.i,this.l,ye,null),gc(this,ye);Nt==4&&tr(this),this.o&&!this.J&&(Nt==4?Oa(this.j,this):(this.o=!1,lt(this)))}else Ra(this.g),T==400&&0<ye.indexOf("Unknown SID")?(this.s=3,Tt(12)):(this.s=0,Tt(13)),tr(this),ii(this)}}}catch{}finally{}};function Sd(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function im(f,w){var T=f.C,k=w.indexOf(`
`,T);return k==-1?Ta:(T=Number(w.substring(T,k)),isNaN(T)?pc:(k+=1,k+T>w.length?Ta:(w=w.slice(k,k+T),f.C=k+T,w)))}xr.prototype.cancel=function(){this.J=!0,tr(this)};function lt(f){f.S=Date.now()+f.I,Cd(f,f.I)}function Cd(f,w){if(f.B!=null)throw Error("WatchDog timer not null");f.B=gr(x(f.ba,f),w)}function vo(f){f.B&&(c.clearTimeout(f.B),f.B=null)}xr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(fc(this.i,this.A),this.L!=2&&(Ss(),Tt(17)),tr(this),this.s=2,ii(this)):Cd(this,this.S-f)};function ii(f){f.j.G==0||f.J||Oa(f.j,f)}function tr(f){vo(f);var w=f.M;w&&typeof w.ma=="function"&&w.ma(),f.M=null,oc(f.U),f.g&&(w=f.g,f.g=null,w.abort(),w.ma())}function gc(f,w){try{var T=f.j;if(T.G!=0&&(T.g==f||yn(T.h,f))){if(!f.K&&yn(T.h,f)&&T.G==3){try{var k=T.Da.g.parse(w)}catch{k=null}if(Array.isArray(k)&&k.length==3){var X=k;if(X[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<f.F)Ma(T),Tr(T);else break e;Da(T),Tt(18)}}else T.za=X[1],0<T.za-T.T&&37500>X[2]&&T.F&&T.v==0&&!T.C&&(T.C=gr(x(T.Za,T),6e3));if(1>=Nd(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Ps(T,11)}else if((f.K||T.g==f)&&Ma(T),!L(w))for(X=T.Da.g.parse(w),w=0;w<X.length;w++){let Xe=X[w];if(T.T=Xe[0],Xe=Xe[1],T.G==2)if(Xe[0]=="c"){T.K=Xe[1],T.ia=Xe[2];const Bt=Xe[3];Bt!=null&&(T.la=Bt,T.j.info("VER="+T.la));const Nt=Xe[4];Nt!=null&&(T.Aa=Nt,T.j.info("SVER="+T.Aa));const rr=Xe[5];rr!=null&&typeof rr=="number"&&0<rr&&(k=1.5*rr,T.L=k,T.j.info("backChannelRequestTimeoutMs_="+k)),k=T;const Wn=f.g;if(Wn){const To=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(To){var se=k.h;se.g||To.indexOf("spdy")==-1&&To.indexOf("quic")==-1&&To.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(vc(se,se.h),se.h=null))}if(k.D){const La=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;La&&(k.ya=La,at(k.I,k.D,La))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-f.F,T.j.info("Handshake RTT: "+T.R+"ms")),k=T;var ye=f;if(k.qa=$d(k,k.J?k.ia:null,k.W),ye.K){Ad(k.h,ye);var it=ye,Ot=k.L;Ot&&(it.I=Ot),it.B&&(vo(it),lt(it)),k.g=ye}else bo(k);0<T.i.length&&Gr(T)}else Xe[0]!="stop"&&Xe[0]!="close"||Ps(T,7);else T.G==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?Ps(T,7):Yt(T):Xe[0]!="noop"&&T.l&&T.l.ta(Xe),T.v=0)}}Ss(4)}catch{}}var Id=class{constructor(f,w){this.g=f,this.map=w}};function yo(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $n(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Nd(f){return f.h?1:f.g?f.g.size:0}function yn(f,w){return f.h?f.h==w:f.g?f.g.has(w):!1}function vc(f,w){f.g?f.g.add(w):f.h=w}function Ad(f,w){f.h&&f.h==w?f.h=null:f.g&&f.g.has(w)&&f.g.delete(w)}yo.prototype.cancel=function(){if(this.i=Pd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Pd(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let w=f.i;for(const T of f.g.values())w=w.concat(T.D);return w}return C(f.i)}function Ca(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(h(f)){for(var w=[],T=f.length,k=0;k<T;k++)w.push(f[k]);return w}w=[],T=0;for(k in f)w[T++]=f[k];return w}function Ia(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(h(f)||typeof f=="string"){var w=[];f=f.length;for(var T=0;T<f;T++)w.push(T);return w}w=[],T=0;for(const k in f)w[T++]=k;return w}}}function oi(f,w){if(f.forEach&&typeof f.forEach=="function")f.forEach(w,void 0);else if(h(f)||typeof f=="string")Array.prototype.forEach.call(f,w,void 0);else for(var T=Ia(f),k=Ca(f),X=k.length,se=0;se<X;se++)w.call(void 0,k[se],T&&T[se],f)}var xo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function om(f,w){if(f){f=f.split("&");for(var T=0;T<f.length;T++){var k=f[T].indexOf("="),X=null;if(0<=k){var se=f[T].substring(0,k);X=f[T].substring(k+1)}else se=f[T];w(se,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Cs(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Cs){this.h=f.h,wo(this,f.j),this.o=f.o,this.g=f.g,ai(this,f.s),this.l=f.l;var w=f.i,T=new Hr;T.i=w.i,w.g&&(T.g=new Map(w.g),T.h=w.h),li(this,T),this.m=f.m}else f&&(w=String(f).match(xo))?(this.h=!1,wo(this,w[1]||"",!0),this.o=Ye(w[2]||""),this.g=Ye(w[3]||"",!0),ai(this,w[4]),this.l=Ye(w[5]||"",!0),li(this,w[6]||"",!0),this.m=Ye(w[7]||"")):(this.h=!1,this.i=new Hr(null,this.h))}Cs.prototype.toString=function(){var f=[],w=this.j;w&&f.push(ui(w,Na,!0),":");var T=this.g;return(T||w=="file")&&(f.push("//"),(w=this.o)&&f.push(ui(w,Na,!0),"@"),f.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&f.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(ui(T,T.charAt(0)=="/"?jd:kd,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",ui(T,yc)),f.join("")};function Bn(f){return new Cs(f)}function wo(f,w,T){f.j=T?Ye(w,!0):w,f.j&&(f.j=f.j.replace(/:$/,""))}function ai(f,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);f.s=w}else f.s=null}function li(f,w,T){w instanceof Hr?(f.i=w,Kr(f.i,f.h)):(T||(w=ui(w,Dd)),f.i=new Hr(w,f.h))}function at(f,w,T){f.i.set(w,T)}function ci(f){return at(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Ye(f,w){return f?w?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ui(f,w,T){return typeof f=="string"?(f=encodeURI(f).replace(w,Rd),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Rd(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Na=/[#\/\?@]/g,kd=/[#\?:]/g,jd=/[#\?]/g,Dd=/[#\?@]/g,yc=/#/g;function Hr(f,w){this.h=this.g=null,this.i=f||null,this.j=!!w}function Qt(f){f.g||(f.g=new Map,f.h=0,f.i&&om(f.i,function(w,T){f.add(decodeURIComponent(w.replace(/\+/g," ")),T)}))}t=Hr.prototype,t.add=function(f,w){Qt(this),this.i=null,f=nr(this,f);var T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(w),this.h+=1,this};function wr(f,w){Qt(f),w=nr(f,w),f.g.has(w)&&(f.i=null,f.h-=f.g.get(w).length,f.g.delete(w))}function _r(f,w){return Qt(f),w=nr(f,w),f.g.has(w)}t.forEach=function(f,w){Qt(this),this.g.forEach(function(T,k){T.forEach(function(X){f.call(w,X,k,this)},this)},this)},t.na=function(){Qt(this);const f=Array.from(this.g.values()),w=Array.from(this.g.keys()),T=[];for(let k=0;k<w.length;k++){const X=f[k];for(let se=0;se<X.length;se++)T.push(w[k])}return T},t.V=function(f){Qt(this);let w=[];if(typeof f=="string")_r(this,f)&&(w=w.concat(this.g.get(nr(this,f))));else{f=Array.from(this.g.values());for(let T=0;T<f.length;T++)w=w.concat(f[T])}return w},t.set=function(f,w){return Qt(this),this.i=null,f=nr(this,f),_r(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[w]),this.h+=1,this},t.get=function(f,w){return f?(f=this.V(f),0<f.length?String(f[0]):w):w};function di(f,w,T){wr(f,w),0<T.length&&(f.i=null,f.g.set(nr(f,w),C(T)),f.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],w=Array.from(this.g.keys());for(var T=0;T<w.length;T++){var k=w[T];const se=encodeURIComponent(String(k)),ye=this.V(k);for(k=0;k<ye.length;k++){var X=se;ye[k]!==""&&(X+="="+encodeURIComponent(String(ye[k]))),f.push(X)}}return this.i=f.join("&")};function nr(f,w){return w=String(w),f.j&&(w=w.toLowerCase()),w}function Kr(f,w){w&&!f.j&&(Qt(f),f.i=null,f.g.forEach(function(T,k){var X=k.toLowerCase();k!=X&&(wr(this,k),di(this,X,T))},f)),f.j=w}function am(f,w){const T=new po;if(c.Image){const k=new Image;k.onload=b(Nn,T,"TestLoadImage: loaded",!0,w,k),k.onerror=b(Nn,T,"TestLoadImage: error",!1,w,k),k.onabort=b(Nn,T,"TestLoadImage: abort",!1,w,k),k.ontimeout=b(Nn,T,"TestLoadImage: timeout",!1,w,k),c.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=f}else w(!1)}function Md(f,w){const T=new po,k=new AbortController,X=setTimeout(()=>{k.abort(),Nn(T,"TestPingServer: timeout",!1,w)},1e4);fetch(f,{signal:k.signal}).then(se=>{clearTimeout(X),se.ok?Nn(T,"TestPingServer: ok",!0,w):Nn(T,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(X),Nn(T,"TestPingServer: error",!1,w)})}function Nn(f,w,T,k,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),k(T)}catch{}}function lm(){this.g=new cc}function Od(f,w,T){const k=T||"";try{oi(f,function(X,se){let ye=X;p(X)&&(ye=ac(X)),w.push(k+se+"="+encodeURIComponent(ye))})}catch(X){throw w.push(k+"type="+encodeURIComponent("_badmap")),X}}function Is(f){this.l=f.Ub||null,this.j=f.eb||!1}S(Is,ho),Is.prototype.g=function(){return new _o(this.l,this.j)},Is.prototype.i=(function(f){return function(){return f}})({});function _o(f,w){Dt.call(this),this.D=f,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(_o,Dt),t=_o.prototype,t.open=function(f,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=w,this.readyState=1,br(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(w.body=f),(this.D||c).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Er(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,br(this)),this.g&&(this.readyState=3,br(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vd(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vd(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var w=f.value?f.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!f.done}))&&(this.response=this.responseText+=w)}f.done?Er(this):br(this),this.readyState==3&&Vd(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Er(this))},t.Qa=function(f){this.g&&(this.response=f,Er(this))},t.ga=function(){this.g&&Er(this)};function Er(f){f.readyState=4,f.l=null,f.j=null,f.v=null,br(f)}t.setRequestHeader=function(f,w){this.u.append(f,w)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],w=this.h.entries();for(var T=w.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=w.next();return f.join(`\r
`)};function br(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(_o.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Ns(f){let w="";return q(f,function(T,k){w+=k,w+=":",w+=T,w+=`\r
`}),w}function hi(f,w,T){e:{for(k in T){var k=!1;break e}k=!0}k||(T=Ns(T),typeof f=="string"?T!=null&&encodeURIComponent(String(T)):at(f,w,T))}function mt(f){Dt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(mt,Dt);var cm=/^https?$/i,xc=["POST","PUT"];t=mt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,w,T,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);w=w?w.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yr.g(),this.v=this.o?ya(this.o):ya(yr),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(w,String(f),!0),this.B=!1}catch(se){Eo(this,se);return}if(f=T||"",T=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var X in k)T.set(X,k[X]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const se of k.keys())T.set(se,k.get(se));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(T.keys()).find(se=>se.toLowerCase()=="content-type"),X=c.FormData&&f instanceof c.FormData,!(0<=Array.prototype.indexOf.call(xc,w,void 0))||k||X||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,ye]of T)this.g.setRequestHeader(se,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Pa(this),this.u=!0,this.g.send(f),this.u=!1}catch(se){Eo(this,se)}};function Eo(f,w){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=w,f.m=5,Aa(f),zn(f)}function Aa(f){f.A||(f.A=!0,Mt(f,"complete"),Mt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Mt(this,"complete"),Mt(this,"abort"),zn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zn(this,!0)),mt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?wc(this):this.bb())},t.bb=function(){wc(this)};function wc(f){if(f.h&&typeof l<"u"&&(!f.v[1]||An(f)!=4||f.Z()!=2)){if(f.u&&An(f)==4)sc(f.Ea,0,f);else if(Mt(f,"readystatechange"),An(f)==4){f.h=!1;try{const ye=f.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var T;if(!(T=w)){var k;if(k=ye===0){var X=String(f.D).match(xo)[1]||null;!X&&c.self&&c.self.location&&(X=c.self.location.protocol.slice(0,-1)),k=!cm.test(X?X.toLowerCase():"")}T=k}if(T)Mt(f,"complete"),Mt(f,"success");else{f.m=6;try{var se=2<An(f)?f.g.statusText:""}catch{se=""}f.l=se+" ["+f.Z()+"]",Aa(f)}}finally{zn(f)}}}}function zn(f,w){if(f.g){Pa(f);const T=f.g,k=f.v[0]?()=>{}:null;f.g=null,f.v=null,w||Mt(f,"ready");try{T.onreadystatechange=k}catch{}}}function Pa(f){f.I&&(c.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function An(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var w=this.g.responseText;return f&&w.indexOf(f)==0&&(w=w.substring(f.length)),lc(w)}};function _c(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Ra(f){const w={};f=(f.g&&2<=An(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<f.length;k++){if(L(f[k]))continue;var T=B(f[k]);const X=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const se=w[X]||[];w[X]=se,se.push(T)}R(w,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qr(f,w,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||w}function Ec(f){this.Aa=0,this.i=[],this.j=new po,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qr("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qr("baseRetryDelayMs",5e3,f),this.cb=qr("retryDelaySeedMs",1e4,f),this.Wa=qr("forwardChannelMaxRetries",2,f),this.wa=qr("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new yo(f&&f.concurrentRequestLimit),this.Da=new lm,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ec.prototype,t.la=8,t.G=1,t.connect=function(f,w,T,k){Tt(0),this.W=f,this.H=w||{},T&&k!==void 0&&(this.H.OSID=T,this.H.OAID=k),this.F=this.X,this.I=$d(this,null,this.W),Gr(this)};function Yt(f){if(ka(f),f.G==3){var w=f.U++,T=Bn(f.I);if(at(T,"SID",f.K),at(T,"RID",w),at(T,"TYPE","terminate"),As(f,T),w=new xr(f,f.j,w),w.L=2,w.v=ci(Bn(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(w.v.toString(),"")}catch{}!T&&c.Image&&(new Image().src=w.v,T=!0),T||(w.g=Bd(w.j,null),w.g.ea(w.v)),w.F=Date.now(),lt(w)}Ud(f)}function Tr(f){f.g&&(bc(f),f.g.cancel(),f.g=null)}function ka(f){Tr(f),f.u&&(c.clearTimeout(f.u),f.u=null),Ma(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&c.clearTimeout(f.s),f.s=null)}function Gr(f){if(!$n(f.h)&&!f.s){f.s=!0;var w=f.Ga;Z||K(),M||(Z(),M=!0),Y.add(w,f),f.B=0}}function um(f,w){return Nd(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=w.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=gr(x(f.Ga,f,w),Fd(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const X=new xr(this,this.j,f);let se=this.o;if(this.S&&(se?(se=A(se),V(se,this.S)):se=this.S),this.m!==null||this.O||(X.H=se,se=null),this.P)e:{for(var w=0,T=0;T<this.i.length;T++){t:{var k=this.i[T];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(w+=k,4096<w){w=T;break e}if(w===4096||T===this.i.length-1){w=T+1;break e}}w=1e3}else w=1e3;w=fi(this,X,w),T=Bn(this.I),at(T,"RID",f),at(T,"CVER",22),this.D&&at(T,"X-HTTP-Session-Id",this.D),As(this,T),se&&(this.O?w="headers="+encodeURIComponent(String(Ns(se)))+"&"+w:this.m&&hi(T,this.m,se)),vc(this.h,X),this.Ua&&at(T,"TYPE","init"),this.P?(at(T,"$req",w),at(T,"SID","null"),X.T=!0,Sa(X,T,null)):Sa(X,T,w),this.G=2}}else this.G==3&&(f?ja(this,f):this.i.length==0||$n(this.h)||ja(this))};function ja(f,w){var T;w?T=w.l:T=f.U++;const k=Bn(f.I);at(k,"SID",f.K),at(k,"RID",T),at(k,"AID",f.T),As(f,k),f.m&&f.o&&hi(k,f.m,f.o),T=new xr(f,f.j,T,f.B+1),f.m===null&&(T.H=f.o),w&&(f.i=w.D.concat(f.i)),w=fi(f,T,1e3),T.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),vc(f.h,T),Sa(T,k,w)}function As(f,w){f.H&&q(f.H,function(T,k){at(w,k,T)}),f.l&&oi({},function(T,k){at(w,k,T)})}function fi(f,w,T){T=Math.min(f.i.length,T);var k=f.l?x(f.l.Na,f.l,f):null;e:{var X=f.i;let se=-1;for(;;){const ye=["count="+T];se==-1?0<T?(se=X[0].g,ye.push("ofs="+se)):se=0:ye.push("ofs="+se);let it=!0;for(let Ot=0;Ot<T;Ot++){let Xe=X[Ot].g;const Bt=X[Ot].map;if(Xe-=se,0>Xe)se=Math.max(0,X[Ot].g-100),it=!1;else try{Od(Bt,ye,"req"+Xe+"_")}catch{k&&k(Bt)}}if(it){k=ye.join("&");break e}}}return f=f.i.splice(0,T),w.D=f,k}function bo(f){if(!f.g&&!f.u){f.Y=1;var w=f.Fa;Z||K(),M||(Z(),M=!0),Y.add(w,f),f.v=0}}function Da(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=gr(x(f.Fa,f),Fd(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,Ld(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=gr(x(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tt(10),Tr(this),Ld(this))};function bc(f){f.A!=null&&(c.clearTimeout(f.A),f.A=null)}function Ld(f){f.g=new xr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var w=Bn(f.qa);at(w,"RID","rpc"),at(w,"SID",f.K),at(w,"AID",f.T),at(w,"CI",f.F?"0":"1"),!f.F&&f.ja&&at(w,"TO",f.ja),at(w,"TYPE","xmlhttp"),As(f,w),f.m&&f.o&&hi(w,f.m,f.o),f.L&&(f.g.I=f.L);var T=f.g;f=f.ia,T.L=1,T.v=ci(Bn(w)),T.m=null,T.P=!0,mc(T,f)}t.Za=function(){this.C!=null&&(this.C=null,Tr(this),Da(this),Tt(19))};function Ma(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function Oa(f,w){var T=null;if(f.g==w){Ma(f),bc(f),f.g=null;var k=2}else if(yn(f.h,w))T=w.D,Ad(f.h,w),k=1;else return;if(f.G!=0){if(w.o)if(k==1){T=w.m?w.m.length:0,w=Date.now()-w.F;var X=f.B;k=fo(),Mt(k,new _a(k,T)),Gr(f)}else bo(f);else if(X=w.s,X==3||X==0&&0<w.X||!(k==1&&um(f,w)||k==2&&Da(f)))switch(T&&0<T.length&&(w=f.h,w.i=w.i.concat(T)),X){case 1:Ps(f,5);break;case 4:Ps(f,10);break;case 3:Ps(f,6);break;default:Ps(f,2)}}}function Fd(f,w){let T=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(T*=2),T*w}function Ps(f,w){if(f.j.info("Error code "+w),w==2){var T=x(f.fb,f),k=f.Xa;const X=!k;k=new Cs(k||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||wo(k,"https"),ci(k),X?am(k.toString(),T):Md(k.toString(),T)}else Tt(2);f.G=0,f.l&&f.l.sa(w),Ud(f),ka(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function Ud(f){if(f.G=0,f.ka=[],f.l){const w=Pd(f.h);(w.length!=0||f.i.length!=0)&&(I(f.ka,w),I(f.ka,f.i),f.h.i.length=0,C(f.i),f.i.length=0),f.l.ra()}}function $d(f,w,T){var k=T instanceof Cs?Bn(T):new Cs(T);if(k.g!="")w&&(k.g=w+"."+k.g),ai(k,k.s);else{var X=c.location;k=X.protocol,w=w?w+"."+X.hostname:X.hostname,X=+X.port;var se=new Cs(null);k&&wo(se,k),w&&(se.g=w),X&&ai(se,X),T&&(se.l=T),k=se}return T=f.D,w=f.ya,T&&w&&at(k,T,w),at(k,"VER",f.la),As(f,k),k}function Bd(f,w,T){if(w&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=f.Ca&&!f.pa?new mt(new Is({eb:T})):new mt(f.pa),w.Ha(f.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tc(){}t=Tc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Va(){}Va.prototype.g=function(f,w){return new xn(f,w)};function xn(f,w){Dt.call(this),this.g=new Ec(w),this.l=f,this.h=w&&w.messageUrlParams||null,f=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(f?f["X-WebChannel-Content-Type"]=w.messageContentType:f={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(f?f["X-WebChannel-Client-Profile"]=w.va:f={"X-WebChannel-Client-Profile":w.va}),this.g.S=f,(f=w&&w.Sb)&&!L(f)&&(this.g.m=f),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!L(w)&&(this.g.D=w,f=this.h,f!==null&&w in f&&(f=this.h,w in f&&delete f[w])),this.j=new Qr(this)}S(xn,Dt),xn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xn.prototype.close=function(){Yt(this.g)},xn.prototype.o=function(f){var w=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.u&&(T={},T.__data__=ac(f),f=T);w.i.push(new Id(w.Ya++,f)),w.G==3&&Gr(w)},xn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,xn.aa.N.call(this)};function zd(f){zr.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var w=f.__sm__;if(w){e:{for(const T in w){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,w=w!==null&&f in w?w[f]:void 0),this.data=w}else this.data=f}S(zd,zr);function Wd(){wa.call(this),this.status=1}S(Wd,wa);function Qr(f){this.g=f}S(Qr,Tc),Qr.prototype.ua=function(){Mt(this.g,"a")},Qr.prototype.ta=function(f){Mt(this.g,new zd(f))},Qr.prototype.sa=function(f){Mt(this.g,new Wd)},Qr.prototype.ra=function(){Mt(this.g,"b")},Va.prototype.createWebChannel=Va.prototype.g,xn.prototype.send=xn.prototype.o,xn.prototype.open=xn.prototype.m,xn.prototype.close=xn.prototype.close,FC=function(){return new Va},LC=function(){return fo()},VC=Wr,Fv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ba.NO_ERROR=0,ba.TIMEOUT=8,ba.HTTP_ERROR=6,af=ba,bd.COMPLETE="complete",OC=bd,xa.EventType=er,er.OPEN="a",er.CLOSE="b",er.ERROR="c",er.MESSAGE="d",Dt.prototype.listen=Dt.prototype.K,Zc=xa,mt.prototype.listenOnce=mt.prototype.L,mt.prototype.getLastError=mt.prototype.Ka,mt.prototype.getLastErrorCode=mt.prototype.Ba,mt.prototype.getStatus=mt.prototype.Z,mt.prototype.getResponseJson=mt.prototype.Oa,mt.prototype.getResponseText=mt.prototype.oa,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Ha,MC=mt}).apply(typeof Fh<"u"?Fh:typeof self<"u"?self:typeof window<"u"?window:{});const Eb="@firebase/firestore",bb="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bl="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=new Jy("@firebase/firestore");function ul(){return ea.logLevel}function Te(t,...e){if(ea.logLevel<=Ge.DEBUG){const n=e.map(u0);ea.debug(`Firestore (${Bl}): ${t}`,...n)}}function Js(t,...e){if(ea.logLevel<=Ge.ERROR){const n=e.map(u0);ea.error(`Firestore (${Bl}): ${t}`,...n)}}function Nl(t,...e){if(ea.logLevel<=Ge.WARN){const n=e.map(u0);ea.warn(`Firestore (${Bl}): ${t}`,...n)}}function u0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,UC(t,r,n)}function UC(t,e,n){let r=`FIRESTORE (${Bl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Js(r),new Error(r)}function st(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||UC(e,s,r)}function Be(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends vs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(dn.UNAUTHENTICATED)))}shutdown(){}}class tL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class nL{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){st(this.o===void 0,42304);let r=this.i;const s=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let o=new zs;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new zs,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const h=o;e.enqueueRetryable((async()=>{await h.promise,await s(this.currentUser)}))},c=h=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((h=>c(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new zs)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(st(typeof r.accessToken=="string",31837,{l:r}),new $C(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new dn(e)}}class rL{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sL{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new rL(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Tb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iL{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Tn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){st(this.o===void 0,3512);const r=o=>{o.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,Te("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const s=o=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Tb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(st(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Tb(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=oL(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%62))}return r}}function ze(t,e){return t<e?-1:t>e?1:0}function Uv(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return ze(r,s);{const o=BC(),l=aL(o.encode(Sb(t,n)),o.encode(Sb(e,n)));return l!==0?l:ze(r,s)}}n+=r>65535?2:1}return ze(t.length,e.length)}function Sb(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function aL(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ze(t[n],e[n]);return ze(t.length,e.length)}function Al(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb=-62135596800,Ib=1e6;class Ft{static now(){return Ft.fromMillis(Date.now())}static fromDate(e){return Ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Ib);return new Ft(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Cb)throw new _e(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ib}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Cb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{static fromTimestamp(e){return new $e(e)}static min(){return new $e(new Ft(0,0))}static max(){return new $e(new Ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="__name__";class ts{constructor(e,n,r){n===void 0?n=0:n>e.length&&Le(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Le(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ts.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ts?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=ts.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return ze(e.length,n.length)}static compareSegments(e,n){const r=ts.isNumericId(e),s=ts.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?ts.extractNumericId(e).compare(ts.extractNumericId(n)):Uv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ui.fromString(e.substring(4,e.length-2))}}class ft extends ts{construct(e,n,r){return new ft(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new _e(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new ft(n)}static emptyPath(){return new ft([])}}const lL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends ts{construct(e,n,r){return new nn(e,n,r)}static isValidIdentifier(e){return lL.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Nb}static keyField(){return new nn([Nb])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new _e(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new _e(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new _e(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(r+=c,s++):(o(),s++)}if(o(),l)throw new _e(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(n)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(ft.fromString(e))}static fromName(e){return new Re(ft.fromString(e).popFirst(5))}static empty(){return new Re(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ft.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new ft(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cu=-1;function cL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=$e.fromTimestamp(r===1e9?new Ft(n+1,0):new Ft(n,r));return new zi(s,Re.empty(),e)}function uL(t){return new zi(t.readTime,t.key,Cu)}class zi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new zi($e.min(),Re.empty(),Cu)}static max(){return new zi($e.max(),Re.empty(),Cu)}}function dL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Re.comparator(t.documentKey,e.documentKey),n!==0?n:ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zl(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==hL)throw t;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe(((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.reject(n)}static resolve(e){return new oe(((n,r)=>{n(e)}))}static reject(e){return new oe(((n,r)=>{r(e)}))}static waitFor(e){return new oe(((n,r)=>{let s=0,o=0,l=!1;e.forEach((c=>{++s,c.next((()=>{++o,l&&o===s&&n()}),(h=>r(h)))})),l=!0,o===s&&n()}))}static or(e){let n=oe.resolve(!1);for(const r of e)n=n.next((s=>s?oe.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,o)=>{r.push(n.call(this,s,o))})),this.waitFor(r)}static mapArray(e,n){return new oe(((r,s)=>{const o=e.length,l=new Array(o);let c=0;for(let h=0;h<o;h++){const p=h;n(e[p]).next((g=>{l[p]=g,++c,c===o&&r(l)}),(g=>s(g)))}}))}static doWhile(e,n){return new oe(((r,s)=>{const o=()=>{e()===!0?n().next((()=>{o()}),s):r()};o()}))}}function pL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}yp.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0=-1;function xp(t){return t==null}function Mf(t){return t===0&&1/t==-1/0}function mL(t){return typeof t=="number"&&Number.isInteger(t)&&!Mf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC="";function gL(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Ab(e)),e=vL(t.get(n),e);return Ab(e)}function vL(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case WC:n+="";break;default:n+=o}}return n}function Ab(t){return t+WC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function io(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function HC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n){this.comparator=e,this.root=n||en.EMPTY}insert(e,n){return new _t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uh(this.root,e,this.comparator,!0)}}class Uh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??en.RED,this.left=s??en.EMPTY,this.right=o??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new en(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return en.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Le(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Le(57766)}get value(){throw Le(16141)}get color(){throw Le(16727)}get left(){throw Le(29726)}get right(){throw Le(36894)}copy(e,n,r,s,o){return this}insert(e,n,r){return new en(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Rb(this.data.getIterator())}getIteratorFrom(e){return new Rb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ut(this.comparator);return n.data=e,n}}class Rb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new Yn([])}unionWith(e){let n=new Ut(nn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Yn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Al(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new KC("Invalid base64 string: "+o):o}})(e);return new rn(n)}static fromUint8Array(e){const n=(function(s){let o="";for(let l=0;l<s.length;++l)o+=String.fromCharCode(s[l]);return o})(e);return new rn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const yL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wi(t){if(st(!!t,39018),typeof t=="string"){let e=0;const n=yL.exec(t);if(st(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:It(t.seconds),nanos:It(t.nanos)}}function It(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Hi(t){return typeof t=="string"?rn.fromBase64String(t):rn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC="server_timestamp",GC="__type__",QC="__previous_value__",YC="__local_write_time__";function h0(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[GC])===null||n===void 0?void 0:n.stringValue)===qC}function wp(t){const e=t.mapValue.fields[QC];return h0(e)?wp(e):e}function Iu(t){const e=Wi(t.mapValue.fields[YC].timestampValue);return new Ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e,n,r,s,o,l,c,h,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=p,this.isUsingEmulator=g}}const Of="(default)";class Nu{constructor(e,n){this.projectId=e,this.database=n||Of}static empty(){return new Nu("","")}get isDefaultDatabase(){return this.database===Of}isEqual(e){return e instanceof Nu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC="__type__",wL="__max__",$h={mapValue:{}},JC="__vector__",Vf="value";function Ki(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?h0(t)?4:EL(t)?9007199254740991:_L(t)?10:11:Le(28295,{value:t})}function hs(t,e){if(t===e)return!0;const n=Ki(t);if(n!==Ki(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Iu(t).isEqual(Iu(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const l=Wi(s.timestampValue),c=Wi(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,o){return Hi(s.bytesValue).isEqual(Hi(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,o){return It(s.geoPointValue.latitude)===It(o.geoPointValue.latitude)&&It(s.geoPointValue.longitude)===It(o.geoPointValue.longitude)})(t,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return It(s.integerValue)===It(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const l=It(s.doubleValue),c=It(o.doubleValue);return l===c?Mf(l)===Mf(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return Al(t.arrayValue.values||[],e.arrayValue.values||[],hs);case 10:case 11:return(function(s,o){const l=s.mapValue.fields||{},c=o.mapValue.fields||{};if(Pb(l)!==Pb(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!hs(l[h],c[h])))return!1;return!0})(t,e);default:return Le(52216,{left:t})}}function Au(t,e){return(t.values||[]).find((n=>hs(n,e)))!==void 0}function Pl(t,e){if(t===e)return 0;const n=Ki(t),r=Ki(e);if(n!==r)return ze(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(t.booleanValue,e.booleanValue);case 2:return(function(o,l){const c=It(o.integerValue||o.doubleValue),h=It(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1})(t,e);case 3:return kb(t.timestampValue,e.timestampValue);case 4:return kb(Iu(t),Iu(e));case 5:return Uv(t.stringValue,e.stringValue);case 6:return(function(o,l){const c=Hi(o),h=Hi(l);return c.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(o,l){const c=o.split("/"),h=l.split("/");for(let p=0;p<c.length&&p<h.length;p++){const g=ze(c[p],h[p]);if(g!==0)return g}return ze(c.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,l){const c=ze(It(o.latitude),It(l.latitude));return c!==0?c:ze(It(o.longitude),It(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return jb(t.arrayValue,e.arrayValue);case 10:return(function(o,l){var c,h,p,g;const v=o.fields||{},x=l.fields||{},b=(c=v[Vf])===null||c===void 0?void 0:c.arrayValue,S=(h=x[Vf])===null||h===void 0?void 0:h.arrayValue,C=ze(((p=b?.values)===null||p===void 0?void 0:p.length)||0,((g=S?.values)===null||g===void 0?void 0:g.length)||0);return C!==0?C:jb(b,S)})(t.mapValue,e.mapValue);case 11:return(function(o,l){if(o===$h.mapValue&&l===$h.mapValue)return 0;if(o===$h.mapValue)return 1;if(l===$h.mapValue)return-1;const c=o.fields||{},h=Object.keys(c),p=l.fields||{},g=Object.keys(p);h.sort(),g.sort();for(let v=0;v<h.length&&v<g.length;++v){const x=Uv(h[v],g[v]);if(x!==0)return x;const b=Pl(c[h[v]],p[g[v]]);if(b!==0)return b}return ze(h.length,g.length)})(t.mapValue,e.mapValue);default:throw Le(23264,{Pe:n})}}function kb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ze(t,e);const n=Wi(t),r=Wi(e),s=ze(n.seconds,r.seconds);return s!==0?s:ze(n.nanos,r.nanos)}function jb(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=Pl(n[s],r[s]);if(o)return o}return ze(n.length,r.length)}function Rl(t){return $v(t)}function $v(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Wi(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Hi(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Re.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=$v(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const l of r)o?o=!1:s+=",",s+=`${l}:${$v(n.fields[l])}`;return s+"}"})(t.mapValue):Le(61005,{value:t})}function lf(t){switch(Ki(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wp(t);return e?16+lf(e):16;case 5:return 2*t.stringValue.length;case 6:return Hi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,o)=>s+lf(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return io(r.fields,((o,l)=>{s+=o.length+lf(l)})),s})(t.mapValue);default:throw Le(13486,{value:t})}}function Db(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Bv(t){return!!t&&"integerValue"in t}function f0(t){return!!t&&"arrayValue"in t}function Mb(t){return!!t&&"nullValue"in t}function Ob(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function cf(t){return!!t&&"mapValue"in t}function _L(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[XC])===null||n===void 0?void 0:n.stringValue)===JC}function uu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return io(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=uu(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=uu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function EL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===wL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!cf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=uu(n)}setAll(e){let n=nn.emptyPath(),r={},s=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,r,s),r={},s=[],n=c.popLast()}l?r[c.lastSegment()]=uu(l):s.push(c.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());cf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return hs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];cf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){io(n,((s,o)=>e[s]=o));for(const s of r)delete e[s]}clone(){return new Ln(uu(this.value))}}function ZC(t){const e=[];return io(t.fields,((n,r)=>{const s=new nn([n]);if(cf(r)){const o=ZC(r.mapValue).fields;if(o.length===0)e.push(s);else for(const l of o)e.push(s.child(l))}else e.push(s)})),new Yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,n,r,s,o,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new hn(e,0,$e.min(),$e.min(),$e.min(),Ln.empty(),0)}static newFoundDocument(e,n,r,s){return new hn(e,1,n,$e.min(),r,s,0)}static newNoDocument(e,n){return new hn(e,2,n,$e.min(),$e.min(),Ln.empty(),0)}static newUnknownDocument(e,n){return new hn(e,3,n,$e.min(),$e.min(),Ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual($e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,n){this.position=e,this.inclusive=n}}function Vb(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],l=t.position[s];if(o.field.isKeyField()?r=Re.comparator(Re.fromName(l.referenceValue),n.key):r=Pl(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Lb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!hs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n="asc"){this.field=e,this.dir=n}}function bL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{}class kt extends eI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new SL(e,n,r):n==="array-contains"?new NL(e,r):n==="in"?new AL(e,r):n==="not-in"?new PL(e,r):n==="array-contains-any"?new RL(e,r):new kt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new CL(e,r):new IL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Pl(n,this.value)):n!==null&&Ki(this.value)===Ki(n)&&this.matchesComparison(Pl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vr extends eI{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Vr(e,n)}matches(e){return tI(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function tI(t){return t.op==="and"}function nI(t){return TL(t)&&tI(t)}function TL(t){for(const e of t.filters)if(e instanceof Vr)return!1;return!0}function zv(t){if(t instanceof kt)return t.field.canonicalString()+t.op.toString()+Rl(t.value);if(nI(t))return t.filters.map((e=>zv(e))).join(",");{const e=t.filters.map((n=>zv(n))).join(",");return`${t.op}(${e})`}}function rI(t,e){return t instanceof kt?(function(r,s){return s instanceof kt&&r.op===s.op&&r.field.isEqual(s.field)&&hs(r.value,s.value)})(t,e):t instanceof Vr?(function(r,s){return s instanceof Vr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((o,l,c)=>o&&rI(l,s.filters[c])),!0):!1})(t,e):void Le(19439)}function sI(t){return t instanceof kt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Rl(n.value)}`})(t):t instanceof Vr?(function(n){return n.op.toString()+" {"+n.getFilters().map(sI).join(" ,")+"}"})(t):"Filter"}class SL extends kt{constructor(e,n,r){super(e,n,r),this.key=Re.fromName(r.referenceValue)}matches(e){const n=Re.comparator(e.key,this.key);return this.matchesComparison(n)}}class CL extends kt{constructor(e,n){super(e,"in",n),this.keys=iI("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class IL extends kt{constructor(e,n){super(e,"not-in",n),this.keys=iI("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function iI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((r=>Re.fromName(r.referenceValue)))}class NL extends kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return f0(n)&&Au(n.arrayValue,this.value)}}class AL extends kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Au(this.value.arrayValue,n)}}class PL extends kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Au(this.value.arrayValue,n)}}class RL extends kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!f0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Au(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e,n=null,r=[],s=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=l,this.endAt=c,this.Ie=null}}function Fb(t,e=null,n=[],r=[],s=null,o=null,l=null){return new kL(t,e,n,r,s,o,l)}function p0(t){const e=Be(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>zv(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),xp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Rl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Rl(r))).join(",")),e.Ie=n}return e.Ie}function m0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!bL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!rI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Lb(t.startAt,e.startAt)&&Lb(t.endAt,e.endAt)}function Wv(t){return Re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n=null,r=[],s=[],o=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=h,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function jL(t,e,n,r,s,o,l,c){return new Hl(t,e,n,r,s,o,l,c)}function _p(t){return new Hl(t)}function Ub(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function oI(t){return t.collectionGroup!==null}function du(t){const e=Be(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Ut(nn.comparator);return l.filters.forEach((h=>{h.getFlattenedFilters().forEach((p=>{p.isInequality()&&(c=c.add(p.field))}))})),c})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Pu(o,r))})),n.has(nn.keyField().canonicalString())||e.Ee.push(new Pu(nn.keyField(),r))}return e.Ee}function as(t){const e=Be(t);return e.de||(e.de=DL(e,du(t))),e.de}function DL(t,e){if(t.limitType==="F")return Fb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new Pu(s.field,o)}));const n=t.endAt?new Lf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Lf(t.startAt.position,t.startAt.inclusive):null;return Fb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Hv(t,e){const n=t.filters.concat([e]);return new Hl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Kv(t,e,n){return new Hl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ep(t,e){return m0(as(t),as(e))&&t.limitType===e.limitType}function aI(t){return`${p0(as(t))}|lt:${t.limitType}`}function dl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>sI(s))).join(", ")}]`),xp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>Rl(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>Rl(s))).join(",")),`Target(${r})`})(as(t))}; limitType=${t.limitType})`}function bp(t,e){return e.isFoundDocument()&&(function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Re.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,s){for(const o of du(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(l,c,h){const p=Vb(l,c,h);return l.inclusive?p<=0:p<0})(r.startAt,du(r),s)||r.endAt&&!(function(l,c,h){const p=Vb(l,c,h);return l.inclusive?p>=0:p>0})(r.endAt,du(r),s))})(t,e)}function ML(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function lI(t){return(e,n)=>{let r=!1;for(const s of du(t)){const o=OL(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function OL(t,e,n){const r=t.field.isKeyField()?Re.comparator(e.key,n.key):(function(o,l,c){const h=l.data.field(o),p=c.data.field(o);return h!==null&&p!==null?Pl(h,p):Le(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Le(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){io(this.inner,((n,r)=>{for(const[s,o]of r)e(s,o)}))}isEmpty(){return HC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=new _t(Re.comparator);function Zs(){return VL}const cI=new _t(Re.comparator);function eu(...t){let e=cI;for(const n of t)e=e.insert(n.key,n);return e}function uI(t){let e=cI;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Ho(){return hu()}function dI(){return hu()}function hu(){return new aa((t=>t.toString()),((t,e)=>t.isEqual(e)))}const LL=new _t(Re.comparator),FL=new Ut(Re.comparator);function Qe(...t){let e=FL;for(const n of t)e=e.add(n);return e}const UL=new Ut(ze);function $L(){return UL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mf(e)?"-0":e}}function hI(t){return{integerValue:""+t}}function BL(t,e){return mL(e)?hI(e):g0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(){this._=void 0}}function zL(t,e,n){return t instanceof Ru?(function(s,o){const l={fields:{[GC]:{stringValue:qC},[YC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&h0(o)&&(o=wp(o)),o&&(l.fields[QC]=o),{mapValue:l}})(n,e):t instanceof kl?pI(t,e):t instanceof jl?mI(t,e):(function(s,o){const l=fI(s,o),c=$b(l)+$b(s.Re);return Bv(l)&&Bv(s.Re)?hI(c):g0(s.serializer,c)})(t,e)}function WL(t,e,n){return t instanceof kl?pI(t,e):t instanceof jl?mI(t,e):n}function fI(t,e){return t instanceof Ff?(function(r){return Bv(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Ru extends Tp{}class kl extends Tp{constructor(e){super(),this.elements=e}}function pI(t,e){const n=gI(e);for(const r of t.elements)n.some((s=>hs(s,r)))||n.push(r);return{arrayValue:{values:n}}}class jl extends Tp{constructor(e){super(),this.elements=e}}function mI(t,e){let n=gI(e);for(const r of t.elements)n=n.filter((s=>!hs(s,r)));return{arrayValue:{values:n}}}class Ff extends Tp{constructor(e,n){super(),this.serializer=e,this.Re=n}}function $b(t){return It(t.integerValue||t.doubleValue)}function gI(t){return f0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,n){this.field=e,this.transform=n}}function HL(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof kl&&s instanceof kl||r instanceof jl&&s instanceof jl?Al(r.elements,s.elements,hs):r instanceof Ff&&s instanceof Ff?hs(r.Re,s.Re):r instanceof Ru&&s instanceof Ru})(t.transform,e.transform)}class KL{constructor(e,n){this.version=e,this.transformResults=n}}class Sn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Sn}static exists(e){return new Sn(void 0,e)}static updateTime(e){return new Sn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Sp{}function vI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Cp(t.key,Sn.none()):new sd(t.key,t.data,Sn.none());{const n=t.data,r=Ln.empty();let s=new Ut(nn.comparator);for(let o of e.fields)if(!s.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),s=s.add(o)}return new oo(t.key,r,new Yn(s.toArray()),Sn.none())}}function qL(t,e,n){t instanceof sd?(function(s,o,l){const c=s.value.clone(),h=zb(s.fieldTransforms,o,l.transformResults);c.setAll(h),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof oo?(function(s,o,l){if(!uf(s.precondition,o))return void o.convertToUnknownDocument(l.version);const c=zb(s.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(yI(s)),h.setAll(c),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(t,e,n):(function(s,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function fu(t,e,n,r){return t instanceof sd?(function(o,l,c,h){if(!uf(o.precondition,l))return c;const p=o.value.clone(),g=Wb(o.fieldTransforms,h,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof oo?(function(o,l,c,h){if(!uf(o.precondition,l))return c;const p=Wb(o.fieldTransforms,h,l),g=l.data;return g.setAll(yI(o)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((v=>v.field)))})(t,e,n,r):(function(o,l,c){return uf(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function GL(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=fI(r.transform,s||null);o!=null&&(n===null&&(n=Ln.empty()),n.set(r.field,o))}return n||null}function Bb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Al(r,s,((o,l)=>HL(o,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class sd extends Sp{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class oo extends Sp{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function yI(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function zb(t,e,n){const r=new Map;st(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const o=t[s],l=o.transform,c=e.data.field(o.field);r.set(o.field,WL(l,c,n[s]))}return r}function Wb(t,e,n){const r=new Map;for(const s of t){const o=s.transform,l=n.data.field(s.field);r.set(s.field,zL(o,l,e))}return r}class Cp extends Sp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QL extends Sp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&qL(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=fu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=fu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=dI();return this.mutations.forEach((s=>{const o=e.get(s.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=n.has(s.key)?null:c;const h=vI(l,c);h!==null&&r.set(s.key,h),l.isValidDocument()||l.convertToNoDocument($e.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Qe())}isEqual(e){return this.batchId===e.batchId&&Al(this.mutations,e.mutations,((n,r)=>Bb(n,r)))&&Al(this.baseMutations,e.baseMutations,((n,r)=>Bb(n,r)))}}class y0{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){st(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=(function(){return LL})();const o=e.mutations;for(let l=0;l<o.length;l++)s=s.insert(o[l].key,r[l].version);return new y0(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XL=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,Je;function ZL(t){switch(t){case ie.OK:return Le(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Le(15467,{code:t})}}function xI(t){if(t===void 0)return Js("GRPC error has no .code"),ie.UNKNOWN;switch(t){case Pt.OK:return ie.OK;case Pt.CANCELLED:return ie.CANCELLED;case Pt.UNKNOWN:return ie.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return ie.INTERNAL;case Pt.UNAVAILABLE:return ie.UNAVAILABLE;case Pt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Pt.NOT_FOUND:return ie.NOT_FOUND;case Pt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Pt.ABORTED:return ie.ABORTED;case Pt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Pt.DATA_LOSS:return ie.DATA_LOSS;default:return Le(39323,{code:t})}}(Je=Pt||(Pt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3=new Ui([4294967295,4294967295],0);function Hb(t){const e=BC().encode(t),n=new DC;return n.update(e),new Uint8Array(n.digest())}function Kb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ui([n,r],0),new Ui([s,o],0)]}class x0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new tu(`Invalid padding: ${n}`);if(r<0)throw new tu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new tu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new tu(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Ui.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(Ui.fromNumber(r)));return s.compare(e3)===1&&(s=new Ui([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=Hb(e),[r,s]=Kb(n);for(let o=0;o<this.hashCount;o++){const l=this.we(r,s,o);if(!this.be(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new x0(o,s,n);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.pe===0)return;const n=Hb(e),[r,s]=Kb(n);for(let o=0;o<this.hashCount;o++){const l=this.we(r,s,o);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class tu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,id.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ip($e.min(),s,new _t(ze),Zs(),Qe())}}class id{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new id(r,n,Qe(),Qe(),Qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class wI{constructor(e,n){this.targetId=e,this.Ce=n}}class _I{constructor(e,n,r=rn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class qb{constructor(){this.Fe=0,this.Me=Gb(),this.xe=rn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Qe(),n=Qe(),r=Qe();return this.Me.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Le(38017,{changeType:o})}})),new id(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=Gb()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,st(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class t3{constructor(e){this.ze=e,this.je=new Map,this.He=Zs(),this.Je=Bh(),this.Ye=Bh(),this.Ze=new _t(ze)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,(n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Le(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach(((r,s)=>{this.it(s)&&n(s)}))}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const o=s.target;if(Wv(o))if(r===0){const l=new Re(o.path);this.tt(n,l,hn.newNoDocument(l,$e.min()))}else st(r===1,20013,{expectedCount:r});else{const l=this.ut(n);if(l!==r){const c=this.ct(e),h=c?this.lt(c,e,l):1;if(h!==0){this.st(n);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let l,c;try{l=Hi(r).toUint8Array()}catch(h){if(h instanceof KC)return Nl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new x0(l,s,o)}catch(h){return Nl(h instanceof tu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.pe===0?null:c}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach((o=>{const l=this.ze.Pt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.tt(n,o,null),s++)})),s}It(e){const n=new Map;this.je.forEach(((o,l)=>{const c=this._t(l);if(c){if(o.current&&Wv(c.target)){const h=new Re(c.target.path);this.Et(h).has(l)||this.dt(l,h)||this.tt(l,h,hn.newNoDocument(h,e))}o.Le&&(n.set(l,o.qe()),o.Qe())}}));let r=Qe();this.Ye.forEach(((o,l)=>{let c=!0;l.forEachWhile((h=>{const p=this._t(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(o))})),this.He.forEach(((o,l)=>l.setReadTime(e)));const s=new Ip(e,n,this.Ze,this.He,r);return this.He=Zs(),this.Je=Bh(),this.Ye=Bh(),this.Ze=new _t(ze),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new qb,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Ut(ze),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Ut(ze),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||Te("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new qb),this.ze.getRemoteKeysForTarget(e).forEach((n=>{this.tt(e,n,null)}))}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Bh(){return new _t(Re.comparator)}function Gb(){return new _t(Re.comparator)}const n3={asc:"ASCENDING",desc:"DESCENDING"},r3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},s3={and:"AND",or:"OR"};class i3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qv(t,e){return t.useProto3Json||xp(e)?e:{value:e}}function Uf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function EI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function o3(t,e){return Uf(t,e.toTimestamp())}function ls(t){return st(!!t,49232),$e.fromTimestamp((function(n){const r=Wi(n);return new Ft(r.seconds,r.nanos)})(t))}function w0(t,e){return Gv(t,e).canonicalString()}function Gv(t,e){const n=(function(s){return new ft(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function bI(t){const e=ft.fromString(t);return st(NI(e),10190,{key:e.toString()}),e}function Qv(t,e){return w0(t.databaseId,e.path)}function zg(t,e){const n=bI(e);if(n.get(1)!==t.databaseId.projectId)throw new _e(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _e(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Re(SI(n))}function TI(t,e){return w0(t.databaseId,e)}function a3(t){const e=bI(t);return e.length===4?ft.emptyPath():SI(e)}function Yv(t){return new ft(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function SI(t){return st(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Qb(t,e,n){return{name:Qv(t,e),fields:n.value.mapValue.fields}}function l3(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Le(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(p,g){return p.useProto3Json?(st(g===void 0||typeof g=="string",58123),rn.fromBase64String(g||"")):(st(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),rn.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(p){const g=p.code===void 0?ie.UNKNOWN:xI(p.code);return new _e(g,p.message||"")})(l);n=new _I(r,s,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=zg(t,r.document.name),o=ls(r.document.updateTime),l=r.document.createTime?ls(r.document.createTime):$e.min(),c=new Ln({mapValue:{fields:r.document.fields}}),h=hn.newFoundDocument(s,o,l,c),p=r.targetIds||[],g=r.removedTargetIds||[];n=new df(p,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=zg(t,r.document),o=r.readTime?ls(r.readTime):$e.min(),l=hn.newNoDocument(s,o),c=r.removedTargetIds||[];n=new df([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=zg(t,r.document),o=r.removedTargetIds||[];n=new df([],o,s,null)}else{if(!("filter"in e))return Le(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,l=new JL(s,o),c=r.targetId;n=new wI(c,l)}}return n}function c3(t,e){let n;if(e instanceof sd)n={update:Qb(t,e.key,e.value)};else if(e instanceof Cp)n={delete:Qv(t,e.key)};else if(e instanceof oo)n={update:Qb(t,e.key,e.data),updateMask:y3(e.fieldMask)};else{if(!(e instanceof QL))return Le(16599,{ft:e.type});n={verify:Qv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,l){const c=l.transform;if(c instanceof Ru)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof kl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof jl)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Ff)return{fieldPath:l.field.canonicalString(),increment:c.Re};throw Le(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:o3(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Le(27497)})(t,e.precondition)),n}function u3(t,e){return t&&t.length>0?(st(e!==void 0,14353),t.map((n=>(function(s,o){let l=s.updateTime?ls(s.updateTime):ls(o);return l.isEqual($e.min())&&(l=ls(o)),new KL(l,s.transformResults||[])})(n,e)))):[]}function d3(t,e){return{documents:[TI(t,e.path)]}}function h3(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=TI(t,s);const o=(function(p){if(p.length!==0)return II(Vr.create(p,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const l=(function(p){if(p.length!==0)return p.map((g=>(function(x){return{field:hl(x.field),direction:m3(x.dir)}})(g)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=qv(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{gt:n,parent:s}}function f3(t){let e=a3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){st(r===1,65062);const g=n.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let o=[];n.where&&(o=(function(v){const x=CI(v);return x instanceof Vr&&nI(x)?x.getFilters():[x]})(n.where));let l=[];n.orderBy&&(l=(function(v){return v.map((x=>(function(S){return new Pu(fl(S.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(x)))})(n.orderBy));let c=null;n.limit&&(c=(function(v){let x;return x=typeof v=="object"?v.value:v,xp(x)?null:x})(n.limit));let h=null;n.startAt&&(h=(function(v){const x=!!v.before,b=v.values||[];return new Lf(b,x)})(n.startAt));let p=null;return n.endAt&&(p=(function(v){const x=!v.before,b=v.values||[];return new Lf(b,x)})(n.endAt)),jL(e,s,l,o,c,"F",h,p)}function p3(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function CI(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=fl(n.unaryFilter.field);return kt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=fl(n.unaryFilter.field);return kt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=fl(n.unaryFilter.field);return kt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=fl(n.unaryFilter.field);return kt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Le(61313);default:return Le(60726)}})(t):t.fieldFilter!==void 0?(function(n){return kt.create(fl(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Le(58110);default:return Le(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Vr.create(n.compositeFilter.filters.map((r=>CI(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Le(1026)}})(n.compositeFilter.op))})(t):Le(30097,{filter:t})}function m3(t){return n3[t]}function g3(t){return r3[t]}function v3(t){return s3[t]}function hl(t){return{fieldPath:t.canonicalString()}}function fl(t){return nn.fromServerFormat(t.fieldPath)}function II(t){return t instanceof kt?(function(n){if(n.op==="=="){if(Ob(n.value))return{unaryFilter:{field:hl(n.field),op:"IS_NAN"}};if(Mb(n.value))return{unaryFilter:{field:hl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ob(n.value))return{unaryFilter:{field:hl(n.field),op:"IS_NOT_NAN"}};if(Mb(n.value))return{unaryFilter:{field:hl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hl(n.field),op:g3(n.op),value:n.value}}})(t):t instanceof Vr?(function(n){const r=n.getFilters().map((s=>II(s)));return r.length===1?r[0]:{compositeFilter:{op:v3(n.op),filters:r}}})(t):Le(54877,{filter:t})}function y3(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function NI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,n,r,s,o=$e.min(),l=$e.min(),c=rn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new Oi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e){this.wt=e}}function w3(t){const e=f3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Kv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(){this.Cn=new E3}addToCollectionParentIndex(e,n){return this.Cn.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(zi.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(zi.min())}updateCollectionGroup(e,n,r){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class E3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Ut(ft.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Ut(ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},AI=41943040;class On{static withCacheSize(e){return new On(e,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(AI,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Dl(0)}static lr(){return new Dl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="LruGarbageCollector",b3=1048576;function Jb([t,e],[n,r]){const s=ze(t,n);return s===0?ze(e,r):s}class T3{constructor(e){this.Er=e,this.buffer=new Ut(Jb),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Jb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class S3{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Te(Xb,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Wl(n)?Te(Xb,"Ignoring IndexedDB error during garbage collection: ",n):await zl(n)}await this.mr(3e5)}))}}class C3{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return oe.resolve(yp.le);const r=new T3(n);return this.gr.forEachTarget(e,(s=>r.Rr(s.sequenceNumber))).next((()=>this.gr.yr(e,(s=>r.Rr(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(Yb)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Yb):this.wr(e,n)))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,s,o,l,c,h,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,l=Date.now(),this.nthSequenceNumber(e,s)))).next((v=>(r=v,c=Date.now(),this.removeTargets(e,r,n)))).next((v=>(o=v,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(p=Date.now(),ul()<=Ge.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${o} targets in `+(h-c)+`ms
	Removed ${v} documents in `+(p-h)+`ms
Total Duration: ${p-g}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:v}))))}}function I3(t,e){return new C3(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(){this.changes=new aa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?oe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&fu(r.mutation,s,Yn.empty(),Ft.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Qe()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Qe()){const s=Ho();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((o=>{let l=eu();return o.forEach(((c,h)=>{l=l.insert(c,h.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Ho();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Qe())))}populateOverlays(e,n,r){const s=[];return r.forEach((o=>{n.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,s){let o=Zs();const l=hu(),c=(function(){return hu()})();return n.forEach(((h,p)=>{const g=r.get(p.key);s.has(p.key)&&(g===void 0||g.mutation instanceof oo)?o=o.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),fu(g.mutation,p,g.mutation.getFieldMask(),Ft.now())):l.set(p.key,Yn.empty())})),this.recalculateAndSaveOverlays(e,o).next((h=>(h.forEach(((p,g)=>l.set(p,g))),n.forEach(((p,g)=>{var v;return c.set(p,new A3(g,(v=l.get(p))!==null&&v!==void 0?v:null))})),c)))}recalculateAndSaveOverlays(e,n){const r=hu();let s=new _t(((l,c)=>l-c)),o=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((h=>{const p=n.get(h);if(p===null)return;let g=r.get(h)||Yn.empty();g=c.applyToLocalView(p,g),r.set(h,g);const v=(s.get(c.batchId)||Qe()).add(h);s=s.insert(c.batchId,v)}))})).next((()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),p=h.key,g=h.value,v=dI();g.forEach((x=>{if(!o.has(x)){const b=vI(n.get(x),r.get(x));b!==null&&v.set(x,b),o=o.add(x)}})),l.push(this.documentOverlayCache.saveOverlays(e,p,v))}return oe.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(l){return Re.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):oI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((o=>{const l=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):oe.resolve(Ho());let c=Cu,h=o;return l.next((p=>oe.forEach(p,((g,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),o.get(g)?oe.resolve():this.remoteDocumentCache.getEntry(e,g).next((x=>{h=h.insert(g,x)}))))).next((()=>this.populateOverlays(e,p,o))).next((()=>this.computeViews(e,h,p,Qe()))).next((g=>({batchId:c,changes:uI(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Re(n)).next((r=>{let s=eu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let l=eu();return this.indexManager.getCollectionParents(e,o).next((c=>oe.forEach(c,(h=>{const p=(function(v,x){return new Hl(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next((g=>{g.forEach(((v,x)=>{l=l.insert(v,x)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s)))).next((l=>{o.forEach(((h,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,hn.newInvalidDocument(g)))}));let c=eu();return l.forEach(((h,p)=>{const g=o.get(h);g!==void 0&&fu(g.mutation,p,Yn.empty(),Ft.now()),bp(n,p)&&(c=c.insert(h,p))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return oe.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:ls(s.createTime)}})(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,(function(s){return{name:s.name,query:w3(s.bundledQuery),readTime:ls(s.readTime)}})(n)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(){this.overlays=new _t(Re.comparator),this.Qr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ho();return oe.forEach(n,(s=>this.getOverlay(e,s).next((o=>{o!==null&&r.set(s,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,o)=>{this.St(e,n,o)})),oe.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.Qr.delete(r)),oe.resolve()}getOverlaysForCollection(e,n,r){const s=Ho(),o=n.length+1,l=new Re(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,p=h.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===o&&h.largestBatchId>r&&s.set(h.getKey(),h)}return oe.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new _t(((p,g)=>p-g));const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let g=o.get(p.largestBatchId);g===null&&(g=Ho(),o=o.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const c=Ho(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((p,g)=>c.set(p,g))),!(c.size()>=s)););return oe.resolve(c)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new XL(n,r));let o=this.Qr.get(n);o===void 0&&(o=Qe(),this.Qr.set(n,o)),this.Qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(){this.$r=new Ut(qt.Ur),this.Kr=new Ut(qt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new qt(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.zr(new qt(e,n))}jr(e,n){e.forEach((r=>this.removeReference(r,n)))}Hr(e){const n=new Re(new ft([])),r=new qt(n,e),s=new qt(n,e+1),o=[];return this.Kr.forEachInRange([r,s],(l=>{this.zr(l),o.push(l.key)})),o}Jr(){this.$r.forEach((e=>this.zr(e)))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Re(new ft([])),r=new qt(n,e),s=new qt(n,e+1);let o=Qe();return this.Kr.forEachInRange([r,s],(l=>{o=o.add(l.key)})),o}containsKey(e){const n=new qt(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class qt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Re.comparator(e.key,n.key)||ze(e.Zr,n.Zr)}static Wr(e,n){return ze(e.Zr,n.Zr)||Re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Ut(qt.Ur)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new YL(o,n,r,s);this.mutationQueue.push(l);for(const c of s)this.Xr=this.Xr.add(new qt(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return oe.resolve(l)}lookupMutationBatch(e,n){return oe.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ti(r),o=s<0?0:s;return oe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?d0:this.nr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new qt(n,0),s=new qt(n,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,s],(l=>{const c=this.ei(l.Zr);o.push(c)})),oe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ut(ze);return n.forEach((s=>{const o=new qt(s,0),l=new qt(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,l],(c=>{r=r.add(c.Zr)}))})),oe.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;Re.isDocumentKey(o)||(o=o.child(""));const l=new qt(new Re(o),0);let c=new Ut(ze);return this.Xr.forEachWhile((h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(c=c.add(h.Zr)),!0)}),l),oe.resolve(this.ni(c))}ni(e){const n=[];return e.forEach((r=>{const s=this.ei(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){st(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return oe.forEach(n.mutations,(s=>{const o=new qt(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Xr=r}))}sr(e){}containsKey(e,n){const r=new qt(n,0),s=this.Xr.firstAfterOrEqual(r);return oe.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e){this.ii=e,this.docs=(function(){return new _t(Re.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,l=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return oe.resolve(r?r.document.mutableCopy():hn.newInvalidDocument(n))}getEntries(e,n){let r=Zs();return n.forEach((s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():hn.newInvalidDocument(s))})),oe.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=Zs();const l=n.path,c=new Re(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:p,value:{document:g}}=h.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||dL(uL(g),r)<=0||(s.has(g.key)||bp(n,g))&&(o=o.insert(g.key,g.mutableCopy()))}return oe.resolve(o)}getAllFromCollectionGroup(e,n,r,s){Le(9500)}si(e,n){return oe.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new O3(this)}getSize(e){return oe.resolve(this.size)}}class O3 extends N3{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)})),oe.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e){this.persistence=e,this.oi=new aa((n=>p0(n)),m0),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this._i=0,this.ai=new _0,this.targetCount=0,this.ui=Dl.cr()}forEachTarget(e,n){return this.oi.forEach(((r,s)=>n(s))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),oe.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Dl(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.Tr(n),oe.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.oi.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.oi.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)})),oe.waitFor(o).next((()=>s))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return oe.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),oe.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach((l=>{o.push(s.markPotentiallyOrphaned(e,l))})),oe.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return oe.resolve(r)}containsKey(e,n){return oe.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e,n){this.ci={},this.overlays={},this.li=new yp(0),this.hi=!1,this.hi=!0,this.Pi=new j3,this.referenceDelegate=e(this),this.Ti=new V3(this),this.indexManager=new _3,this.remoteDocumentCache=(function(s){return new M3(s)})((r=>this.referenceDelegate.Ii(r))),this.serializer=new x3(n),this.Ei=new R3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new k3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new D3(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){Te("MemoryPersistence","Starting transaction:",e);const s=new L3(this.li.next());return this.referenceDelegate.di(),r(s).next((o=>this.referenceDelegate.Ai(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ri(e,n){return oe.or(Object.values(this.ci).map((r=>()=>r.containsKey(e,n))))}}class L3 extends fL{constructor(e){super(),this.currentSequenceNumber=e}}class E0{constructor(e){this.persistence=e,this.Vi=new _0,this.mi=null}static fi(e){return new E0(e)}get gi(){if(this.mi)return this.mi;throw Le(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),oe.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach((s=>this.gi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((o=>this.gi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.gi,(r=>{const s=Re.fromPath(r);return this.pi(e,s).next((o=>{o||n.removeEntry(s,$e.min())}))})).next((()=>(this.mi=null,n.apply(e))))}updateLimboDocument(e,n){return this.pi(e,n).next((r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())}))}Ii(e){return 0}pi(e,n){return oe.or([()=>oe.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class $f{constructor(e,n){this.persistence=e,this.yi=new aa((r=>gL(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=I3(this,n)}static fi(e,n){return new $f(e,n)}di(){}Ai(e){return oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}br(e){let n=0;return this.yr(e,(r=>{n++})).next((()=>n))}yr(e,n){return oe.forEach(this.yi,((r,s)=>this.Dr(e,r,s).next((o=>o?oe.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.si(e,(l=>this.Dr(e,l,n).next((c=>{c||(r++,o.removeEntry(l,$e.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),oe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),oe.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),oe.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=lf(e.data.value)),n}Dr(e,n,r){return oe.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return oe.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ds=r,this.As=s}static Rs(e,n){let r=Qe(),s=Qe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new b0(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=(function(){return fM()?8:pL(mn())>0?6:4})()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.ws(e,n).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.bs(e,n,s,r).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new F3;return this.Ss(e,n,l).next((c=>{if(o.result=c,this.fs)return this.Ds(e,n,l,c.size)}))})).next((()=>o.result))}Ds(e,n,r,s){return r.documentReadCount<this.gs?(ul()<=Ge.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",dl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),oe.resolve()):(ul()<=Ge.DEBUG&&Te("QueryEngine","Query:",dl(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(ul()<=Ge.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",dl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,as(n))):oe.resolve())}ws(e,n){if(Ub(n))return oe.resolve(null);let r=as(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=Kv(n,null,"F"),r=as(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const l=Qe(...o);return this.ys.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((h=>{const p=this.vs(n,c);return this.Cs(n,p,l,h.readTime)?this.ws(e,Kv(n,null,"F")):this.Fs(e,p,n,h)}))))})))))}bs(e,n,r,s){return Ub(n)||s.isEqual($e.min())?oe.resolve(null):this.ys.getDocuments(e,r).next((o=>{const l=this.vs(n,o);return this.Cs(n,l,r,s)?oe.resolve(null):(ul()<=Ge.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),dl(n)),this.Fs(e,l,n,cL(s,Cu)).next((c=>c)))}))}vs(e,n){let r=new Ut(lI(e));return n.forEach(((s,o)=>{bp(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,n,r){return ul()<=Ge.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",dl(n)),this.ys.getDocumentsMatchingQuery(e,n,zi.min(),r)}Fs(e,n,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next((o=>(n.forEach((l=>{o=o.insert(l.key,l)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="LocalStore",$3=3e8;class B3{constructor(e,n,r,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new _t(ze),this.Os=new aa((o=>p0(o)),m0),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new P3(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.xs)))}}function z3(t,e,n,r){return new B3(t,e,n,r)}async function RI(t,e){const n=Be(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((o=>(s=o,n.Ls(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const l=[],c=[];let h=Qe();for(const p of s){l.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}for(const p of o){c.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}return n.localDocuments.getDocuments(r,h).next((p=>({ks:p,removedBatchIds:l,addedBatchIds:c})))}))}))}function W3(t,e){const n=Be(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),o=n.Bs.newChangeBuffer({trackRemovals:!0});return(function(c,h,p,g){const v=p.batch,x=v.keys();let b=oe.resolve();return x.forEach((S=>{b=b.next((()=>g.getEntry(h,S))).next((C=>{const I=p.docVersions.get(S);st(I!==null,48541),C.version.compareTo(I)<0&&(v.applyToRemoteDocument(C,p),C.isValidDocument()&&(C.setReadTime(p.commitVersion),g.addEntry(C)))}))})),b.next((()=>c.mutationQueue.removeMutationBatch(h,v)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let h=Qe();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(h=h.add(c.batch.mutations[p].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function kI(t){const e=Be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Ti.getLastRemoteSnapshotVersion(n)))}function H3(t,e){const n=Be(t),r=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const c=[];e.targetChanges.forEach(((g,v)=>{const x=s.get(v);if(!x)return;c.push(n.Ti.removeMatchingKeys(o,g.removedDocuments,v).next((()=>n.Ti.addMatchingKeys(o,g.addedDocuments,v))));let b=x.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?b=b.withResumeToken(rn.EMPTY_BYTE_STRING,$e.min()).withLastLimboFreeSnapshotVersion($e.min()):g.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(g.resumeToken,r)),s=s.insert(v,b),(function(C,I,j){return C.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=$3?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(x,b,g)&&c.push(n.Ti.updateTargetData(o,b))}));let h=Zs(),p=Qe();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,g))})),c.push(K3(o,l,e.documentUpdates).next((g=>{h=g.qs,p=g.Qs}))),!r.isEqual($e.min())){const g=n.Ti.getLastRemoteSnapshotVersion(o).next((v=>n.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r)));c.push(g)}return oe.waitFor(c).next((()=>l.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,h,p))).next((()=>h))})).then((o=>(n.xs=s,o)))}function K3(t,e,n){let r=Qe(),s=Qe();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let l=Zs();return n.forEach(((c,h)=>{const p=o.get(c);h.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(c)),h.isNoDocument()&&h.version.isEqual($e.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):Te(T0,"Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",h.version)})),{qs:l,Qs:s}}))}function q3(t,e){const n=Be(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=d0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function G3(t,e){const n=Be(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Ti.getTargetData(r,e).next((o=>o?(s=o,oe.resolve(s)):n.Ti.allocateTargetId(r).next((l=>(s=new Oi(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r}))}async function Xv(t,e,n){const r=Be(t),s=r.xs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!Wl(l))throw l;Te(T0,`Failed to update sequence numbers for target ${e}: ${l}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function Zb(t,e,n){const r=Be(t);let s=$e.min(),o=Qe();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(h,p,g){const v=Be(h),x=v.Os.get(g);return x!==void 0?oe.resolve(v.xs.get(x)):v.Ti.getTargetData(p,g)})(r,l,as(e)).next((c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(l,c.targetId).next((h=>{o=h}))})).next((()=>r.Ms.getDocumentsMatchingQuery(l,e,n?s:$e.min(),n?o:Qe()))).next((c=>(Q3(r,ML(e),c),{documents:c,$s:o})))))}function Q3(t,e,n){let r=t.Ns.get(e)||$e.min();n.forEach(((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Ns.set(e,r)}class eT{constructor(){this.activeTargetIds=$L()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Y3{constructor(){this.xo=new eT,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new eT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="ConnectivityMonitor";class nT{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Te(tT,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Te(tT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zh=null;function Jv(){return zh===null?zh=(function(){return 268435456+Math.round(2147483648*Math.random())})():zh++,"0x"+zh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg="RestConnection",J3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Z3{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===Of?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,n,r,s,o){const l=Jv(),c=this.jo(e,n.toUriEncodedString());Te(Wg,`Sending RPC '${e}' ${l}:`,c,r);const h={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(h,s,o);const{host:p}=new URL(c),g=no(p);return this.Jo(e,c,h,r,g).then((v=>(Te(Wg,`Received RPC '${e}' ${l}: `,v),v)),(v=>{throw Nl(Wg,`RPC '${e}' ${l} failed with error: `,v,"url: ",c,"request:",r),v}))}Yo(e,n,r,s,o,l){return this.zo(e,n,r,s,o)}Ho(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Bl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,o)=>e[o]=s)),r&&r.headers.forEach(((s,o)=>e[o]=s))}jo(e,n){const r=J3[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class tF extends Z3{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,o){const l=Jv();return new Promise(((c,h)=>{const p=new MC;p.setWithCredentials(!0),p.listenOnce(OC.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case af.NO_ERROR:const v=p.getResponseJson();Te(cn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),c(v);break;case af.TIMEOUT:Te(cn,`RPC '${e}' ${l} timed out`),h(new _e(ie.DEADLINE_EXCEEDED,"Request time out"));break;case af.HTTP_ERROR:const x=p.getStatus();if(Te(cn,`RPC '${e}' ${l} failed with status:`,x,"response text:",p.getResponseText()),x>0){let b=p.getResponseJson();Array.isArray(b)&&(b=b[0]);const S=b?.error;if(S&&S.status&&S.message){const C=(function(j){const L=j.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(L)>=0?L:ie.UNKNOWN})(S.status);h(new _e(C,S.message))}else h(new _e(ie.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new _e(ie.UNAVAILABLE,"Connection failed."));break;default:Le(9055,{h_:e,streamId:l,P_:p.getLastErrorCode(),T_:p.getLastError()})}}finally{Te(cn,`RPC '${e}' ${l} completed.`)}}));const g=JSON.stringify(s);Te(cn,`RPC '${e}' ${l} sending request:`,s),p.send(n,"POST",g,r,15)}))}I_(e,n,r){const s=Jv(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=FC(),c=LC(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Ho(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const g=o.join("");Te(cn,`Creating RPC '${e}' stream ${s}: ${g}`,h);const v=l.createWebChannel(g,h);this.E_(v);let x=!1,b=!1;const S=new eF({Zo:I=>{b?Te(cn,`Not sending because RPC '${e}' stream ${s} is closed:`,I):(x||(Te(cn,`Opening RPC '${e}' stream ${s} transport.`),v.open(),x=!0),Te(cn,`RPC '${e}' stream ${s} sending:`,I),v.send(I))},Xo:()=>v.close()}),C=(I,j,L)=>{I.listen(j,(O=>{try{L(O)}catch($){setTimeout((()=>{throw $}),0)}}))};return C(v,Zc.EventType.OPEN,(()=>{b||(Te(cn,`RPC '${e}' stream ${s} transport opened.`),S.__())})),C(v,Zc.EventType.CLOSE,(()=>{b||(b=!0,Te(cn,`RPC '${e}' stream ${s} transport closed`),S.u_(),this.d_(v))})),C(v,Zc.EventType.ERROR,(I=>{b||(b=!0,Nl(cn,`RPC '${e}' stream ${s} transport errored. Name:`,I.name,"Message:",I.message),S.u_(new _e(ie.UNAVAILABLE,"The operation could not be completed")))})),C(v,Zc.EventType.MESSAGE,(I=>{var j;if(!b){const L=I.data[0];st(!!L,16349);const O=L,$=O?.error||((j=O[0])===null||j===void 0?void 0:j.error);if($){Te(cn,`RPC '${e}' stream ${s} received error:`,$);const z=$.status;let q=(function(D){const V=Pt[D];if(V!==void 0)return xI(V)})(z),R=$.message;q===void 0&&(q=ie.INTERNAL,R="Unknown error status: "+z+" with message "+$.message),b=!0,S.u_(new _e(q,R)),v.close()}else Te(cn,`RPC '${e}' stream ${s} received:`,L),S.c_(L)}})),C(c,VC.STAT_EVENT,(I=>{I.stat===Fv.PROXY?Te(cn,`RPC '${e}' stream ${s} detected buffering proxy`):I.stat===Fv.NOPROXY&&Te(cn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{S.a_()}),0),S}terminate(){this.l_.forEach((e=>e.close())),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter((n=>n===e))}}function Hg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(t){return new i3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e,n,r=1e3,s=1.5,o=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=s,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),s=Math.max(0,n-r);s>0&&Te("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,(()=>(this.g_=Date.now(),e()))),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="PersistentStream";class DI{constructor(e,n,r,s,o,l,c,h){this.xi=e,this.S_=r,this.D_=s,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new jI(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,(()=>this.q_())))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(Js(n.toString()),Js("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.v_===n&&this.z_(r,s)}),(r=>{e((()=>{const s=new _e(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(s)}))}))}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_((()=>{r((()=>this.listener.e_()))})),this.stream.n_((()=>{r((()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,(()=>(this.N_()&&(this.state=3),Promise.resolve()))),this.listener.n_())))})),this.stream.i_((s=>{r((()=>this.j_(s)))})),this.stream.onMessage((s=>{r((()=>++this.M_==1?this.J_(s):this.onNext(s)))}))}B_(){this.state=5,this.x_.y_((async()=>{this.state=0,this.start()}))}j_(e){return Te(rT,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget((()=>this.v_===e?n():(Te(rT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class nF extends DI{constructor(e,n,r,s,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=o}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=l3(this.serializer,e),r=(function(o){if(!("targetChange"in o))return $e.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?$e.min():l.readTime?ls(l.readTime):$e.min()})(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=Yv(this.serializer),n.addTarget=(function(o,l){let c;const h=l.target;if(c=Wv(h)?{documents:d3(o,h)}:{query:h3(o,h).gt},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=EI(o,l.resumeToken);const p=qv(o,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo($e.min())>0){c.readTime=Uf(o,l.snapshotVersion.toTimestamp());const p=qv(o,l.expectedCount);p!==null&&(c.expectedCount=p)}return c})(this.serializer,e);const r=p3(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=Yv(this.serializer),n.removeTarget=e,this.Q_(n)}}class rF extends DI{constructor(e,n,r,s,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=u3(e.writeResults,e.commitTime),r=ls(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=Yv(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>c3(this.serializer,r)))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{}class iF extends sF{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new _e(ie.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.zo(e,Gv(n,r),s,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new _e(ie.UNKNOWN,o.toString())}))}Yo(e,n,r,s,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Yo(e,Gv(n,r),s,l,c,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _e(ie.UNKNOWN,l.toString())}))}terminate(){this.sa=!0,this.connection.terminate()}}class oF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve()))))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Js(n),this.ua=!1):Te("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="RemoteStore";class aF{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No((l=>{r.enqueueAndForget((async()=>{la(this)&&(Te(ta,"Restarting streams for network reachability change."),await(async function(h){const p=Be(h);p.da.add(4),await od(p),p.Va.set("Unknown"),p.da.delete(4),await Ap(p)})(this))}))})),this.Va=new oF(r,s)}}async function Ap(t){if(la(t))for(const e of t.Aa)await e(!0)}async function od(t){for(const e of t.Aa)await e(!1)}function MI(t,e){const n=Be(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),N0(n)?I0(n):Kl(n).N_()&&C0(n,e))}function S0(t,e){const n=Be(t),r=Kl(n);n.Ea.delete(e),r.N_()&&OI(n,e),n.Ea.size===0&&(r.N_()?r.k_():la(n)&&n.Va.set("Unknown"))}function C0(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($e.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Kl(t).Z_(e)}function OI(t,e){t.ma.Ke(e),Kl(t).X_(e)}function I0(t){t.ma=new t3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Kl(t).start(),t.Va.ca()}function N0(t){return la(t)&&!Kl(t).O_()&&t.Ea.size>0}function la(t){return Be(t).da.size===0}function VI(t){t.ma=void 0}async function lF(t){t.Va.set("Online")}async function cF(t){t.Ea.forEach(((e,n)=>{C0(t,e)}))}async function uF(t,e){VI(t),N0(t)?(t.Va.Pa(e),I0(t)):t.Va.set("Unknown")}async function dF(t,e,n){if(t.Va.set("Online"),e instanceof _I&&e.state===2&&e.cause)try{await(async function(s,o){const l=o.cause;for(const c of o.targetIds)s.Ea.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.Ea.delete(c),s.ma.removeTarget(c))})(t,e)}catch(r){Te(ta,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Bf(t,r)}else if(e instanceof df?t.ma.Xe(e):e instanceof wI?t.ma.ot(e):t.ma.nt(e),!n.isEqual($e.min()))try{const r=await kI(t.localStore);n.compareTo(r)>=0&&await(function(o,l){const c=o.ma.It(l);return c.targetChanges.forEach(((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const g=o.Ea.get(p);g&&o.Ea.set(p,g.withResumeToken(h.resumeToken,l))}})),c.targetMismatches.forEach(((h,p)=>{const g=o.Ea.get(h);if(!g)return;o.Ea.set(h,g.withResumeToken(rn.EMPTY_BYTE_STRING,g.snapshotVersion)),OI(o,h);const v=new Oi(g.target,h,p,g.sequenceNumber);C0(o,v)})),o.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){Te(ta,"Failed to raise snapshot:",r),await Bf(t,r)}}async function Bf(t,e,n){if(!Wl(e))throw e;t.da.add(1),await od(t),t.Va.set("Offline"),n||(n=()=>kI(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Te(ta,"Retrying IndexedDB access"),await n(),t.da.delete(1),await Ap(t)}))}function LI(t,e){return e().catch((n=>Bf(t,n,e)))}async function Pp(t){const e=Be(t),n=qi(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:d0;for(;hF(e);)try{const s=await q3(e.localStore,r);if(s===null){e.Ia.length===0&&n.k_();break}r=s.batchId,fF(e,s)}catch(s){await Bf(e,s)}FI(e)&&UI(e)}function hF(t){return la(t)&&t.Ia.length<10}function fF(t,e){t.Ia.push(e);const n=qi(t);n.N_()&&n.ea&&n.ta(e.mutations)}function FI(t){return la(t)&&!qi(t).O_()&&t.Ia.length>0}function UI(t){qi(t).start()}async function pF(t){qi(t).ia()}async function mF(t){const e=qi(t);for(const n of t.Ia)e.ta(n.mutations)}async function gF(t,e,n){const r=t.Ia.shift(),s=y0.from(r,e,n);await LI(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await Pp(t)}async function vF(t,e){e&&qi(t).ea&&await(async function(r,s){if((function(l){return ZL(l)&&l!==ie.ABORTED})(s.code)){const o=r.Ia.shift();qi(r).L_(),await LI(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s))),await Pp(r)}})(t,e),FI(t)&&UI(t)}async function sT(t,e){const n=Be(t);n.asyncQueue.verifyOperationInProgress(),Te(ta,"RemoteStore received new credentials");const r=la(n);n.da.add(3),await od(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Ap(n)}async function yF(t,e){const n=Be(t);e?(n.da.delete(2),await Ap(n)):e||(n.da.add(2),await od(n),n.Va.set("Unknown"))}function Kl(t){return t.fa||(t.fa=(function(n,r,s){const o=Be(n);return o.oa(),new nF(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(t.datastore,t.asyncQueue,{e_:lF.bind(null,t),n_:cF.bind(null,t),i_:uF.bind(null,t),Y_:dF.bind(null,t)}),t.Aa.push((async e=>{e?(t.fa.L_(),N0(t)?I0(t):t.Va.set("Unknown")):(await t.fa.stop(),VI(t))}))),t.fa}function qi(t){return t.ga||(t.ga=(function(n,r,s){const o=Be(n);return o.oa(),new rF(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:pF.bind(null,t),i_:vF.bind(null,t),na:mF.bind(null,t),ra:gF.bind(null,t)}),t.Aa.push((async e=>{e?(t.ga.L_(),await Pp(t)):(await t.ga.stop(),t.Ia.length>0&&(Te(ta,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))}))),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new zs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const l=Date.now()+r,c=new A0(e,n,l,s,o);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function P0(t,e){if(Js("AsyncQueue",`${e}: ${t}`),Wl(t))return new _e(ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{static emptySet(e){return new El(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Re.comparator(n.key,r.key):(n,r)=>Re.comparator(n.key,r.key),this.keyedMap=eu(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof El)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new El;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(){this.pa=new _t(Re.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Le(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Ml{constructor(e,n,r,s,o,l,c,h,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,s,o){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new Ml(e,n,El.emptySet(n),l,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ep(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some((e=>e.va()))}}class wF{constructor(){this.queries=oT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Be(n),o=s.queries;s.queries=oT(),o.forEach(((l,c)=>{for(const h of c.Sa)h.onError(r)}))})(this,new _e(ie.ABORTED,"Firestore shutting down"))}}function oT(){return new aa((t=>aI(t)),Ep)}async function R0(t,e){const n=Be(t);let r=3;const s=e.query;let o=n.queries.get(s);o?!o.Da()&&e.va()&&(r=2):(o=new xF,r=e.va()?0:1);try{switch(r){case 0:o.ba=await n.onListen(s,!0);break;case 1:o.ba=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const c=P0(l,`Initialization of query '${dl(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,o),o.Sa.push(e),e.Fa(n.onlineState),o.ba&&e.Ma(o.ba)&&j0(n)}async function k0(t,e){const n=Be(t),r=e.query;let s=3;const o=n.queries.get(r);if(o){const l=o.Sa.indexOf(e);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?s=e.va()?0:1:!o.Da()&&e.va()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function _F(t,e){const n=Be(t);let r=!1;for(const s of e){const o=s.query,l=n.queries.get(o);if(l){for(const c of l.Sa)c.Ma(s)&&(r=!0);l.ba=s}}r&&j0(n)}function EF(t,e,n){const r=Be(t),s=r.queries.get(e);if(s)for(const o of s.Sa)o.onError(n);r.queries.delete(e)}function j0(t){t.Ca.forEach((e=>{e.next()}))}var Zv,aT;(aT=Zv||(Zv={})).xa="default",aT.Cache="cache";class D0{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ml(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Ml.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Zv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e){this.key=e}}class BI{constructor(e){this.key=e}}class bF{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Qe(),this.mutatedKeys=Qe(),this.Za=lI(e),this.Xa=new El(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new iT,s=n?n.Xa:this.Xa;let o=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,v)=>{const x=s.get(g),b=bp(this.query,v)?v:null,S=!!x&&this.mutatedKeys.has(x.key),C=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let I=!1;x&&b?x.data.isEqual(b.data)?S!==C&&(r.track({type:3,doc:b}),I=!0):this.ru(x,b)||(r.track({type:2,doc:b}),I=!0,(h&&this.Za(b,h)>0||p&&this.Za(b,p)<0)&&(c=!0)):!x&&b?(r.track({type:0,doc:b}),I=!0):x&&!b&&(r.track({type:1,doc:x}),I=!0,(h||p)&&(c=!0)),I&&(b?(l=l.add(b),o=C?o.add(g):o.delete(g)):(l=l.delete(g),o=o.delete(g)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{Xa:l,nu:r,Cs:c,mutatedKeys:o}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const l=e.nu.wa();l.sort(((g,v)=>(function(b,S){const C=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le(20277,{Vt:I})}};return C(b)-C(S)})(g.type,v.type)||this.Za(g.doc,v.doc))),this.iu(r),s=s!=null&&s;const c=n&&!s?this.su():[],h=this.Ya.size===0&&this.current&&!s?1:0,p=h!==this.Ja;return this.Ja=h,l.length!==0||p?{snapshot:new Ml(this.query,e.Xa,o,l,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:c}:{ou:c}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new iT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach((n=>this.Ha=this.Ha.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ha=this.Ha.delete(n))),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Qe(),this.Xa.forEach((r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new BI(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new $I(r))})),n}au(e){this.Ha=e.$s,this.Ya=Qe();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Ml.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const M0="SyncEngine";class TF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class SF{constructor(e){this.key=e,this.cu=!1}}class CF{constructor(e,n,r,s,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.lu={},this.hu=new aa((c=>aI(c)),Ep),this.Pu=new Map,this.Tu=new Set,this.Iu=new _t(Re.comparator),this.Eu=new Map,this.du=new _0,this.Au={},this.Ru=new Map,this.Vu=Dl.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function IF(t,e,n=!0){const r=GI(t);let s;const o=r.hu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.uu()):s=await zI(r,e,n,!0),s}async function NF(t,e){const n=GI(t);await zI(n,e,!0,!1)}async function zI(t,e,n,r){const s=await G3(t.localStore,as(e)),o=s.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let c;return r&&(c=await AF(t,e,o,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&MI(t.remoteStore,s),c}async function AF(t,e,n,r,s){t.fu=(v,x,b)=>(async function(C,I,j,L){let O=I.view.tu(j);O.Cs&&(O=await Zb(C.localStore,I.query,!1).then((({documents:R})=>I.view.tu(R,O))));const $=L&&L.targetChanges.get(I.targetId),z=L&&L.targetMismatches.get(I.targetId)!=null,q=I.view.applyChanges(O,C.isPrimaryClient,$,z);return cT(C,I.targetId,q.ou),q.snapshot})(t,v,x,b);const o=await Zb(t.localStore,e,!0),l=new bF(e,o.$s),c=l.tu(o.documents),h=id.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),p=l.applyChanges(c,t.isPrimaryClient,h);cT(t,n,p.ou);const g=new TF(e,n,l);return t.hu.set(e,g),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),p.snapshot}async function PF(t,e,n){const r=Be(t),s=r.hu.get(e),o=r.Pu.get(s.targetId);if(o.length>1)return r.Pu.set(s.targetId,o.filter((l=>!Ep(l,e)))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Xv(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&S0(r.remoteStore,s.targetId),ey(r,s.targetId)})).catch(zl)):(ey(r,s.targetId),await Xv(r.localStore,s.targetId,!0))}async function RF(t,e){const n=Be(t),r=n.hu.get(e),s=n.Pu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),S0(n.remoteStore,r.targetId))}async function kF(t,e,n){const r=FF(t);try{const s=await(function(l,c){const h=Be(l),p=Ft.now(),g=c.reduce(((b,S)=>b.add(S.key)),Qe());let v,x;return h.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let S=Zs(),C=Qe();return h.Bs.getEntries(b,g).next((I=>{S=I,S.forEach(((j,L)=>{L.isValidDocument()||(C=C.add(j))}))})).next((()=>h.localDocuments.getOverlayedDocuments(b,S))).next((I=>{v=I;const j=[];for(const L of c){const O=GL(L,v.get(L.key).overlayedDocument);O!=null&&j.push(new oo(L.key,O,ZC(O.value.mapValue),Sn.exists(!0)))}return h.mutationQueue.addMutationBatch(b,p,j,c)})).next((I=>{x=I;const j=I.applyToLocalDocumentSet(v,C);return h.documentOverlayCache.saveOverlays(b,I.batchId,j)}))})).then((()=>({batchId:x.batchId,changes:uI(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(l,c,h){let p=l.Au[l.currentUser.toKey()];p||(p=new _t(ze)),p=p.insert(c,h),l.Au[l.currentUser.toKey()]=p})(r,s.batchId,n),await ad(r,s.changes),await Pp(r.remoteStore)}catch(s){const o=P0(s,"Failed to persist write");n.reject(o)}}async function WI(t,e){const n=Be(t);try{const r=await H3(n.localStore,e);e.targetChanges.forEach(((s,o)=>{const l=n.Eu.get(o);l&&(st(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.cu=!0:s.modifiedDocuments.size>0?st(l.cu,14607):s.removedDocuments.size>0&&(st(l.cu,42227),l.cu=!1))})),await ad(n,r,e)}catch(r){await zl(r)}}function lT(t,e,n){const r=Be(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.hu.forEach(((o,l)=>{const c=l.view.Fa(e);c.snapshot&&s.push(c.snapshot)})),(function(l,c){const h=Be(l);h.onlineState=c;let p=!1;h.queries.forEach(((g,v)=>{for(const x of v.Sa)x.Fa(c)&&(p=!0)})),p&&j0(h)})(r.eventManager,e),s.length&&r.lu.Y_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function jF(t,e,n){const r=Be(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),o=s&&s.key;if(o){let l=new _t(Re.comparator);l=l.insert(o,hn.newNoDocument(o,$e.min()));const c=Qe().add(o),h=new Ip($e.min(),new Map,new _t(ze),l,c);await WI(r,h),r.Iu=r.Iu.remove(o),r.Eu.delete(e),O0(r)}else await Xv(r.localStore,e,!1).then((()=>ey(r,e,n))).catch(zl)}async function DF(t,e){const n=Be(t),r=e.batch.batchId;try{const s=await W3(n.localStore,e);KI(n,r,null),HI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ad(n,s)}catch(s){await zl(s)}}async function MF(t,e,n){const r=Be(t);try{const s=await(function(l,c){const h=Be(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let g;return h.mutationQueue.lookupMutationBatch(p,c).next((v=>(st(v!==null,37113),g=v.keys(),h.mutationQueue.removeMutationBatch(p,v)))).next((()=>h.mutationQueue.performConsistencyCheck(p))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(p,g,c))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g))).next((()=>h.localDocuments.getDocuments(p,g)))}))})(r.localStore,e);KI(r,e,n),HI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ad(r,s)}catch(s){await zl(s)}}function HI(t,e){(t.Ru.get(e)||[]).forEach((n=>{n.resolve()})),t.Ru.delete(e)}function KI(t,e,n){const r=Be(t);let s=r.Au[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Au[r.currentUser.toKey()]=s}}function ey(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach((r=>{t.du.containsKey(r)||qI(t,r)}))}function qI(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(S0(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),O0(t))}function cT(t,e,n){for(const r of n)r instanceof $I?(t.du.addReference(r.key,e),OF(t,r)):r instanceof BI?(Te(M0,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||qI(t,r.key)):Le(19791,{pu:r})}function OF(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(Te(M0,"New document in limbo: "+n),t.Tu.add(r),O0(t))}function O0(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new Re(ft.fromString(e)),r=t.Vu.next();t.Eu.set(r,new SF(n)),t.Iu=t.Iu.insert(n,r),MI(t.remoteStore,new Oi(as(_p(n.path)),r,"TargetPurposeLimboResolution",yp.le))}}async function ad(t,e,n){const r=Be(t),s=[],o=[],l=[];r.hu.isEmpty()||(r.hu.forEach(((c,h)=>{l.push(r.fu(h,e,n).then((p=>{var g;if((p||n)&&r.isPrimaryClient){const v=p?!p.fromCache:(g=n?.targetChanges.get(h.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(h.targetId,v?"current":"not-current")}if(p){s.push(p);const v=b0.Rs(h.targetId,p);o.push(v)}})))})),await Promise.all(l),r.lu.Y_(s),await(async function(h,p){const g=Be(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>oe.forEach(p,(x=>oe.forEach(x.ds,(b=>g.persistence.referenceDelegate.addReference(v,x.targetId,b))).next((()=>oe.forEach(x.As,(b=>g.persistence.referenceDelegate.removeReference(v,x.targetId,b)))))))))}catch(v){if(!Wl(v))throw v;Te(T0,"Failed to update sequence numbers: "+v)}for(const v of p){const x=v.targetId;if(!v.fromCache){const b=g.xs.get(x),S=b.snapshotVersion,C=b.withLastLimboFreeSnapshotVersion(S);g.xs=g.xs.insert(x,C)}}})(r.localStore,o))}async function VF(t,e){const n=Be(t);if(!n.currentUser.isEqual(e)){Te(M0,"User change. New user:",e.toKey());const r=await RI(n.localStore,e);n.currentUser=e,(function(o,l){o.Ru.forEach((c=>{c.forEach((h=>{h.reject(new _e(ie.CANCELLED,l))}))})),o.Ru.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ad(n,r.ks)}}function LF(t,e){const n=Be(t),r=n.Eu.get(e);if(r&&r.cu)return Qe().add(r.key);{let s=Qe();const o=n.Pu.get(e);if(!o)return s;for(const l of o){const c=n.hu.get(l);s=s.unionWith(c.view.eu)}return s}}function GI(t){const e=Be(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=WI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=LF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jF.bind(null,e),e.lu.Y_=_F.bind(null,e.eventManager),e.lu.gu=EF.bind(null,e.eventManager),e}function FF(t){const e=Be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=MF.bind(null,e),e}class zf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Np(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return z3(this.persistence,new U3,e.initialUser,this.serializer)}Su(e){return new PI(E0.fi,this.serializer)}bu(e){return new Y3}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zf.provider={build:()=>new zf};class UF extends zf{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){st(this.persistence.referenceDelegate instanceof $f,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new S3(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new PI((r=>$f.fi(r,n)),this.serializer)}}class ty{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>lT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=VF.bind(null,this.syncEngine),await yF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new wF})()}createDatastore(e){const n=Np(e.databaseInfo.databaseId),r=(function(o){return new tF(o)})(e.databaseInfo);return(function(o,l,c,h){return new iF(o,l,c,h)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,o,l,c){return new aF(r,s,o,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>lT(this.syncEngine,n,0)),(function(){return nT.C()?new nT:new X3})())}createSyncEngine(e,n){return(function(s,o,l,c,h,p,g){const v=new CF(s,o,l,c,h,p);return g&&(v.mu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(s){const o=Be(s);Te(ta,"RemoteStore shutting down."),o.da.add(5),await od(o),o.Ra.shutdown(),o.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ty.provider={build:()=>new ty};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Js("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi="FirestoreClient";class $F{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=dn.UNAUTHENTICATED,this.clientId=zC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async l=>{Te(Gi,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(Te(Gi,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=P0(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Kg(t,e){t.asyncQueue.verifyOperationInProgress(),Te(Gi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await RI(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function uT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await BF(t);Te(Gi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>sT(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>sT(e.remoteStore,s))),t._onlineComponents=e}async function BF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Te(Gi,"Using user provided OfflineComponentProvider");try{await Kg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===ie.FAILED_PRECONDITION||s.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;Nl("Error using user provided cache. Falling back to memory cache: "+n),await Kg(t,new zf)}}else Te(Gi,"Using default OfflineComponentProvider"),await Kg(t,new UF(void 0));return t._offlineComponents}async function QI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Te(Gi,"Using user provided OnlineComponentProvider"),await uT(t,t._uninitializedComponentsProvider._online)):(Te(Gi,"Using default OnlineComponentProvider"),await uT(t,new ty))),t._onlineComponents}function zF(t){return QI(t).then((e=>e.syncEngine))}async function Wf(t){const e=await QI(t),n=e.eventManager;return n.onListen=IF.bind(null,e.syncEngine),n.onUnlisten=PF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=NF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=RF.bind(null,e.syncEngine),n}function WF(t,e,n={}){const r=new zs;return t.asyncQueue.enqueueAndForget((async()=>(function(o,l,c,h,p){const g=new V0({next:x=>{g.xu(),l.enqueueAndForget((()=>k0(o,v)));const b=x.docs.has(c);!b&&x.fromCache?p.reject(new _e(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&x.fromCache&&h&&h.source==="server"?p.reject(new _e(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(x)},error:x=>p.reject(x)}),v=new D0(_p(c.path),g,{includeMetadataChanges:!0,Qa:!0});return R0(o,v)})(await Wf(t),t.asyncQueue,e,n,r))),r.promise}function HF(t,e,n={}){const r=new zs;return t.asyncQueue.enqueueAndForget((async()=>(function(o,l,c,h,p){const g=new V0({next:x=>{g.xu(),l.enqueueAndForget((()=>k0(o,v))),x.fromCache&&h.source==="server"?p.reject(new _e(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(x)},error:x=>p.reject(x)}),v=new D0(c,g,{includeMetadataChanges:!0,Qa:!0});return R0(o,v)})(await Wf(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(t,e,n){if(!n)throw new _e(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function KF(t,e,n,r){if(e===!0&&r===!0)throw new _e(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function hT(t){if(!Re.isDocumentKey(t))throw new _e(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function fT(t){if(Re.isDocumentKey(t))throw new _e(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Rp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Le(12329,{type:typeof t})}function Cn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _e(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Rp(t);throw new _e(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI="firestore.googleapis.com",pT=!0;class mT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=JI,this.ssl=pT}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:pT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=AI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<b3)throw new _e(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new _e(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new _e(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new _e(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kp{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new eL;switch(r.type){case"firstParty":return new sL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _e(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=dT.get(n);r&&(Te("ComponentProvider","Removing Datastore"),dT.delete(n),r.terminate())})(this),Promise.resolve()}}function qF(t,e,n,r={}){var s;t=Cn(t,kp);const o=no(e),l=t._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:t._getEmulatorOptions()}),h=`${e}:${n}`;o&&(fp(`https://${h}`),pp("Firestore",!0)),l.host!==JI&&l.host!==h&&Nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},l),{host:h,ssl:o,emulatorOptions:r});if(!Gs(p,c)&&(t._setSettings(p),r.mockUserToken)){let g,v;if(typeof r.mockUserToken=="string")g=r.mockUserToken,v=dn.MOCK_USER;else{g=GS(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new _e(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new dn(x)}t._authCredentials=new tL(new $C(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ao(this.firestore,e,this._query)}}class pn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $i(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pn(this.firestore,e,this._key)}}class $i extends ao{constructor(e,n,r){super(e,n,_p(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pn(this.firestore,null,new Re(e))}withConverter(e){return new $i(this.firestore,e,this._path)}}function ot(t,e,...n){if(t=ut(t),XI("collection","path",e),t instanceof kp){const r=ft.fromString(e,...n);return fT(r),new $i(t,null,r)}{if(!(t instanceof pn||t instanceof $i))throw new _e(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ft.fromString(e,...n));return fT(r),new $i(t.firestore,null,r)}}function xt(t,e,...n){if(t=ut(t),arguments.length===1&&(e=zC.newId()),XI("doc","path",e),t instanceof kp){const r=ft.fromString(e,...n);return hT(r),new pn(t,null,new Re(r))}{if(!(t instanceof pn||t instanceof $i))throw new _e(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ft.fromString(e,...n));return hT(r),new pn(t.firestore,t instanceof $i?t.converter:null,new Re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="AsyncQueue";class vT{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new jI(this,"async_queue_retry"),this.rc=()=>{const r=Hg();r&&Te(gT,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=Hg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=Hg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise((()=>{}));const n=new zs;return this._c((()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Ju.push(e),this.ac())))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Wl(e))throw e;Te(gT,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_((()=>this.ac()))}}_c(e){const n=this.sc.then((()=>(this.ec=!0,e().catch((r=>{throw this.Xu=r,this.ec=!1,Js("INTERNAL UNHANDLED ERROR: ",yT(r)),r})).then((r=>(this.ec=!1,r))))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const s=A0.createAndSchedule(this,e,n,r,(o=>this.uc(o)));return this.Zu.push(s),s}oc(){this.Xu&&Le(47125,{cc:yT(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then((()=>{this.Zu.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()}))}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function yT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1})(t,["next","error","complete"])}class fs extends kp{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new vT,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vT(e),this._firestoreClient=void 0,await e}}}function GF(t,e){const n=typeof t=="object"?t:Ju(),r=typeof t=="string"?t:Of,s=Xu(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=Xy("firestore");o&&qF(s,...o)}return s}function ld(t){if(t._terminated)throw new _e(ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||QF(t),t._firestoreClient}function QF(t){var e,n,r;const s=t._freezeSettings(),o=(function(c,h,p,g){return new xL(c,h,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,YI(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new $F(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&(function(c){const h=c?._online.build();return{_offline:c?._offline.build(h),_online:h}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ol(rn.fromBase64String(e))}catch(n){throw new _e(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ol(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YF=/^__.*__$/;class XF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new oo(e,this.data,this.fieldMask,n,this.fieldTransforms):new sd(e,this.data,n,this.fieldTransforms)}}class ZI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new oo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function eN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le(40011,{Ic:t})}}class jp{constructor(e,n,r,s,o,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new jp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Vc(e),s}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Ec(),s}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Hf(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(eN(this.Ic)&&YF.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class JF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Np(e)}bc(e,n,r,s=!1){return new jp({Ic:e,methodName:n,wc:r,path:nn.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ud(t){const e=t._freezeSettings(),n=Np(t._databaseId);return new JF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function U0(t,e,n,r,s,o={}){const l=t.bc(o.merge||o.mergeFields?2:0,e,n,s);W0("Data must be an object, but it was:",l,r);const c=sN(r,l);let h,p;if(o.merge)h=new Yn(l.fieldMask),p=l.fieldTransforms;else if(o.mergeFields){const g=[];for(const v of o.mergeFields){const x=ny(e,v,n);if(!l.contains(x))throw new _e(ie.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);oN(g,x)||g.push(x)}h=new Yn(g),p=l.fieldTransforms.filter((v=>h.covers(v.field)))}else h=null,p=l.fieldTransforms;return new XF(new Ln(c),h,p)}class Dp extends ql{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dp}}function tN(t,e,n){return new jp({Ic:3,wc:e.settings.wc,methodName:t._methodName,Rc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class $0 extends ql{_toFieldTransform(e){return new v0(e.path,new Ru)}isEqual(e){return e instanceof $0}}class B0 extends ql{constructor(e,n){super(e),this.Sc=n}_toFieldTransform(e){const n=tN(this,e,!0),r=this.Sc.map((o=>ca(o,n))),s=new kl(r);return new v0(e.path,s)}isEqual(e){return e instanceof B0&&Gs(this.Sc,e.Sc)}}class z0 extends ql{constructor(e,n){super(e),this.Sc=n}_toFieldTransform(e){const n=tN(this,e,!0),r=this.Sc.map((o=>ca(o,n))),s=new jl(r);return new v0(e.path,s)}isEqual(e){return e instanceof z0&&Gs(this.Sc,e.Sc)}}function nN(t,e,n,r){const s=t.bc(1,e,n);W0("Data must be an object, but it was:",s,r);const o=[],l=Ln.empty();io(r,((h,p)=>{const g=H0(e,h,n);p=ut(p);const v=s.mc(g);if(p instanceof Dp)o.push(g);else{const x=ca(p,v);x!=null&&(o.push(g),l.set(g,x))}}));const c=new Yn(o);return new ZI(l,c,s.fieldTransforms)}function rN(t,e,n,r,s,o){const l=t.bc(1,e,n),c=[ny(e,r,n)],h=[s];if(o.length%2!=0)throw new _e(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<o.length;x+=2)c.push(ny(e,o[x])),h.push(o[x+1]);const p=[],g=Ln.empty();for(let x=c.length-1;x>=0;--x)if(!oN(p,c[x])){const b=c[x];let S=h[x];S=ut(S);const C=l.mc(b);if(S instanceof Dp)p.push(b);else{const I=ca(S,C);I!=null&&(p.push(b),g.set(b,I))}}const v=new Yn(p);return new ZI(g,v,l.fieldTransforms)}function ZF(t,e,n,r=!1){return ca(n,t.bc(r?4:3,e))}function ca(t,e){if(iN(t=ut(t)))return W0("Unsupported field value:",e,t),sN(t,e);if(t instanceof ql)return(function(r,s){if(!eN(s.Ic))throw s.gc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return(function(r,s){const o=[];let l=0;for(const c of r){let h=ca(c,s.fc(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}})(t,e)}return(function(r,s){if((r=ut(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return BL(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ft.fromDate(r);return{timestampValue:Uf(s.serializer,o)}}if(r instanceof Ft){const o=new Ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Uf(s.serializer,o)}}if(r instanceof L0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ol)return{bytesValue:EI(s.serializer,r._byteString)};if(r instanceof pn){const o=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw s.gc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:w0(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof F0)return(function(l,c){return{mapValue:{fields:{[XC]:{stringValue:JC},[Vf]:{arrayValue:{values:l.toArray().map((p=>{if(typeof p!="number")throw c.gc("VectorValues must only contain numeric values.");return g0(c.serializer,p)}))}}}}}})(r,s);throw s.gc(`Unsupported field value: ${Rp(r)}`)})(t,e)}function sN(t,e){const n={};return HC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):io(t,((r,s)=>{const o=ca(s,e.Ac(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function iN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ft||t instanceof L0||t instanceof Ol||t instanceof pn||t instanceof ql||t instanceof F0)}function W0(t,e,n){if(!iN(n)||!(function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)})(n)){const r=Rp(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function ny(t,e,n){if((e=ut(e))instanceof cd)return e._internalPath;if(typeof e=="string")return H0(t,e);throw Hf("Field path arguments must be of type string or ",t,!1,void 0,n)}const e5=new RegExp("[~\\*/\\[\\]]");function H0(t,e,n){if(e.search(e5)>=0)throw Hf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new cd(...e.split("."))._internalPath}catch{throw Hf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Hf(t,e,n,r,s){const o=r&&!r.isEmpty(),l=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${r}`),l&&(h+=` in document ${s}`),h+=")"),new _e(ie.INVALID_ARGUMENT,c+t+h)}function oN(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new t5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Mp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class t5 extends aN{data(){return super.data()}}function Mp(t,e){return typeof e=="string"?H0(t,e):e instanceof cd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new _e(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class K0{}class cN extends K0{}function Vn(t,e,...n){let r=[];e instanceof K0&&r.push(e),r=r.concat(n),(function(o){const l=o.filter((h=>h instanceof q0)).length,c=o.filter((h=>h instanceof Op)).length;if(l>1||l>0&&c>0)throw new _e(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class Op extends cN{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Op(e,n,r)}_apply(e){const n=this._parse(e);return uN(e._query,n),new ao(e.firestore,e.converter,Hv(e._query,n))}_parse(e){const n=ud(e.firestore);return(function(o,l,c,h,p,g,v){let x;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new _e(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){_T(v,g);const S=[];for(const C of v)S.push(wT(h,o,C));x={arrayValue:{values:S}}}else x=wT(h,o,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||_T(v,g),x=ZF(c,l,v,g==="in"||g==="not-in");return kt.create(p,g,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Gn(t,e,n){const r=e,s=Mp("where",t);return Op._create(s,r,n)}class q0 extends K0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new q0(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Vr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,o){let l=s;const c=o.getFlattenedFilters();for(const h of c)uN(l,h),l=Hv(l,h)})(e._query,n),new ao(e.firestore,e.converter,Hv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class G0 extends cN{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new G0(e,n)}_apply(e){const n=(function(s,o,l){if(s.startAt!==null)throw new _e(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new _e(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Pu(o,l)})(e._query,this._field,this._direction);return new ao(e.firestore,e.converter,(function(s,o){const l=s.explicitOrderBy.concat([o]);return new Hl(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,n))}}function Ko(t,e="asc"){const n=e,r=Mp("orderBy",t);return G0._create(r,n)}function wT(t,e,n){if(typeof(n=ut(n))=="string"){if(n==="")throw new _e(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oI(e)&&n.indexOf("/")!==-1)throw new _e(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ft.fromString(n));if(!Re.isDocumentKey(r))throw new _e(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Db(t,new Re(r))}if(n instanceof pn)return Db(t,n._key);throw new _e(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rp(n)}.`)}function _T(t,e){if(!Array.isArray(t)||t.length===0)throw new _e(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uN(t,e){const n=(function(s,o){for(const l of s)for(const c of l.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new _e(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class n5{convertValue(e,n="none"){switch(Ki(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Hi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Le(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return io(e,((s,o)=>{r[s]=this.convertValue(o,n)})),r}convertVectorValue(e){var n,r,s;const o=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Vf].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map((l=>It(l.doubleValue)));return new F0(o)}convertGeoPoint(e){return new L0(It(e.latitude),It(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=wp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Iu(e));default:return null}}convertTimestamp(e){const n=Wi(e);return new Ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ft.fromString(e);st(NI(r),9688,{name:e});const s=new Nu(r.get(1),r.get(3)),o=new Re(r.popFirst(5));return s.isEqual(n)||Js(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dN extends aN{constructor(e,n,r,s,o,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new hf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Mp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class hf extends dN{data(e={}){return super.data(e)}}class hN{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new nu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new hf(this._firestore,this._userDataWriter,r.key,r,new nu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((c=>{const h=new hf(s._firestore,s._userDataWriter,c.doc.key,c.doc,new nu(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((c=>o||c.type!==3)).map((c=>{const h=new hf(s._firestore,s._userDataWriter,c.doc.key,c.doc,new nu(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,g=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),g=l.indexOf(c.doc.key)),{type:r5(c.type),doc:h,oldIndex:p,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function r5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(t){t=Cn(t,pn);const e=Cn(t.firestore,fs);return WF(ld(e),t._key).then((n=>fN(e,t,n)))}class Y0 extends n5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ol(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pn(this.firestore,null,n)}}function ns(t){t=Cn(t,ao);const e=Cn(t.firestore,fs),n=ld(e),r=new Y0(e);return lN(t._query),HF(n,t._query).then((s=>new hN(e,r,t,s)))}function bl(t,e,n){t=Cn(t,pn);const r=Cn(t.firestore,fs),s=Q0(t.converter,e,n);return dd(r,[U0(ud(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Sn.none())])}function ss(t,e,n,...r){t=Cn(t,pn);const s=Cn(t.firestore,fs),o=ud(s);let l;return l=typeof(e=ut(e))=="string"||e instanceof cd?rN(o,"updateDoc",t._key,e,n,r):nN(o,"updateDoc",t._key,e),dd(s,[l.toMutation(t._key,Sn.exists(!0))])}function ku(t){return dd(Cn(t.firestore,fs),[new Cp(t._key,Sn.none())])}function kr(t,e){const n=Cn(t.firestore,fs),r=xt(t),s=Q0(t.converter,e);return dd(n,[U0(ud(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Sn.exists(!1))]).then((()=>r))}function jr(t,...e){var n,r,s;t=ut(t);let o={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||xT(e[l])||(o=e[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(xT(e[l])){const v=e[l];e[l]=(n=v.next)===null||n===void 0?void 0:n.bind(v),e[l+1]=(r=v.error)===null||r===void 0?void 0:r.bind(v),e[l+2]=(s=v.complete)===null||s===void 0?void 0:s.bind(v)}let h,p,g;if(t instanceof pn)p=Cn(t.firestore,fs),g=_p(t._key.path),h={next:v=>{e[l]&&e[l](fN(p,t,v))},error:e[l+1],complete:e[l+2]};else{const v=Cn(t,ao);p=Cn(v.firestore,fs),g=v._query;const x=new Y0(p);h={next:b=>{e[l]&&e[l](new hN(p,x,v,b))},error:e[l+1],complete:e[l+2]},lN(t._query)}return(function(x,b,S,C){const I=new V0(C),j=new D0(b,I,S);return x.asyncQueue.enqueueAndForget((async()=>R0(await Wf(x),j))),()=>{I.xu(),x.asyncQueue.enqueueAndForget((async()=>k0(await Wf(x),j)))}})(ld(p),g,c,h)}function dd(t,e){return(function(r,s){const o=new zs;return r.asyncQueue.enqueueAndForget((async()=>kF(await zF(r),s,o))),o.promise})(ld(t),e)}function fN(t,e,n){const r=n.docs.get(e._key),s=new Y0(t);return new dN(t,s,e._key,r,new nu(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ud(e)}set(e,n,r){this._verifyNotCommitted();const s=qg(e,this._firestore),o=Q0(s.converter,n,r),l=U0(this._dataReader,"WriteBatch.set",s._key,o,s.converter!==null,r);return this._mutations.push(l.toMutation(s._key,Sn.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const o=qg(e,this._firestore);let l;return l=typeof(n=ut(n))=="string"||n instanceof cd?rN(this._dataReader,"WriteBatch.update",o._key,n,r,s):nN(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(l.toMutation(o._key,Sn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=qg(e,this._firestore);return this._mutations=this._mutations.concat(new Cp(n._key,Sn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new _e(ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function qg(t,e){if((t=ut(t)).firestore!==e)throw new _e(ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Rt(){return new $0("serverTimestamp")}function i5(...t){return new B0("arrayUnion",t)}function o5(...t){return new z0("arrayRemove",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(t){return ld(t=Cn(t,fs)),new s5(t,(e=>dd(t,e)))}(function(e,n=!0){(function(s){Bl=s})(ia),Bi(new Qs("firestore",((r,{instanceIdentifier:s,options:o})=>{const l=r.getProvider("app").getImmediate(),c=new fs(new nL(r.getProvider("auth-internal")),new iL(l,r.getProvider("app-check-internal")),(function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new _e(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nu(p.options.projectId,g)})(l,s),l);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c}),"PUBLIC").setMultipleInstances(!0)),fr(Eb,bb,e),fr(Eb,bb,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN="firebasestorage.googleapis.com",a5="storageBucket",l5=120*1e3,c5=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends vs{constructor(e,n,r=0){super(Gg(e),`Firebase Storage: ${n} (${Gg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ys.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Gg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ps;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ps||(ps={}));function Gg(t){return"storage/"+t}function u5(){const t="An unknown error occurred, please check the error payload for server response.";return new ys(ps.UNKNOWN,t)}function d5(){return new ys(ps.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function h5(){return new ys(ps.CANCELED,"User canceled the upload/download.")}function f5(t){return new ys(ps.INVALID_URL,"Invalid URL '"+t+"'.")}function p5(t){return new ys(ps.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function ET(t){return new ys(ps.INVALID_ARGUMENT,t)}function mN(){return new ys(ps.APP_DELETED,"The Firebase app was deleted.")}function m5(t){return new ys(ps.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Mr.makeFromUrl(e,n)}catch{return new Mr(e,"")}if(r.path==="")return r;throw p5(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o($){$.path.charAt($.path.length-1)==="/"&&($.path_=$.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+s+l,"i"),h={bucket:1,path:3};function p($){$.path_=decodeURIComponent($.path)}const g="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",b=new RegExp(`^https?://${v}/${g}/b/${s}/o${x}`,"i"),S={bucket:1,path:3},C=n===pN?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",j=new RegExp(`^https?://${C}/${s}/${I}`,"i"),O=[{regex:c,indices:h,postModify:o},{regex:b,indices:S,postModify:p},{regex:j,indices:{bucket:1,path:2},postModify:p}];for(let $=0;$<O.length;$++){const z=O[$],q=z.regex.exec(e);if(q){const R=q[z.indices.bucket];let A=q[z.indices.path];A||(A=""),r=new Mr(R,A),z.postModify(r);break}}if(r==null)throw f5(e);return r}}class g5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v5(t,e,n){let r=1,s=null,o=null,l=!1,c=0;function h(){return c===2}let p=!1;function g(...I){p||(p=!0,e.apply(null,I))}function v(I){s=setTimeout(()=>{s=null,t(b,h())},I)}function x(){o&&clearTimeout(o)}function b(I,...j){if(p){x();return}if(I){x(),g.call(null,I,...j);return}if(h()||l){x(),g.call(null,I,...j);return}r<64&&(r*=2);let O;c===1?(c=2,O=0):O=(r+Math.random())*1e3,v(O)}let S=!1;function C(I){S||(S=!0,x(),!p&&(s!==null?(I||(c=2),clearTimeout(s),v(0)):I||(c=1)))}return v(0),o=setTimeout(()=>{l=!0,C(!0)},n),C}function y5(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x5(t){return t!==void 0}function bT(t,e,n,r){if(r<e)throw ET(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw ET(`Invalid value for '${t}'. Expected ${n} or less.`)}function w5(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Kf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Kf||(Kf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _5(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e,n,r,s,o,l,c,h,p,g,v,x=!0,b=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=h,this.timeout_=p,this.progressCallback_=g,this.connectionFactory_=v,this.retry=x,this.isUsingEmulator=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,C)=>{this.resolve_=S,this.reject_=C,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Wh(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=c=>{const h=c.loaded,p=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,p)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const c=o.getErrorCode()===Kf.NO_ERROR,h=o.getStatus();if(!c||_5(h,this.additionalRetryCodes_)&&this.retry){const g=o.getErrorCode()===Kf.ABORT;r(!1,new Wh(!1,null,g));return}const p=this.successCodes_.indexOf(h)!==-1;r(!0,new Wh(p,o))})},n=(r,s)=>{const o=this.resolve_,l=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const h=this.callback_(c,c.getResponse());x5(h)?o(h):o()}catch(h){l(h)}else if(c!==null){const h=u5();h.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,h)):l(h)}else if(s.canceled){const h=this.appDelete_?mN():h5();l(h)}else{const h=d5();l(h)}};this.canceled_?n(!1,new Wh(!1,null,!0)):this.backoffId_=v5(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&y5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Wh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function b5(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function T5(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function S5(t,e){e&&(t["X-Firebase-GMPID"]=e)}function C5(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function I5(t,e,n,r,s,o,l=!0,c=!1){const h=w5(t.urlParams),p=t.url+h,g=Object.assign({},t.headers);return S5(g,e),b5(g,n),T5(g,o),C5(g,r),new E5(p,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,l,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N5(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function A5(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,n){this._service=e,n instanceof Mr?this._location=n:this._location=Mr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new qf(e,n)}get root(){const e=new Mr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return A5(this._location.path)}get storage(){return this._service}get parent(){const e=N5(this._location.path);if(e===null)return null;const n=new Mr(this._location.bucket,e);return new qf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw m5(e)}}function TT(t,e){const n=e?.[a5];return n==null?null:Mr.makeFromBucketSpec(n,t)}function P5(t,e,n,r={}){t.host=`${e}:${n}`;const s=no(e);s&&(fp(`https://${t.host}/b`),pp("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:GS(o,t.app.options.projectId))}class R5{constructor(e,n,r,s,o,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._isUsingEmulator=l,this._bucket=null,this._host=pN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=l5,this._maxUploadRetryTime=c5,this._requests=new Set,s!=null?this._bucket=Mr.makeFromBucketSpec(s,this._host):this._bucket=TT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Mr.makeFromBucketSpec(this._url,e):this._bucket=TT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){bT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){bT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new qf(this,e)}_makeRequest(e,n,r,s,o=!0){if(this._deleted)return new g5(mN());{const l=I5(e,this._appId,r,s,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const ST="@firebase/storage",CT="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN="storage";function k5(t=Ju(),e){t=ut(t);const r=Xu(t,gN).getImmediate({identifier:e}),s=Xy("storage");return s&&j5(r,...s),r}function j5(t,e,n,r={}){P5(t,e,n,r)}function D5(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new R5(n,r,s,e,ia)}function M5(){Bi(new Qs(gN,D5,"PUBLIC").setMultipleInstances(!0)),fr(ST,CT,""),fr(ST,CT,"esm2017")}M5();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(e,n,r,s){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Tn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(o=>this.auth=o,()=>{}),this.messaging||r.get().then(o=>this.messaging=o,()=>{}),this.appCheck||s?.get().then(o=>this.appCheck=o,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry="us-central1";class V5{constructor(e,n,r,s,o=ry,l=(...c)=>fetch(...c)){this.app=e,this.fetchImpl=l,this.emulatorOrigin=null,this.contextProvider=new O5(e,n,r,s),this.cancelAllRequests=new Promise(c=>{this.deleteService=()=>Promise.resolve(c())});try{const c=new URL(o);this.customDomain=c.origin+(c.pathname==="/"?"":c.pathname),this.region=ry}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function L5(t,e,n){const r=no(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(fp(t.emulatorOrigin),pp("Functions",!0))}const IT="@firebase/functions",NT="0.12.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F5="auth-internal",U5="app-check-internal",$5="messaging-internal";function B5(t){const e=(n,{instanceIdentifier:r})=>{const s=n.getProvider("app").getImmediate(),o=n.getProvider(F5),l=n.getProvider($5),c=n.getProvider(U5);return new V5(s,o,l,c,r)};Bi(new Qs(vN,e,"PUBLIC").setMultipleInstances(!0)),fr(IT,NT,t),fr(IT,NT,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z5(t=Ju(),e=ry){const r=Xu(ut(t),vN).getImmediate({identifier:e}),s=Xy("functions");return s&&W5(r,...s),r}function W5(t,e,n){L5(ut(t),e,n)}B5();const $o={apiKey:"AIzaSyAVEVJS5si6tXjd8-impxmq_jQMn9Qe15s",authDomain:"cosmivity-d789f.firebaseapp.com",projectId:"cosmivity-d789f",storageBucket:"cosmivity-d789f.firebasestorage.app",messagingSenderId:"822858074367",appId:"1:822858074367:web:ca5de8953cd50dcccde4ca"};console.log("🔥 Firebase Config Debug:",{hasApiKey:!!$o.apiKey,hasAuthDomain:!!$o.authDomain,projectId:$o.projectId,hasStorageBucket:!!$o.storageBucket,hasMessagingSenderId:!!$o.messagingSenderId,hasAppId:!!$o.appId});const Vp=_O().length?Ju():XS($o),pu=JV(Vp),Pe=GF(Vp);k5(Vp);z5(Vp);const Qg={name:"Guest User",email:"",bio:"",college:"",avatarUrl:"/avatar.png",github:"",linkedin:"",website:"",skills:[],experience:"",projects:""},yN=_.createContext(void 0),H5=({children:t})=>{const[e,n]=_.useState(Qg),[r,s]=_.useState(null),[o,l]=_.useState(!0);return _.useEffect(()=>{const c=U4(pu,h=>{let p=()=>{};if(h){s(h);const g=xt(Pe,"users",h.uid);p=jr(g,async v=>{if(v.exists()){const x=v.data();n({...Qg,...x,avatarUrl:"/avatar.png"})}else{const x={name:h.displayName||h.email?.split("@")[0]||"User",email:h.email||"",avatarUrl:"/avatar.png",bio:"",college:"",github:"",linkedin:"",website:"",skills:[],experience:"",projects:""};try{await bl(g,x),n(x)}catch(b){console.error("Error creating user document:",b)}}l(!1)},v=>{console.error("Error with snapshot listener:",v),l(!1)})}else s(null),n(Qg),l(!1);return()=>{p()}});return()=>c()},[]),u.jsx(yN.Provider,{value:{user:e,setUser:n,firebaseUser:r,loading:o},children:t})},Fn=()=>{const t=_.useContext(yN);if(t===void 0)throw new Error("useUser must be used within a UserProvider");return t},K5=5,xN=5e3;let Yg=0;function q5(){return Yg=(Yg+1)%Number.MAX_SAFE_INTEGER,Yg.toString()}const Xg=new Map,AT=t=>{if(Xg.has(t))return;const e=setTimeout(()=>{Xg.delete(t),mu({type:"REMOVE_TOAST",toastId:t})},xN);Xg.set(t,e)},G5=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,K5)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?AT(n):t.toasts.forEach(r=>{AT(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},pf=[];let mf={toasts:[]};function mu(t){mf=G5(mf,t),pf.forEach(e=>{e(mf)})}function Q5({...t}){const e=q5(),n=s=>mu({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>mu({type:"DISMISS_TOAST",toastId:e});return mu({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),setTimeout(()=>{r()},xN-500),{id:e,dismiss:r,update:n}}function Lp(){const[t,e]=_.useState(mf);return _.useEffect(()=>(pf.push(e),()=>{const n=pf.indexOf(e);n>-1&&pf.splice(n,1)}),[t]),{...t,toast:Q5,dismiss:n=>mu({type:"DISMISS_TOAST",toastId:n})}}function Me(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t?.(s),n===!1||!s.defaultPrevented)return e?.(s)}}function PT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ua(...t){return e=>{let n=!1;const r=t.map(s=>{const o=PT(s,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():PT(t[s],null)}}}}function $t(...t){return _.useCallback(ua(...t),t)}function Y5(t,e){const n=_.createContext(e),r=o=>{const{children:l,...c}=o,h=_.useMemo(()=>c,Object.values(c));return u.jsx(n.Provider,{value:h,children:l})};r.displayName=t+"Provider";function s(o){const l=_.useContext(n);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,s]}function xs(t,e=[]){let n=[];function r(o,l){const c=_.createContext(l),h=n.length;n=[...n,l];const p=v=>{const{scope:x,children:b,...S}=v,C=x?.[t]?.[h]||c,I=_.useMemo(()=>S,Object.values(S));return u.jsx(C.Provider,{value:I,children:b})};p.displayName=o+"Provider";function g(v,x){const b=x?.[t]?.[h]||c,S=_.useContext(b);if(S)return S;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[p,g]}const s=()=>{const o=n.map(l=>_.createContext(l));return function(c){const h=c?.[t]||o;return _.useMemo(()=>({[`__scope${t}`]:{...c,[t]:h}}),[c,h])}};return s.scopeName=t,[r,X5(s,...e)]}function X5(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=r.reduce((c,{useScope:h,scopeName:p})=>{const v=h(o)[`__scope${p}`];return{...c,...v}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}var sy=_.forwardRef((t,e)=>{const{children:n,...r}=t,s=_.Children.toArray(n),o=s.find(Z5);if(o){const l=o.props.children,c=s.map(h=>h===o?_.Children.count(l)>1?_.Children.only(null):_.isValidElement(l)?l.props.children:null:h);return u.jsx(iy,{...r,ref:e,children:_.isValidElement(l)?_.cloneElement(l,void 0,c):null})}return u.jsx(iy,{...r,ref:e,children:n})});sy.displayName="Slot";var iy=_.forwardRef((t,e)=>{const{children:n,...r}=t;if(_.isValidElement(n)){const s=t6(n),o=e6(r,n.props);return n.type!==_.Fragment&&(o.ref=e?ua(e,s):s),_.cloneElement(n,o)}return _.Children.count(n)>1?_.Children.only(null):null});iy.displayName="SlotClone";var J5=({children:t})=>u.jsx(u.Fragment,{children:t});function Z5(t){return _.isValidElement(t)&&t.type===J5}function e6(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...c)=>{o(...c),s(...c)}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function t6(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function X0(t){const e=t+"CollectionProvider",[n,r]=xs(e),[s,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),l=b=>{const{scope:S,children:C}=b,I=hr.useRef(null),j=hr.useRef(new Map).current;return u.jsx(s,{scope:S,itemMap:j,collectionRef:I,children:C})};l.displayName=e;const c=t+"CollectionSlot",h=hr.forwardRef((b,S)=>{const{scope:C,children:I}=b,j=o(c,C),L=$t(S,j.collectionRef);return u.jsx(sy,{ref:L,children:I})});h.displayName=c;const p=t+"CollectionItemSlot",g="data-radix-collection-item",v=hr.forwardRef((b,S)=>{const{scope:C,children:I,...j}=b,L=hr.useRef(null),O=$t(S,L),$=o(p,C);return hr.useEffect(()=>($.itemMap.set(L,{ref:L,...j}),()=>void $.itemMap.delete(L))),u.jsx(sy,{[g]:"",ref:O,children:I})});v.displayName=p;function x(b){const S=o(t+"CollectionConsumer",b);return hr.useCallback(()=>{const I=S.collectionRef.current;if(!I)return[];const j=Array.from(I.querySelectorAll(`[${g}]`));return Array.from(S.itemMap.values()).sort(($,z)=>j.indexOf($.ref.current)-j.indexOf(z.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:l,Slot:h,ItemSlot:v},x,r]}var wN=_.forwardRef((t,e)=>{const{children:n,...r}=t,s=_.Children.toArray(n),o=s.find(r6);if(o){const l=o.props.children,c=s.map(h=>h===o?_.Children.count(l)>1?_.Children.only(null):_.isValidElement(l)?l.props.children:null:h);return u.jsx(oy,{...r,ref:e,children:_.isValidElement(l)?_.cloneElement(l,void 0,c):null})}return u.jsx(oy,{...r,ref:e,children:n})});wN.displayName="Slot";var oy=_.forwardRef((t,e)=>{const{children:n,...r}=t;if(_.isValidElement(n)){const s=i6(n),o=s6(r,n.props);return n.type!==_.Fragment&&(o.ref=e?ua(e,s):s),_.cloneElement(n,o)}return _.Children.count(n)>1?_.Children.only(null):null});oy.displayName="SlotClone";var n6=({children:t})=>u.jsx(u.Fragment,{children:t});function r6(t){return _.isValidElement(t)&&t.type===n6}function s6(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...c)=>{o(...c),s(...c)}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function i6(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var o6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],He=o6.reduce((t,e)=>{const n=_.forwardRef((r,s)=>{const{asChild:o,...l}=r,c=o?wN:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function J0(t,e){t&&up.flushSync(()=>t.dispatchEvent(e))}function gn(t){const e=_.useRef(t);return _.useEffect(()=>{e.current=t}),_.useMemo(()=>(...n)=>e.current?.(...n),[])}function a6(t,e=globalThis?.document){const n=gn(t);_.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var l6="DismissableLayer",ay="dismissableLayer.update",c6="dismissableLayer.pointerDownOutside",u6="dismissableLayer.focusOutside",RT,_N=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Fp=_.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...h}=t,p=_.useContext(_N),[g,v]=_.useState(null),x=g?.ownerDocument??globalThis?.document,[,b]=_.useState({}),S=$t(e,R=>v(R)),C=Array.from(p.layers),[I]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),j=C.indexOf(I),L=g?C.indexOf(g):-1,O=p.layersWithOutsidePointerEventsDisabled.size>0,$=L>=j,z=h6(R=>{const A=R.target,D=[...p.branches].some(V=>V.contains(A));!$||D||(s?.(R),l?.(R),R.defaultPrevented||c?.())},x),q=f6(R=>{const A=R.target;[...p.branches].some(V=>V.contains(A))||(o?.(R),l?.(R),R.defaultPrevented||c?.())},x);return a6(R=>{L===p.layers.size-1&&(r?.(R),!R.defaultPrevented&&c&&(R.preventDefault(),c()))},x),_.useEffect(()=>{if(g)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(RT=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),kT(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=RT)}},[g,x,n,p]),_.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),kT())},[g,p]),_.useEffect(()=>{const R=()=>b({});return document.addEventListener(ay,R),()=>document.removeEventListener(ay,R)},[]),u.jsx(He.div,{...h,ref:S,style:{pointerEvents:O?$?"auto":"none":void 0,...t.style},onFocusCapture:Me(t.onFocusCapture,q.onFocusCapture),onBlurCapture:Me(t.onBlurCapture,q.onBlurCapture),onPointerDownCapture:Me(t.onPointerDownCapture,z.onPointerDownCapture)})});Fp.displayName=l6;var d6="DismissableLayerBranch",EN=_.forwardRef((t,e)=>{const n=_.useContext(_N),r=_.useRef(null),s=$t(e,r);return _.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),u.jsx(He.div,{...t,ref:s})});EN.displayName=d6;function h6(t,e=globalThis?.document){const n=gn(t),r=_.useRef(!1),s=_.useRef(()=>{});return _.useEffect(()=>{const o=c=>{if(c.target&&!r.current){let h=function(){bN(c6,n,p,{discrete:!0})};const p={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=h,e.addEventListener("click",s.current,{once:!0})):h()}else e.removeEventListener("click",s.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function f6(t,e=globalThis?.document){const n=gn(t),r=_.useRef(!1);return _.useEffect(()=>{const s=o=>{o.target&&!r.current&&bN(u6,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function kT(){const t=new CustomEvent(ay);document.dispatchEvent(t)}function bN(t,e,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?J0(s,o):s.dispatchEvent(o)}var p6=Fp,m6=EN,ms=globalThis?.document?_.useLayoutEffect:()=>{},g6="Portal",Up=_.forwardRef((t,e)=>{const{container:n,...r}=t,[s,o]=_.useState(!1);ms(()=>o(!0),[]);const l=n||s&&globalThis?.document?.body;return l?G2.createPortal(u.jsx(He.div,{...r,ref:e}),l):null});Up.displayName=g6;function v6(t,e){return _.useReducer((n,r)=>e[n][r]??n,t)}var ws=t=>{const{present:e,children:n}=t,r=y6(e),s=typeof n=="function"?n({present:r.isPresent}):_.Children.only(n),o=$t(r.ref,x6(s));return typeof n=="function"||r.isPresent?_.cloneElement(s,{ref:o}):null};ws.displayName="Presence";function y6(t){const[e,n]=_.useState(),r=_.useRef({}),s=_.useRef(t),o=_.useRef("none"),l=t?"mounted":"unmounted",[c,h]=v6(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const p=Hh(r.current);o.current=c==="mounted"?p:"none"},[c]),ms(()=>{const p=r.current,g=s.current;if(g!==t){const x=o.current,b=Hh(p);t?h("MOUNT"):b==="none"||p?.display==="none"?h("UNMOUNT"):h(g&&x!==b?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,h]),ms(()=>{if(e){let p;const g=e.ownerDocument.defaultView??window,v=b=>{const C=Hh(r.current).includes(b.animationName);if(b.target===e&&C&&(h("ANIMATION_END"),!s.current)){const I=e.style.animationFillMode;e.style.animationFillMode="forwards",p=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=I)})}},x=b=>{b.target===e&&(o.current=Hh(r.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",v),e.addEventListener("animationend",v),()=>{g.clearTimeout(p),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",v),e.removeEventListener("animationend",v)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:_.useCallback(p=>{p&&(r.current=getComputedStyle(p)),n(p)},[])}}function Hh(t){return t?.animationName||"none"}function x6(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function hd({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=w6({defaultProp:e,onChange:n}),o=t!==void 0,l=o?t:r,c=gn(n),h=_.useCallback(p=>{if(o){const v=typeof p=="function"?p(t):p;v!==t&&c(v)}else s(p)},[o,t,s,c]);return[l,h]}function w6({defaultProp:t,onChange:e}){const n=_.useState(t),[r]=n,s=_.useRef(r),o=gn(e);return _.useEffect(()=>{s.current!==r&&(o(r),s.current=r)},[r,s,o]),n}var _6="VisuallyHidden",Z0=_.forwardRef((t,e)=>u.jsx(He.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Z0.displayName=_6;var ex="ToastProvider",[tx,E6,b6]=X0("Toast"),[TN,WG]=xs("Toast",[b6]),[T6,$p]=TN(ex),SN=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:l}=t,[c,h]=_.useState(null),[p,g]=_.useState(0),v=_.useRef(!1),x=_.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${ex}\`. Expected non-empty \`string\`.`),u.jsx(tx.Provider,{scope:e,children:u.jsx(T6,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:p,viewport:c,onViewportChange:h,onToastAdd:_.useCallback(()=>g(b=>b+1),[]),onToastRemove:_.useCallback(()=>g(b=>b-1),[]),isFocusedToastEscapeKeyDownRef:v,isClosePausedRef:x,children:l})})};SN.displayName=ex;var CN="ToastViewport",S6=["F8"],ly="toast.viewportPause",cy="toast.viewportResume",IN=_.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=S6,label:s="Notifications ({hotkey})",...o}=t,l=$p(CN,n),c=E6(n),h=_.useRef(null),p=_.useRef(null),g=_.useRef(null),v=_.useRef(null),x=$t(e,v,l.onViewportChange),b=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=l.toastCount>0;_.useEffect(()=>{const I=j=>{r.length!==0&&r.every(O=>j[O]||j.code===O)&&v.current?.focus()};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[r]),_.useEffect(()=>{const I=h.current,j=v.current;if(S&&I&&j){const L=()=>{if(!l.isClosePausedRef.current){const q=new CustomEvent(ly);j.dispatchEvent(q),l.isClosePausedRef.current=!0}},O=()=>{if(l.isClosePausedRef.current){const q=new CustomEvent(cy);j.dispatchEvent(q),l.isClosePausedRef.current=!1}},$=q=>{!I.contains(q.relatedTarget)&&O()},z=()=>{I.contains(document.activeElement)||O()};return I.addEventListener("focusin",L),I.addEventListener("focusout",$),I.addEventListener("pointermove",L),I.addEventListener("pointerleave",z),window.addEventListener("blur",L),window.addEventListener("focus",O),()=>{I.removeEventListener("focusin",L),I.removeEventListener("focusout",$),I.removeEventListener("pointermove",L),I.removeEventListener("pointerleave",z),window.removeEventListener("blur",L),window.removeEventListener("focus",O)}}},[S,l.isClosePausedRef]);const C=_.useCallback(({tabbingDirection:I})=>{const L=c().map(O=>{const $=O.ref.current,z=[$,...L6($)];return I==="forwards"?z:z.reverse()});return(I==="forwards"?L.reverse():L).flat()},[c]);return _.useEffect(()=>{const I=v.current;if(I){const j=L=>{const O=L.altKey||L.ctrlKey||L.metaKey;if(L.key==="Tab"&&!O){const z=document.activeElement,q=L.shiftKey;if(L.target===I&&q){p.current?.focus();return}const D=C({tabbingDirection:q?"backwards":"forwards"}),V=D.findIndex(B=>B===z);Jg(D.slice(V+1))?L.preventDefault():q?p.current?.focus():g.current?.focus()}};return I.addEventListener("keydown",j),()=>I.removeEventListener("keydown",j)}},[c,C]),u.jsxs(m6,{ref:h,role:"region","aria-label":s.replace("{hotkey}",b),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&u.jsx(uy,{ref:p,onFocusFromOutsideViewport:()=>{const I=C({tabbingDirection:"forwards"});Jg(I)}}),u.jsx(tx.Slot,{scope:n,children:u.jsx(He.ol,{tabIndex:-1,...o,ref:x})}),S&&u.jsx(uy,{ref:g,onFocusFromOutsideViewport:()=>{const I=C({tabbingDirection:"backwards"});Jg(I)}})]})});IN.displayName=CN;var NN="ToastFocusProxy",uy=_.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,o=$p(NN,n);return u.jsx(Z0,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:l=>{const c=l.relatedTarget;!o.viewport?.contains(c)&&r()}})});uy.displayName=NN;var Bp="Toast",C6="toast.swipeStart",I6="toast.swipeMove",N6="toast.swipeCancel",A6="toast.swipeEnd",AN=_.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...l}=t,[c=!0,h]=hd({prop:r,defaultProp:s,onChange:o});return u.jsx(ws,{present:n||c,children:u.jsx(k6,{open:c,...l,ref:e,onClose:()=>h(!1),onPause:gn(t.onPause),onResume:gn(t.onResume),onSwipeStart:Me(t.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Me(t.onSwipeMove,p=>{const{x:g,y:v}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${g}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${v}px`)}),onSwipeCancel:Me(t.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Me(t.onSwipeEnd,p=>{const{x:g,y:v}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${g}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${v}px`),h(!1)})})})});AN.displayName=Bp;var[P6,R6]=TN(Bp,{onClose(){}}),k6=_.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:l,onEscapeKeyDown:c,onPause:h,onResume:p,onSwipeStart:g,onSwipeMove:v,onSwipeCancel:x,onSwipeEnd:b,...S}=t,C=$p(Bp,n),[I,j]=_.useState(null),L=$t(e,te=>j(te)),O=_.useRef(null),$=_.useRef(null),z=s||C.duration,q=_.useRef(0),R=_.useRef(z),A=_.useRef(0),{onToastAdd:D,onToastRemove:V}=C,B=gn(()=>{I?.contains(document.activeElement)&&C.viewport?.focus(),l()}),W=_.useCallback(te=>{!te||te===1/0||(window.clearTimeout(A.current),q.current=new Date().getTime(),A.current=window.setTimeout(B,te))},[B]);_.useEffect(()=>{const te=C.viewport;if(te){const ue=()=>{W(R.current),p?.()},ae=()=>{const Z=new Date().getTime()-q.current;R.current=R.current-Z,window.clearTimeout(A.current),h?.()};return te.addEventListener(ly,ae),te.addEventListener(cy,ue),()=>{te.removeEventListener(ly,ae),te.removeEventListener(cy,ue)}}},[C.viewport,z,h,p,W]),_.useEffect(()=>{o&&!C.isClosePausedRef.current&&W(z)},[o,z,C.isClosePausedRef,W]),_.useEffect(()=>(D(),()=>V()),[D,V]);const P=_.useMemo(()=>I?ON(I):null,[I]);return C.viewport?u.jsxs(u.Fragment,{children:[P&&u.jsx(j6,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:P}),u.jsx(P6,{scope:n,onClose:B,children:up.createPortal(u.jsx(tx.ItemSlot,{scope:n,children:u.jsx(p6,{asChild:!0,onEscapeKeyDown:Me(c,()=>{C.isFocusedToastEscapeKeyDownRef.current||B(),C.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(He.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":C.swipeDirection,...S,ref:L,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Me(t.onKeyDown,te=>{te.key==="Escape"&&(c?.(te.nativeEvent),te.nativeEvent.defaultPrevented||(C.isFocusedToastEscapeKeyDownRef.current=!0,B()))}),onPointerDown:Me(t.onPointerDown,te=>{te.button===0&&(O.current={x:te.clientX,y:te.clientY})}),onPointerMove:Me(t.onPointerMove,te=>{if(!O.current)return;const ue=te.clientX-O.current.x,ae=te.clientY-O.current.y,Z=!!$.current,M=["left","right"].includes(C.swipeDirection),Y=["left","up"].includes(C.swipeDirection)?Math.min:Math.max,K=M?Y(0,ue):0,F=M?0:Y(0,ae),Q=te.pointerType==="touch"?10:2,re={x:K,y:F},ve={originalEvent:te,delta:re};Z?($.current=re,Kh(I6,v,ve,{discrete:!1})):jT(re,C.swipeDirection,Q)?($.current=re,Kh(C6,g,ve,{discrete:!1}),te.target.setPointerCapture(te.pointerId)):(Math.abs(ue)>Q||Math.abs(ae)>Q)&&(O.current=null)}),onPointerUp:Me(t.onPointerUp,te=>{const ue=$.current,ae=te.target;if(ae.hasPointerCapture(te.pointerId)&&ae.releasePointerCapture(te.pointerId),$.current=null,O.current=null,ue){const Z=te.currentTarget,M={originalEvent:te,delta:ue};jT(ue,C.swipeDirection,C.swipeThreshold)?Kh(A6,b,M,{discrete:!0}):Kh(N6,x,M,{discrete:!0}),Z.addEventListener("click",Y=>Y.preventDefault(),{once:!0})}})})})}),C.viewport)})]}):null}),j6=t=>{const{__scopeToast:e,children:n,...r}=t,s=$p(Bp,e),[o,l]=_.useState(!1),[c,h]=_.useState(!1);return O6(()=>l(!0)),_.useEffect(()=>{const p=window.setTimeout(()=>h(!0),1e3);return()=>window.clearTimeout(p)},[]),c?null:u.jsx(Up,{asChild:!0,children:u.jsx(Z0,{...r,children:o&&u.jsxs(u.Fragment,{children:[s.label," ",n]})})})},D6="ToastTitle",PN=_.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(He.div,{...r,ref:e})});PN.displayName=D6;var M6="ToastDescription",RN=_.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(He.div,{...r,ref:e})});RN.displayName=M6;var kN="ToastAction",jN=_.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?u.jsx(MN,{altText:n,asChild:!0,children:u.jsx(nx,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${kN}\`. Expected non-empty \`string\`.`),null)});jN.displayName=kN;var DN="ToastClose",nx=_.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=R6(DN,n);return u.jsx(MN,{asChild:!0,children:u.jsx(He.button,{type:"button",...r,ref:e,onClick:Me(t.onClick,s.onClose)})})});nx.displayName=DN;var MN=_.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return u.jsx(He.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function ON(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),V6(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const l=r.dataset.radixToastAnnounceAlt;l&&e.push(l)}else e.push(...ON(r))}}),e}function Kh(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?J0(s,o):s.dispatchEvent(o)}var jT=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),o=r>s;return e==="left"||e==="right"?o&&r>n:!o&&s>n};function O6(t=()=>{}){const e=gn(t);ms(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function V6(t){return t.nodeType===t.ELEMENT_NODE}function L6(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Jg(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var F6=SN,VN=IN,LN=AN,FN=PN,UN=RN,$N=jN,BN=nx;function zN(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=zN(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function WN(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=zN(t))&&(r&&(r+=" "),r+=e);return r}const DT=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,MT=WN,fd=(t,e)=>n=>{var r;if(e?.variants==null)return MT(t,n?.class,n?.className);const{variants:s,defaultVariants:o}=e,l=Object.keys(s).map(p=>{const g=n?.[p],v=o?.[p];if(g===null)return null;const x=DT(g)||DT(v);return s[p][x]}),c=n&&Object.entries(n).reduce((p,g)=>{let[v,x]=g;return x===void 0||(p[v]=x),p},{}),h=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,g)=>{let{class:v,className:x,...b}=g;return Object.entries(b).every(S=>{let[C,I]=S;return Array.isArray(I)?I.includes({...o,...c}[C]):{...o,...c}[C]===I})?[...p,v,x]:p},[]);return MT(t,l,h,n?.class,n?.className)};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),HN=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:l,...c},h)=>_.createElement("svg",{ref:h,...$6,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:HN("lucide",s),...c},[...l.map(([p,g])=>_.createElement(p,g)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=(t,e)=>{const n=_.forwardRef(({className:r,...s},o)=>_.createElement(B6,{ref:o,iconNode:e,className:HN(`lucide-${U6(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z6=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ju=ke("ArrowLeft",z6);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],H6=ke("ArrowRight",W6);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K6=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],q6=ke("Award",K6);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Q6=ke("BookOpen",G6);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],OT=ke("Brain",Y6);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X6=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],J6=ke("Briefcase",X6);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z6=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],eU=ke("Calculator",Z6);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],nU=ke("Camera",tU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],sU=ke("Check",rU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],oU=ke("ChevronRight",iU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]],lU=ke("Chrome",aU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cU=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],dy=ke("CircleCheckBig",cU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],dU=ke("Circle",uU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",key:"1oijnt"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-5.5",key:"cereej"}],["path",{d:"M4 13.5V6a2 2 0 0 1 2-2h2",key:"5ua5vh"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]],fU=ke("ClipboardPen",hU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]],mU=ke("Code",pU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gU=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],vU=ke("Copy",gU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],KN=ke("Crown",yU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],qN=ke("Download",xU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M19.13 5.09C15.22 9.14 10 10.44 2.25 10.94",key:"hpej1"}],["path",{d:"M21.75 12.84c-6.62-1.41-12.14 1-16.38 6.32",key:"1tr44o"}],["path",{d:"M8.56 2.75c4.37 6 6 9.42 8 17.72",key:"kbh691"}]],_U=ke("Dribbble",wU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EU=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Tl=ke("EyeOff",EU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ws=ke("Eye",bU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],SU=ke("Facebook",TU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Du=ke("FileText",CU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],NU=ke("Github",IU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],rx=ke("Globe",AU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],GN=ke("GraduationCap",PU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RU=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],kU=ke("Instagram",RU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],DU=ke("LayoutDashboard",jU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],OU=ke("Lightbulb",MU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VU=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],QN=ke("Linkedin",VU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],gf=ke("Lock",LU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],UU=ke("LogOut",FU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],hy=ke("Mail",$U);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],YN=ke("Menu",BU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Zg=ke("MessageSquare",zU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],fy=ke("MicOff",WU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],py=ke("Mic",HU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KU=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],qU=ke("Phone",KU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],qo=ke("Plus",GU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],XN=ke("Printer",QU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],XU=ke("Save",YU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10",key:"1xqip1"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6",key:"9d2mlk"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],ZU=ke("School",JU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],t9=ke("Send",e9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],sx=ke("Settings",n9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],s9=ke("Shield",r9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i9=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],JN=ke("SquarePen",i9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ZN=ke("Star",o9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],l9=ke("Trash2",a9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],pd=ke("User",c9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Qo=ke("Users",u9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],my=ke("VideoOff",d9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h9=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Mu=ke("Video",h9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],zp=ke("X",f9),ix="-",p9=t=>{const e=g9(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{const c=l.split(ix);return c[0]===""&&c.length!==1&&c.shift(),eA(c,e)||m9(l)},getConflictingClassGroupIds:(l,c)=>{const h=n[l]||[];return c&&r[l]?[...h,...r[l]]:h}}},eA=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?eA(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(ix);return e.validators.find(({validator:l})=>l(o))?.classGroupId},VT=/^\[(.+)\]$/,m9=t=>{if(VT.test(t)){const e=VT.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},g9=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)gy(n[s],r,s,e);return r},gy=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:LT(e,s);o.classGroupId=n;return}if(typeof s=="function"){if(v9(s)){gy(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,l])=>{gy(l,LT(e,o),n,r)})})},LT=(t,e)=>{let n=t;return e.split(ix).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},v9=t=>t.isThemeGetter,y9=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(o,l)=>{n.set(o,l),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let l=n.get(o);if(l!==void 0)return l;if((l=r.get(o))!==void 0)return s(o,l),l},set(o,l){n.has(o)?n.set(o,l):s(o,l)}}},vy="!",yy=":",x9=yy.length,w9=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const o=[];let l=0,c=0,h=0,p;for(let S=0;S<s.length;S++){let C=s[S];if(l===0&&c===0){if(C===yy){o.push(s.slice(h,S)),h=S+x9;continue}if(C==="/"){p=S;continue}}C==="["?l++:C==="]"?l--:C==="("?c++:C===")"&&c--}const g=o.length===0?s:s.substring(h),v=_9(g),x=v!==g,b=p&&p>h?p-h:void 0;return{modifiers:o,hasImportantModifier:x,baseClassName:v,maybePostfixModifierPosition:b}};if(e){const s=e+yy,o=r;r=l=>l.startsWith(s)?o(l.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=o=>n({className:o,parseClassName:s})}return r},_9=t=>t.endsWith(vy)?t.substring(0,t.length-1):t.startsWith(vy)?t.substring(1):t,E9=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let o=[];return r.forEach(l=>{l[0]==="["||e[l]?(s.push(...o.sort(),l),o=[]):o.push(l)}),s.push(...o.sort()),s}},b9=t=>({cache:y9(t.cacheSize),parseClassName:w9(t),sortModifiers:E9(t),...p9(t)}),T9=/\s+/,S9=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:o}=e,l=[],c=t.trim().split(T9);let h="";for(let p=c.length-1;p>=0;p-=1){const g=c[p],{isExternal:v,modifiers:x,hasImportantModifier:b,baseClassName:S,maybePostfixModifierPosition:C}=n(g);if(v){h=g+(h.length>0?" "+h:h);continue}let I=!!C,j=r(I?S.substring(0,C):S);if(!j){if(!I){h=g+(h.length>0?" "+h:h);continue}if(j=r(S),!j){h=g+(h.length>0?" "+h:h);continue}I=!1}const L=o(x).join(":"),O=b?L+vy:L,$=O+j;if(l.includes($))continue;l.push($);const z=s(j,I);for(let q=0;q<z.length;++q){const R=z[q];l.push(O+R)}h=g+(h.length>0?" "+h:h)}return h};function C9(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=tA(e))&&(r&&(r+=" "),r+=n);return r}const tA=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=tA(t[r]))&&(n&&(n+=" "),n+=e);return n};function I9(t,...e){let n,r,s,o=l;function l(h){const p=e.reduce((g,v)=>v(g),t());return n=b9(p),r=n.cache.get,s=n.cache.set,o=c,c(h)}function c(h){const p=r(h);if(p)return p;const g=S9(h,n);return s(h,g),g}return function(){return o(C9.apply(null,arguments))}}const Kt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},nA=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,rA=/^\((?:(\w[\w-]*):)?(.+)\)$/i,N9=/^\d+\/\d+$/,A9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,P9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,R9=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,k9=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,j9=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,il=t=>N9.test(t),qe=t=>!!t&&!Number.isNaN(Number(t)),Vo=t=>!!t&&Number.isInteger(Number(t)),FT=t=>t.endsWith("%")&&qe(t.slice(0,-1)),Ai=t=>A9.test(t),D9=()=>!0,M9=t=>P9.test(t)&&!R9.test(t),ox=()=>!1,O9=t=>k9.test(t),V9=t=>j9.test(t),L9=t=>!Ee(t)&&!be(t),F9=t=>Gl(t,oA,ox),Ee=t=>nA.test(t),Lo=t=>Gl(t,aA,M9),ev=t=>Gl(t,Y9,qe),U9=t=>Gl(t,sA,ox),$9=t=>Gl(t,iA,V9),B9=t=>Gl(t,ox,O9),be=t=>rA.test(t),qh=t=>Ql(t,aA),z9=t=>Ql(t,X9),W9=t=>Ql(t,sA),H9=t=>Ql(t,oA),K9=t=>Ql(t,iA),q9=t=>Ql(t,J9,!0),Gl=(t,e,n)=>{const r=nA.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Ql=(t,e,n=!1)=>{const r=rA.exec(t);return r?r[1]?e(r[1]):n:!1},sA=t=>t==="position",G9=new Set(["image","url"]),iA=t=>G9.has(t),Q9=new Set(["length","size","percentage"]),oA=t=>Q9.has(t),aA=t=>t==="length",Y9=t=>t==="number",X9=t=>t==="family-name",J9=t=>t==="shadow",Z9=()=>{const t=Kt("color"),e=Kt("font"),n=Kt("text"),r=Kt("font-weight"),s=Kt("tracking"),o=Kt("leading"),l=Kt("breakpoint"),c=Kt("container"),h=Kt("spacing"),p=Kt("radius"),g=Kt("shadow"),v=Kt("inset-shadow"),x=Kt("drop-shadow"),b=Kt("blur"),S=Kt("perspective"),C=Kt("aspect"),I=Kt("ease"),j=Kt("animate"),L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto","contain","none"],q=()=>[il,"px","full","auto",be,Ee,h],R=()=>[Vo,"none","subgrid",be,Ee],A=()=>["auto",{span:["full",Vo,be,Ee]},be,Ee],D=()=>[Vo,"auto",be,Ee],V=()=>["auto","min","max","fr",be,Ee],B=()=>[be,Ee,h],W=()=>["start","end","center","between","around","evenly","stretch","baseline"],P=()=>["start","end","center","stretch"],te=()=>[be,Ee,h],ue=()=>["px",...te()],ae=()=>["px","auto",...te()],Z=()=>[il,"auto","px","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",be,Ee,h],M=()=>[t,be,Ee],Y=()=>[FT,Lo],K=()=>["","none","full",p,be,Ee],F=()=>["",qe,qh,Lo],Q=()=>["solid","dashed","dotted","double"],re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ve=()=>["","none",b,be,Ee],ce=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",be,Ee],fe=()=>["none",qe,be,Ee],le=()=>["none",qe,be,Ee],xe=()=>[qe,be,Ee],Ae=()=>[il,"full","px",be,Ee,h];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ai],breakpoint:[Ai],color:[D9],container:[Ai],"drop-shadow":[Ai],ease:["in","out","in-out"],font:[L9],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ai],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ai],shadow:[Ai],spacing:[qe],text:[Ai],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",il,Ee,be,C]}],container:["container"],columns:[{columns:[qe,Ee,be,c]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...O(),Ee,be]}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:q()}],"inset-x":[{"inset-x":q()}],"inset-y":[{"inset-y":q()}],start:[{start:q()}],end:[{end:q()}],top:[{top:q()}],right:[{right:q()}],bottom:[{bottom:q()}],left:[{left:q()}],visibility:["visible","invisible","collapse"],z:[{z:[Vo,"auto",be,Ee]}],basis:[{basis:[il,"full","auto",be,Ee,c,h]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[qe,il,"auto","initial","none",Ee]}],grow:[{grow:["",qe,be,Ee]}],shrink:[{shrink:["",qe,be,Ee]}],order:[{order:[Vo,"first","last","none",be,Ee]}],"grid-cols":[{"grid-cols":R()}],"col-start-end":[{col:A()}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":R()}],"row-start-end":[{row:A()}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":V()}],"auto-rows":[{"auto-rows":V()}],gap:[{gap:B()}],"gap-x":[{"gap-x":B()}],"gap-y":[{"gap-y":B()}],"justify-content":[{justify:[...W(),"normal"]}],"justify-items":[{"justify-items":[...P(),"normal"]}],"justify-self":[{"justify-self":["auto",...P()]}],"align-content":[{content:["normal",...W()]}],"align-items":[{items:[...P(),"baseline"]}],"align-self":[{self:["auto",...P(),"baseline"]}],"place-content":[{"place-content":W()}],"place-items":[{"place-items":[...P(),"baseline"]}],"place-self":[{"place-self":["auto",...P()]}],p:[{p:ue()}],px:[{px:ue()}],py:[{py:ue()}],ps:[{ps:ue()}],pe:[{pe:ue()}],pt:[{pt:ue()}],pr:[{pr:ue()}],pb:[{pb:ue()}],pl:[{pl:ue()}],m:[{m:ae()}],mx:[{mx:ae()}],my:[{my:ae()}],ms:[{ms:ae()}],me:[{me:ae()}],mt:[{mt:ae()}],mr:[{mr:ae()}],mb:[{mb:ae()}],ml:[{ml:ae()}],"space-x":[{"space-x":te()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":te()}],"space-y-reverse":["space-y-reverse"],size:[{size:Z()}],w:[{w:[c,"screen",...Z()]}],"min-w":[{"min-w":[c,"screen","none",...Z()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...Z()]}],h:[{h:["screen",...Z()]}],"min-h":[{"min-h":["screen","none",...Z()]}],"max-h":[{"max-h":["screen",...Z()]}],"font-size":[{text:["base",n,qh,Lo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,be,ev]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",FT,Ee]}],"font-family":[{font:[z9,Ee,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,be,Ee]}],"line-clamp":[{"line-clamp":[qe,"none",be,ev]}],leading:[{leading:[be,Ee,o,h]}],"list-image":[{"list-image":["none",be,Ee]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",be,Ee]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:M()}],"text-color":[{text:M()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:[qe,"from-font","auto",be,Lo]}],"text-decoration-color":[{decoration:M()}],"underline-offset":[{"underline-offset":[qe,"auto",be,Ee]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:["px",...te()]}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",be,Ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",be,Ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...O(),W9,U9]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",H9,F9]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Vo,be,Ee],radial:["",be,Ee],conic:[Vo,be,Ee]},K9,$9]}],"bg-color":[{bg:M()}],"gradient-from-pos":[{from:Y()}],"gradient-via-pos":[{via:Y()}],"gradient-to-pos":[{to:Y()}],"gradient-from":[{from:M()}],"gradient-via":[{via:M()}],"gradient-to":[{to:M()}],rounded:[{rounded:K()}],"rounded-s":[{"rounded-s":K()}],"rounded-e":[{"rounded-e":K()}],"rounded-t":[{"rounded-t":K()}],"rounded-r":[{"rounded-r":K()}],"rounded-b":[{"rounded-b":K()}],"rounded-l":[{"rounded-l":K()}],"rounded-ss":[{"rounded-ss":K()}],"rounded-se":[{"rounded-se":K()}],"rounded-ee":[{"rounded-ee":K()}],"rounded-es":[{"rounded-es":K()}],"rounded-tl":[{"rounded-tl":K()}],"rounded-tr":[{"rounded-tr":K()}],"rounded-br":[{"rounded-br":K()}],"rounded-bl":[{"rounded-bl":K()}],"border-w":[{border:F()}],"border-w-x":[{"border-x":F()}],"border-w-y":[{"border-y":F()}],"border-w-s":[{"border-s":F()}],"border-w-e":[{"border-e":F()}],"border-w-t":[{"border-t":F()}],"border-w-r":[{"border-r":F()}],"border-w-b":[{"border-b":F()}],"border-w-l":[{"border-l":F()}],"divide-x":[{"divide-x":F()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":F()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Q(),"hidden","none"]}],"divide-style":[{divide:[...Q(),"hidden","none"]}],"border-color":[{border:M()}],"border-color-x":[{"border-x":M()}],"border-color-y":[{"border-y":M()}],"border-color-s":[{"border-s":M()}],"border-color-e":[{"border-e":M()}],"border-color-t":[{"border-t":M()}],"border-color-r":[{"border-r":M()}],"border-color-b":[{"border-b":M()}],"border-color-l":[{"border-l":M()}],"divide-color":[{divide:M()}],"outline-style":[{outline:[...Q(),"none","hidden"]}],"outline-offset":[{"outline-offset":[qe,be,Ee]}],"outline-w":[{outline:["",qe,qh,Lo]}],"outline-color":[{outline:[t]}],shadow:[{shadow:["","none",g,q9,B9]}],"shadow-color":[{shadow:M()}],"inset-shadow":[{"inset-shadow":["none",be,Ee,v]}],"inset-shadow-color":[{"inset-shadow":M()}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:M()}],"ring-offset-w":[{"ring-offset":[qe,Lo]}],"ring-offset-color":[{"ring-offset":M()}],"inset-ring-w":[{"inset-ring":F()}],"inset-ring-color":[{"inset-ring":M()}],opacity:[{opacity:[qe,be,Ee]}],"mix-blend":[{"mix-blend":[...re(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":re()}],filter:[{filter:["","none",be,Ee]}],blur:[{blur:ve()}],brightness:[{brightness:[qe,be,Ee]}],contrast:[{contrast:[qe,be,Ee]}],"drop-shadow":[{"drop-shadow":["","none",x,be,Ee]}],grayscale:[{grayscale:["",qe,be,Ee]}],"hue-rotate":[{"hue-rotate":[qe,be,Ee]}],invert:[{invert:["",qe,be,Ee]}],saturate:[{saturate:[qe,be,Ee]}],sepia:[{sepia:["",qe,be,Ee]}],"backdrop-filter":[{"backdrop-filter":["","none",be,Ee]}],"backdrop-blur":[{"backdrop-blur":ve()}],"backdrop-brightness":[{"backdrop-brightness":[qe,be,Ee]}],"backdrop-contrast":[{"backdrop-contrast":[qe,be,Ee]}],"backdrop-grayscale":[{"backdrop-grayscale":["",qe,be,Ee]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[qe,be,Ee]}],"backdrop-invert":[{"backdrop-invert":["",qe,be,Ee]}],"backdrop-opacity":[{"backdrop-opacity":[qe,be,Ee]}],"backdrop-saturate":[{"backdrop-saturate":[qe,be,Ee]}],"backdrop-sepia":[{"backdrop-sepia":["",qe,be,Ee]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":te()}],"border-spacing-x":[{"border-spacing-x":te()}],"border-spacing-y":[{"border-spacing-y":te()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",be,Ee]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[qe,"initial",be,Ee]}],ease:[{ease:["linear","initial",I,be,Ee]}],delay:[{delay:[qe,be,Ee]}],animate:[{animate:["none",j,be,Ee]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[S,be,Ee]}],"perspective-origin":[{"perspective-origin":ce()}],rotate:[{rotate:fe()}],"rotate-x":[{"rotate-x":fe()}],"rotate-y":[{"rotate-y":fe()}],"rotate-z":[{"rotate-z":fe()}],scale:[{scale:le()}],"scale-x":[{"scale-x":le()}],"scale-y":[{"scale-y":le()}],"scale-z":[{"scale-z":le()}],"scale-3d":["scale-3d"],skew:[{skew:xe()}],"skew-x":[{"skew-x":xe()}],"skew-y":[{"skew-y":xe()}],transform:[{transform:[be,Ee,"","none","gpu","cpu"]}],"transform-origin":[{origin:ce()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ae()}],"translate-x":[{"translate-x":Ae()}],"translate-y":[{"translate-y":Ae()}],"translate-z":[{"translate-z":Ae()}],"translate-none":["translate-none"],accent:[{accent:M()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:M()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",be,Ee]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":te()}],"scroll-mx":[{"scroll-mx":te()}],"scroll-my":[{"scroll-my":te()}],"scroll-ms":[{"scroll-ms":te()}],"scroll-me":[{"scroll-me":te()}],"scroll-mt":[{"scroll-mt":te()}],"scroll-mr":[{"scroll-mr":te()}],"scroll-mb":[{"scroll-mb":te()}],"scroll-ml":[{"scroll-ml":te()}],"scroll-p":[{"scroll-p":te()}],"scroll-px":[{"scroll-px":te()}],"scroll-py":[{"scroll-py":te()}],"scroll-ps":[{"scroll-ps":te()}],"scroll-pe":[{"scroll-pe":te()}],"scroll-pt":[{"scroll-pt":te()}],"scroll-pr":[{"scroll-pr":te()}],"scroll-pb":[{"scroll-pb":te()}],"scroll-pl":[{"scroll-pl":te()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",be,Ee]}],fill:[{fill:["none",...M()]}],"stroke-w":[{stroke:[qe,qh,Lo,ev]}],stroke:[{stroke:["none",...M()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},e$=I9(Z9);function Ue(...t){return e$(WN(t))}const t$=F6,lA=_.forwardRef(({className:t,...e},n)=>u.jsx(VN,{ref:n,className:Ue("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));lA.displayName=VN.displayName;const n$=fd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground",success:"success group border-green-500 bg-green-500 text-white"}},defaultVariants:{variant:"default"}}),cA=_.forwardRef(({className:t,variant:e,...n},r)=>u.jsx(LN,{ref:r,className:Ue(n$({variant:e}),t),...n}));cA.displayName=LN.displayName;const r$=_.forwardRef(({className:t,...e},n)=>u.jsx($N,{ref:n,className:Ue("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));r$.displayName=$N.displayName;const uA=_.forwardRef(({className:t,...e},n)=>u.jsx(BN,{ref:n,className:Ue("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600 group-[.success]:text-green-300 group-[.success]:hover:text-green-50 group-[.success]:focus:ring-green-400 group-[.success]:focus:ring-offset-green-600",t),"toast-close":"",...e,children:u.jsx(zp,{className:"h-4 w-4"})}));uA.displayName=BN.displayName;const dA=_.forwardRef(({className:t,...e},n)=>u.jsx(FN,{ref:n,className:Ue("text-sm font-semibold",t),...e}));dA.displayName=FN.displayName;const hA=_.forwardRef(({className:t,...e},n)=>u.jsx(UN,{ref:n,className:Ue("text-sm opacity-90",t),...e}));hA.displayName=UN.displayName;function s$(){const{toasts:t}=Lp();return u.jsxs(t$,{children:[t.map(function({id:e,title:n,description:r,action:s,...o}){return u.jsxs(cA,{...o,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(dA,{children:n}),r&&u.jsx(hA,{children:r})]}),s,u.jsx(uA,{})]},e)}),u.jsx(lA,{})]})}function UT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function i$(...t){return e=>{let n=!1;const r=t.map(s=>{const o=UT(s,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():UT(t[s],null)}}}}function o$(t){const e=l$(t),n=_.forwardRef((r,s)=>{const{children:o,...l}=r,c=_.Children.toArray(o),h=c.find(u$);if(h){const p=h.props.children,g=c.map(v=>v===h?_.Children.count(p)>1?_.Children.only(null):_.isValidElement(p)?p.props.children:null:v);return u.jsx(e,{...l,ref:s,children:_.isValidElement(p)?_.cloneElement(p,void 0,g):null})}return u.jsx(e,{...l,ref:s,children:o})});return n.displayName=`${t}.Slot`,n}var a$=o$("Slot");function l$(t){const e=_.forwardRef((n,r)=>{const{children:s,...o}=n;if(_.isValidElement(s)){const l=h$(s),c=d$(o,s.props);return s.type!==_.Fragment&&(c.ref=r?i$(r,l):l),_.cloneElement(s,c)}return _.Children.count(s)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var c$=Symbol("radix.slottable");function u$(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===c$}function d$(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...c)=>{const h=o(...c);return s(...c),h}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function h$(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const f$=fd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ge=_.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},o)=>{const l=r?a$:"button";return u.jsx(l,{className:Ue(f$({variant:e,size:n,className:t})),ref:o,...s})});ge.displayName="Button";const fA=({starDensity:t=15e-5,allStarsTwinkle:e=!0,twinkleProbability:n=.7,minTwinkleSpeed:r=.5,maxTwinkleSpeed:s=1,className:o})=>{const[l,c]=_.useState([]),h=_.useRef(null),[p,g]=_.useState(!1);_.useEffect(()=>{g(!0)},[]);const v=_.useCallback((x,b)=>{const S=x*b,C=Math.floor(S*t);return Array.from({length:C},()=>{const I=e||Math.random()<n;return{x:Math.random()*x,y:Math.random()*b,radius:Math.random()*.05+.5,opacity:Math.random()*.5+.5,twinkleSpeed:I?r+Math.random()*(s-r):null}})},[t,e,n,r,s]);return _.useEffect(()=>{if(!p)return;const x=()=>{if(h.current){const S=h.current;if(!S.getContext("2d"))return;const{width:I,height:j}=S.getBoundingClientRect();S.width=I,S.height=j,c(v(I,j))}};x();const b=new ResizeObserver(x);return h.current&&b.observe(h.current),()=>{h.current&&b.unobserve(h.current)}},[p,t,e,n,r,s,v]),_.useEffect(()=>{if(!p)return;const x=h.current;if(!x)return;const b=x.getContext("2d");if(!b)return;let S;const C=()=>{b.clearRect(0,0,x.width,x.height),l.forEach(I=>{b.beginPath(),b.arc(I.x,I.y,I.radius,0,Math.PI*2),b.fillStyle=`rgba(255, 255, 255, ${I.opacity})`,b.fill(),I.twinkleSpeed!==null&&(I.opacity=.5+Math.abs(Math.sin(Date.now()*.001/I.twinkleSpeed)*.5))}),S=requestAnimationFrame(C)};return C(),()=>{cancelAnimationFrame(S)}},[l,p]),p?u.jsx("canvas",{ref:h,className:Ue("h-full w-full absolute inset-0 -z-10",o)}):null},pA=_.createContext({});function p$(t){const e=_.useRef(null);return e.current===null&&(e.current=t()),e.current}const ax=_.createContext(null),mA=_.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function m$(t=!0){const e=_.useContext(ax);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,o=_.useId();_.useEffect(()=>{t&&s(o)},[t]);const l=_.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,l]:[!0]}const lx=typeof window<"u",g$=lx?_.useLayoutEffect:_.useEffect,Xn=t=>t;let gA=Xn;function cx(t){let e;return()=>(e===void 0&&(e=t()),e)}const Vl=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Hs=t=>t*1e3,Ks=t=>t/1e3,v$={useManualTiming:!1};function y$(t){let e=new Set,n=new Set,r=!1,s=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(p){o.has(p)&&(h.schedule(p),t()),p(l)}const h={schedule:(p,g=!1,v=!1)=>{const b=v&&r?e:n;return g&&o.add(p),b.has(p)||b.add(p),p},cancel:p=>{n.delete(p),o.delete(p)},process:p=>{if(l=p,r){s=!0;return}r=!0,[e,n]=[n,e],e.forEach(c),e.clear(),r=!1,s&&(s=!1,h.process(p))}};return h}const Gh=["read","resolveKeyframes","update","preRender","render","postRender"],x$=40;function vA(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=Gh.reduce((j,L)=>(j[L]=y$(o),j),{}),{read:c,resolveKeyframes:h,update:p,preRender:g,render:v,postRender:x}=l,b=()=>{const j=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(j-s.timestamp,x$),1),s.timestamp=j,s.isProcessing=!0,c.process(s),h.process(s),p.process(s),g.process(s),v.process(s),x.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(b))},S=()=>{n=!0,r=!0,s.isProcessing||t(b)};return{schedule:Gh.reduce((j,L)=>{const O=l[L];return j[L]=($,z=!1,q=!1)=>(n||S(),O.schedule($,z,q)),j},{}),cancel:j=>{for(let L=0;L<Gh.length;L++)l[Gh[L]].cancel(j)},state:s,steps:l}}const{schedule:pt,cancel:Qi,state:Zt,steps:tv}=vA(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xn,!0),yA=_.createContext({strict:!1}),$T={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ll={};for(const t in $T)Ll[t]={isEnabled:e=>$T[t].some(n=>!!e[n])};function w$(t){for(const e in t)Ll[e]={...Ll[e],...t[e]}}const _$=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Gf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||_$.has(t)}let xA=t=>!Gf(t);function E$(t){t&&(xA=e=>e.startsWith("on")?!Gf(e):t(e))}try{E$(require("@emotion/is-prop-valid").default)}catch{}function b$(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(xA(s)||n===!0&&Gf(s)||!e&&!Gf(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function T$(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const Wp=_.createContext({});function Ou(t){return typeof t=="string"||Array.isArray(t)}function Hp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const ux=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],dx=["initial",...ux];function Kp(t){return Hp(t.animate)||dx.some(e=>Ou(t[e]))}function wA(t){return!!(Kp(t)||t.variants)}function S$(t,e){if(Kp(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ou(n)?n:void 0,animate:Ou(r)?r:void 0}}return t.inherit!==!1?e:{}}function C$(t){const{initial:e,animate:n}=S$(t,_.useContext(Wp));return _.useMemo(()=>({initial:e,animate:n}),[BT(e),BT(n)])}function BT(t){return Array.isArray(t)?t.join(" "):t}const I$=Symbol.for("motionComponentSymbol");function pl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function N$(t,e,n){return _.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):pl(n)&&(n.current=r))},[e])}const hx=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),A$="framerAppearId",_A="data-"+hx(A$),{schedule:fx}=vA(queueMicrotask,!1),EA=_.createContext({});function P$(t,e,n,r,s){var o,l;const{visualElement:c}=_.useContext(Wp),h=_.useContext(yA),p=_.useContext(ax),g=_.useContext(mA).reducedMotion,v=_.useRef(null);r=r||h.renderer,!v.current&&r&&(v.current=r(t,{visualState:e,parent:c,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g}));const x=v.current,b=_.useContext(EA);x&&!x.projection&&s&&(x.type==="html"||x.type==="svg")&&R$(v.current,n,s,b);const S=_.useRef(!1);_.useInsertionEffect(()=>{x&&S.current&&x.update(n,p)});const C=n[_A],I=_.useRef(!!C&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,C))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,C)));return g$(()=>{x&&(S.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),fx.render(x.render),I.current&&x.animationState&&x.animationState.animateChanges())}),_.useEffect(()=>{x&&(!I.current&&x.animationState&&x.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{var j;(j=window.MotionHandoffMarkAsComplete)===null||j===void 0||j.call(window,C)}),I.current=!1))}),x}function R$(t,e,n,r){const{layoutId:s,layout:o,drag:l,dragConstraints:c,layoutScroll:h,layoutRoot:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:bA(t.parent)),t.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!l||c&&pl(c),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:h,layoutRoot:p})}function bA(t){if(t)return t.options.allowProjection!==!1?t.projection:bA(t.parent)}function k$({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){var o,l;t&&w$(t);function c(p,g){let v;const x={..._.useContext(mA),...p,layoutId:j$(p)},{isStatic:b}=x,S=C$(p),C=r(p,b);if(!b&&lx){D$();const I=M$(x);v=I.MeasureLayout,S.visualElement=P$(s,C,x,e,I.ProjectionNode)}return u.jsxs(Wp.Provider,{value:S,children:[v&&S.visualElement?u.jsx(v,{visualElement:S.visualElement,...x}):null,n(s,p,N$(C,S.visualElement,g),C,b,S.visualElement)]})}c.displayName=`motion.${typeof s=="string"?s:`create(${(l=(o=s.displayName)!==null&&o!==void 0?o:s.name)!==null&&l!==void 0?l:""})`}`;const h=_.forwardRef(c);return h[I$]=s,h}function j$({layoutId:t}){const e=_.useContext(pA).id;return e&&t!==void 0?e+"-"+t:t}function D$(t,e){_.useContext(yA).strict}function M$(t){const{drag:e,layout:n}=Ll;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const O$=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function px(t){return typeof t!="string"||t.includes("-")?!1:!!(O$.indexOf(t)>-1||/[A-Z]/u.test(t))}function zT(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function mx(t,e,n,r){if(typeof e=="function"){const[s,o]=zT(r);e=e(n!==void 0?n:t.custom,s,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,o]=zT(r);e=e(n!==void 0?n:t.custom,s,o)}return e}const xy=t=>Array.isArray(t),V$=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),L$=t=>xy(t)?t[t.length-1]||0:t,fn=t=>!!(t&&t.getVelocity);function vf(t){const e=fn(t)?t.get():t;return V$(e)?e.toValue():e}function F$({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,s,o){const l={latestValues:U$(r,s,o,t),renderState:e()};return n&&(l.onMount=c=>n({props:r,current:c,...l}),l.onUpdate=c=>n(c)),l}const TA=t=>(e,n)=>{const r=_.useContext(Wp),s=_.useContext(ax),o=()=>F$(t,e,r,s);return n?o():p$(o)};function U$(t,e,n,r){const s={},o=r(t,{});for(const x in o)s[x]=vf(o[x]);let{initial:l,animate:c}=t;const h=Kp(t),p=wA(t);e&&p&&!h&&t.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let g=n?n.initial===!1:!1;g=g||l===!1;const v=g?c:l;if(v&&typeof v!="boolean"&&!Hp(v)){const x=Array.isArray(v)?v:[v];for(let b=0;b<x.length;b++){const S=mx(t,x[b]);if(S){const{transitionEnd:C,transition:I,...j}=S;for(const L in j){let O=j[L];if(Array.isArray(O)){const $=g?O.length-1:0;O=O[$]}O!==null&&(s[L]=O)}for(const L in C)s[L]=C[L]}}}return s}const Yl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],da=new Set(Yl),SA=t=>e=>typeof e=="string"&&e.startsWith(t),CA=SA("--"),$$=SA("var(--"),gx=t=>$$(t)?B$.test(t.split("/*")[0].trim()):!1,B$=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,IA=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ei=(t,e,n)=>n>e?e:n<t?t:n,Xl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Vu={...Xl,transform:t=>ei(0,1,t)},Qh={...Xl,default:1},md=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Pi=md("deg"),cs=md("%"),Oe=md("px"),z$=md("vh"),W$=md("vw"),WT={...cs,parse:t=>cs.parse(t)/100,transform:t=>cs.transform(t*100)},H$={borderWidth:Oe,borderTopWidth:Oe,borderRightWidth:Oe,borderBottomWidth:Oe,borderLeftWidth:Oe,borderRadius:Oe,radius:Oe,borderTopLeftRadius:Oe,borderTopRightRadius:Oe,borderBottomRightRadius:Oe,borderBottomLeftRadius:Oe,width:Oe,maxWidth:Oe,height:Oe,maxHeight:Oe,top:Oe,right:Oe,bottom:Oe,left:Oe,padding:Oe,paddingTop:Oe,paddingRight:Oe,paddingBottom:Oe,paddingLeft:Oe,margin:Oe,marginTop:Oe,marginRight:Oe,marginBottom:Oe,marginLeft:Oe,backgroundPositionX:Oe,backgroundPositionY:Oe},K$={rotate:Pi,rotateX:Pi,rotateY:Pi,rotateZ:Pi,scale:Qh,scaleX:Qh,scaleY:Qh,scaleZ:Qh,skew:Pi,skewX:Pi,skewY:Pi,distance:Oe,translateX:Oe,translateY:Oe,translateZ:Oe,x:Oe,y:Oe,z:Oe,perspective:Oe,transformPerspective:Oe,opacity:Vu,originX:WT,originY:WT,originZ:Oe},HT={...Xl,transform:Math.round},vx={...H$,...K$,zIndex:HT,size:Oe,fillOpacity:Vu,strokeOpacity:Vu,numOctaves:HT},q$={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},G$=Yl.length;function Q$(t,e,n){let r="",s=!0;for(let o=0;o<G$;o++){const l=Yl[o],c=t[l];if(c===void 0)continue;let h=!0;if(typeof c=="number"?h=c===(l.startsWith("scale")?1:0):h=parseFloat(c)===0,!h||n){const p=IA(c,vx[l]);if(!h){s=!1;const g=q$[l]||l;r+=`${g}(${p}) `}n&&(e[l]=p)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function yx(t,e,n){const{style:r,vars:s,transformOrigin:o}=t;let l=!1,c=!1;for(const h in e){const p=e[h];if(da.has(h)){l=!0;continue}else if(CA(h)){s[h]=p;continue}else{const g=IA(p,vx[h]);h.startsWith("origin")?(c=!0,o[h]=g):r[h]=g}}if(e.transform||(l||n?r.transform=Q$(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:h="50%",originY:p="50%",originZ:g=0}=o;r.transformOrigin=`${h} ${p} ${g}`}}const Y$={offset:"stroke-dashoffset",array:"stroke-dasharray"},X$={offset:"strokeDashoffset",array:"strokeDasharray"};function J$(t,e,n=1,r=0,s=!0){t.pathLength=1;const o=s?Y$:X$;t[o.offset]=Oe.transform(-r);const l=Oe.transform(e),c=Oe.transform(n);t[o.array]=`${l} ${c}`}function KT(t,e,n){return typeof t=="string"?t:Oe.transform(e+n*t)}function Z$(t,e,n){const r=KT(e,t.x,t.width),s=KT(n,t.y,t.height);return`${r} ${s}`}function xx(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:o,pathLength:l,pathSpacing:c=1,pathOffset:h=0,...p},g,v){if(yx(t,p,v),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:x,style:b,dimensions:S}=t;x.transform&&(S&&(b.transform=x.transform),delete x.transform),S&&(s!==void 0||o!==void 0||b.transform)&&(b.transformOrigin=Z$(S,s!==void 0?s:.5,o!==void 0?o:.5)),e!==void 0&&(x.x=e),n!==void 0&&(x.y=n),r!==void 0&&(x.scale=r),l!==void 0&&J$(x,l,c,h,!1)}const wx=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),NA=()=>({...wx(),attrs:{}}),_x=t=>typeof t=="string"&&t.toLowerCase()==="svg";function AA(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const PA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function RA(t,e,n,r){AA(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(PA.has(s)?s:hx(s),e.attrs[s])}const Qf={};function eB(t){Object.assign(Qf,t)}function kA(t,{layout:e,layoutId:n}){return da.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Qf[t]||t==="opacity")}function Ex(t,e,n){var r;const{style:s}=t,o={};for(const l in s)(fn(s[l])||e.style&&fn(e.style[l])||kA(l,t)||((r=n?.getValue(l))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[l]=s[l]);return o}function jA(t,e,n){const r=Ex(t,e,n);for(const s in t)if(fn(t[s])||fn(e[s])){const o=Yl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[o]=t[s]}return r}function tB(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const qT=["x","y","width","height","cx","cy","r"],nB={useVisualState:TA({scrapeMotionValuesFromProps:jA,createRenderState:NA,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:s})=>{if(!n)return;let o=!!t.drag;if(!o){for(const c in s)if(da.has(c)){o=!0;break}}if(!o)return;let l=!e;if(e)for(let c=0;c<qT.length;c++){const h=qT[c];t[h]!==e[h]&&(l=!0)}l&&pt.read(()=>{tB(n,r),pt.render(()=>{xx(r,s,_x(n.tagName),t.transformTemplate),RA(n,r)})})}})},rB={useVisualState:TA({scrapeMotionValuesFromProps:Ex,createRenderState:wx})};function DA(t,e,n){for(const r in e)!fn(e[r])&&!kA(r,n)&&(t[r]=e[r])}function sB({transformTemplate:t},e){return _.useMemo(()=>{const n=wx();return yx(n,e,t),Object.assign({},n.vars,n.style)},[e])}function iB(t,e){const n=t.style||{},r={};return DA(r,n,t),Object.assign(r,sB(t,e)),r}function oB(t,e){const n={},r=iB(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function aB(t,e,n,r){const s=_.useMemo(()=>{const o=NA();return xx(o,e,_x(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};DA(o,t.style,t),s.style={...o,...s.style}}return s}function lB(t=!1){return(n,r,s,{latestValues:o},l)=>{const h=(px(n)?aB:oB)(r,o,l,n),p=b$(r,typeof n=="string",t),g=n!==_.Fragment?{...p,...h,ref:s}:{},{children:v}=r,x=_.useMemo(()=>fn(v)?v.get():v,[v]);return _.createElement(n,{...g,children:x})}}function cB(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const l={...px(r)?nB:rB,preloadedFeatures:t,useRender:lB(s),createVisualElement:e,Component:r};return k$(l)}}function MA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function qp(t,e,n){const r=t.getProps();return mx(r,e,n!==void 0?n:r.custom,t)}const uB=cx(()=>window.ScrollTimeline!==void 0);class dB{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if(uB()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,o)=>{s&&s(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class hB extends dB{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function bx(t,e){return t?t[e]||t.default||t:void 0}const wy=2e4;function OA(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<wy;)e+=n,r=t.next(e);return e>=wy?1/0:e}function Tx(t){return typeof t=="function"}function GT(t,e){t.timeline=e,t.onfinish=null}const Sx=t=>Array.isArray(t)&&typeof t[0]=="number",fB={linearEasing:void 0};function pB(t,e){const n=cx(t);return()=>{var r;return(r=fB[e])!==null&&r!==void 0?r:n()}}const Yf=pB(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),VA=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let o=0;o<s;o++)r+=t(Vl(0,s-1,o))+", ";return`linear(${r.substring(0,r.length-2)})`};function LA(t){return!!(typeof t=="function"&&Yf()||!t||typeof t=="string"&&(t in _y||Yf())||Sx(t)||Array.isArray(t)&&t.every(LA))}const su=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,_y={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:su([0,.65,.55,1]),circOut:su([.55,0,1,.45]),backIn:su([.31,.01,.66,-.59]),backOut:su([.33,1.53,.69,.99])};function FA(t,e){if(t)return typeof t=="function"&&Yf()?VA(t,e):Sx(t)?su(t):Array.isArray(t)?t.map(n=>FA(n,e)||_y.easeOut):_y[t]}const Rr={x:!1,y:!1};function UA(){return Rr.x||Rr.y}function mB(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const o=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}function $A(t,e){const n=mB(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function QT(t){return e=>{e.pointerType==="touch"||UA()||t(e)}}function gB(t,e,n={}){const[r,s,o]=$A(t,n),l=QT(c=>{const{target:h}=c,p=e(c);if(typeof p!="function"||!h)return;const g=QT(v=>{p(v),h.removeEventListener("pointerleave",g)});h.addEventListener("pointerleave",g,s)});return r.forEach(c=>{c.addEventListener("pointerenter",l,s)}),o}const BA=(t,e)=>e?t===e?!0:BA(t,e.parentElement):!1,Cx=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,vB=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function yB(t){return vB.has(t.tagName)||t.tabIndex!==-1}const iu=new WeakSet;function YT(t){return e=>{e.key==="Enter"&&t(e)}}function nv(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const xB=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=YT(()=>{if(iu.has(n))return;nv(n,"down");const s=YT(()=>{nv(n,"up")}),o=()=>nv(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function XT(t){return Cx(t)&&!UA()}function wB(t,e,n={}){const[r,s,o]=$A(t,n),l=c=>{const h=c.currentTarget;if(!XT(c)||iu.has(h))return;iu.add(h);const p=e(c),g=(b,S)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",x),!(!XT(b)||!iu.has(h))&&(iu.delete(h),typeof p=="function"&&p(b,{success:S}))},v=b=>{g(b,n.useGlobalTarget||BA(h,b.target))},x=b=>{g(b,!1)};window.addEventListener("pointerup",v,s),window.addEventListener("pointercancel",x,s)};return r.forEach(c=>{!yB(c)&&c.getAttribute("tabindex")===null&&(c.tabIndex=0),(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,s),c.addEventListener("focus",p=>xB(p,s),s)}),o}function _B(t){return t==="x"||t==="y"?Rr[t]?null:(Rr[t]=!0,()=>{Rr[t]=!1}):Rr.x||Rr.y?null:(Rr.x=Rr.y=!0,()=>{Rr.x=Rr.y=!1})}const zA=new Set(["width","height","top","left","right","bottom",...Yl]);let yf;function EB(){yf=void 0}const us={now:()=>(yf===void 0&&us.set(Zt.isProcessing||v$.useManualTiming?Zt.timestamp:performance.now()),yf),set:t=>{yf=t,queueMicrotask(EB)}};function Ix(t,e){t.indexOf(e)===-1&&t.push(e)}function Nx(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Ax{constructor(){this.subscriptions=[]}add(e){return Ix(this.subscriptions,e),()=>Nx(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let o=0;o<s;o++){const l=this.subscriptions[o];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function WA(t,e){return e?t*(1e3/e):0}const JT=30,bB=t=>!isNaN(parseFloat(t));class TB{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const o=us.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=us.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=bB(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Ax);const r=this.events[e].add(n);return e==="change"?()=>{r(),pt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=us.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>JT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,JT);return WA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Lu(t,e){return new TB(t,e)}function SB(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Lu(n))}function CB(t,e){const n=qp(t,e);let{transitionEnd:r={},transition:s={},...o}=n||{};o={...o,...r};for(const l in o){const c=L$(o[l]);SB(t,l,c)}}function IB(t){return!!(fn(t)&&t.add)}function Ey(t,e){const n=t.getValue("willChange");if(IB(n))return n.add(e)}function HA(t){return t.props[_A]}const KA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,NB=1e-7,AB=12;function PB(t,e,n,r,s){let o,l,c=0;do l=e+(n-e)/2,o=KA(l,r,s)-t,o>0?n=l:e=l;while(Math.abs(o)>NB&&++c<AB);return l}function gd(t,e,n,r){if(t===e&&n===r)return Xn;const s=o=>PB(o,0,1,t,n);return o=>o===0||o===1?o:KA(s(o),e,r)}const qA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,GA=t=>e=>1-t(1-e),QA=gd(.33,1.53,.69,.99),Px=GA(QA),YA=qA(Px),XA=t=>(t*=2)<1?.5*Px(t):.5*(2-Math.pow(2,-10*(t-1))),Rx=t=>1-Math.sin(Math.acos(t)),JA=GA(Rx),ZA=qA(Rx),eP=t=>/^0[^.\s]+$/u.test(t);function RB(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||eP(t):!0}const gu=t=>Math.round(t*1e5)/1e5,kx=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function kB(t){return t==null}const jB=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,jx=(t,e)=>n=>!!(typeof n=="string"&&jB.test(n)&&n.startsWith(t)||e&&!kB(n)&&Object.prototype.hasOwnProperty.call(n,e)),tP=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,o,l,c]=r.match(kx);return{[t]:parseFloat(s),[e]:parseFloat(o),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},DB=t=>ei(0,255,t),rv={...Xl,transform:t=>Math.round(DB(t))},Go={test:jx("rgb","red"),parse:tP("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+rv.transform(t)+", "+rv.transform(e)+", "+rv.transform(n)+", "+gu(Vu.transform(r))+")"};function MB(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const by={test:jx("#"),parse:MB,transform:Go.transform},ml={test:jx("hsl","hue"),parse:tP("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+cs.transform(gu(e))+", "+cs.transform(gu(n))+", "+gu(Vu.transform(r))+")"},un={test:t=>Go.test(t)||by.test(t)||ml.test(t),parse:t=>Go.test(t)?Go.parse(t):ml.test(t)?ml.parse(t):by.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Go.transform(t):ml.transform(t)},OB=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function VB(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(kx))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(OB))===null||n===void 0?void 0:n.length)||0)>0}const nP="number",rP="color",LB="var",FB="var(",ZT="${}",UB=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Fu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let o=0;const c=e.replace(UB,h=>(un.test(h)?(r.color.push(o),s.push(rP),n.push(un.parse(h))):h.startsWith(FB)?(r.var.push(o),s.push(LB),n.push(h)):(r.number.push(o),s.push(nP),n.push(parseFloat(h))),++o,ZT)).split(ZT);return{values:n,split:c,indexes:r,types:s}}function sP(t){return Fu(t).values}function iP(t){const{split:e,types:n}=Fu(t),r=e.length;return s=>{let o="";for(let l=0;l<r;l++)if(o+=e[l],s[l]!==void 0){const c=n[l];c===nP?o+=gu(s[l]):c===rP?o+=un.transform(s[l]):o+=s[l]}return o}}const $B=t=>typeof t=="number"?0:t;function BB(t){const e=sP(t);return iP(t)(e.map($B))}const Yi={test:VB,parse:sP,createTransformer:iP,getAnimatableNone:BB},zB=new Set(["brightness","contrast","saturate","opacity"]);function WB(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(kx)||[];if(!r)return t;const s=n.replace(r,"");let o=zB.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+s+")"}const HB=/\b([a-z-]*)\(.*?\)/gu,Ty={...Yi,getAnimatableNone:t=>{const e=t.match(HB);return e?e.map(WB).join(" "):t}},KB={...vx,color:un,backgroundColor:un,outlineColor:un,fill:un,stroke:un,borderColor:un,borderTopColor:un,borderRightColor:un,borderBottomColor:un,borderLeftColor:un,filter:Ty,WebkitFilter:Ty},Dx=t=>KB[t];function oP(t,e){let n=Dx(t);return n!==Ty&&(n=Yi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const qB=new Set(["auto","none","0"]);function GB(t,e,n){let r=0,s;for(;r<t.length&&!s;){const o=t[r];typeof o=="string"&&!qB.has(o)&&Fu(o).values.length&&(s=t[r]),r++}if(s&&n)for(const o of e)t[o]=oP(n,s)}const e1=t=>t===Xl||t===Oe,t1=(t,e)=>parseFloat(t.split(", ")[e]),n1=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return t1(s[1],e);{const o=r.match(/^matrix\((.+)\)$/u);return o?t1(o[1],t):0}},QB=new Set(["x","y","z"]),YB=Yl.filter(t=>!QB.has(t));function XB(t){const e=[];return YB.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Fl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:n1(4,13),y:n1(5,14)};Fl.translateX=Fl.x;Fl.translateY=Fl.y;const Yo=new Set;let Sy=!1,Cy=!1;function aP(){if(Cy){const t=Array.from(Yo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=XB(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([o,l])=>{var c;(c=r.getValue(o))===null||c===void 0||c.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Cy=!1,Sy=!1,Yo.forEach(t=>t.complete()),Yo.clear()}function lP(){Yo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Cy=!0)})}function JB(){lP(),aP()}class Mx{constructor(e,n,r,s,o,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=o,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Yo.add(this),Sy||(Sy=!0,pt.read(lP),pt.resolveKeyframes(aP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const l=s?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&n){const h=r.readValue(n,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),s&&l===void 0&&s.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Yo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Yo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const cP=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),ZB=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function e8(t){const e=ZB.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function uP(t,e,n=1){const[r,s]=e8(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const l=o.trim();return cP(l)?parseFloat(l):l}return gx(s)?uP(s,e,n+1):s}const dP=t=>e=>e.test(t),t8={test:t=>t==="auto",parse:t=>t},hP=[Xl,Oe,cs,Pi,W$,z$,t8],r1=t=>hP.find(dP(t));class fP extends Mx{constructor(e,n,r,s,o){super(e,n,r,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let p=e[h];if(typeof p=="string"&&(p=p.trim(),gx(p))){const g=uP(p,n.current);g!==void 0&&(e[h]=g),h===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!zA.has(r)||e.length!==2)return;const[s,o]=e,l=r1(s),c=r1(o);if(l!==c)if(e1(l)&&e1(c))for(let h=0;h<e.length;h++){const p=e[h];typeof p=="string"&&(e[h]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)RB(e[s])&&r.push(s);r.length&&GB(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Fl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const o=n.getValue(r);o&&o.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=Fl[r](n.measureViewportBox(),window.getComputedStyle(n.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([h,p])=>{n.getValue(h).set(p)}),this.resolveNoneKeyframes()}}const s1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Yi.test(t)||t==="0")&&!t.startsWith("url("));function n8(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function r8(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],l=s1(s,e),c=s1(o,e);return!l||!c?!1:n8(t)||(n==="spring"||Tx(n))&&r}const s8=t=>t!==null;function Gp(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(s8),o=e&&n!=="loop"&&e%2===1?0:s.length-1;return!o||r===void 0?s[o]:r}const i8=40;class pP{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:l="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=us.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:o,repeatType:l,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>i8?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&JB(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=us.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:o,delay:l,onComplete:c,onUpdate:h,isGenerator:p}=this.options;if(!p&&!r8(e,r,s,o))if(l)this.options.duration=0;else{h&&h(Gp(e,this.options,n)),c&&c(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,n);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const wt=(t,e,n)=>t+(e-t)*n;function sv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function o8({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,o=0,l=0;if(!e)s=o=l=n;else{const c=n<.5?n*(1+e):n+e-n*e,h=2*n-c;s=sv(h,c,t+1/3),o=sv(h,c,t),l=sv(h,c,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:r}}function Xf(t,e){return n=>n>0?e:t}const iv=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},a8=[by,Go,ml],l8=t=>a8.find(e=>e.test(t));function i1(t){const e=l8(t);if(!e)return!1;let n=e.parse(t);return e===ml&&(n=o8(n)),n}const o1=(t,e)=>{const n=i1(t),r=i1(e);if(!n||!r)return Xf(t,e);const s={...n};return o=>(s.red=iv(n.red,r.red,o),s.green=iv(n.green,r.green,o),s.blue=iv(n.blue,r.blue,o),s.alpha=wt(n.alpha,r.alpha,o),Go.transform(s))},c8=(t,e)=>n=>e(t(n)),vd=(...t)=>t.reduce(c8),Iy=new Set(["none","hidden"]);function u8(t,e){return Iy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function d8(t,e){return n=>wt(t,e,n)}function Ox(t){return typeof t=="number"?d8:typeof t=="string"?gx(t)?Xf:un.test(t)?o1:p8:Array.isArray(t)?mP:typeof t=="object"?un.test(t)?o1:h8:Xf}function mP(t,e){const n=[...t],r=n.length,s=t.map((o,l)=>Ox(o)(o,e[l]));return o=>{for(let l=0;l<r;l++)n[l]=s[l](o);return n}}function h8(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Ox(t[s])(t[s],e[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}}function f8(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],c=t.indexes[l][s[l]],h=(n=t.values[c])!==null&&n!==void 0?n:0;r[o]=h,s[l]++}return r}const p8=(t,e)=>{const n=Yi.createTransformer(e),r=Fu(t),s=Fu(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Iy.has(t)&&!s.values.length||Iy.has(e)&&!r.values.length?u8(t,e):vd(mP(f8(r,s),s.values),n):Xf(t,e)};function gP(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?wt(t,e,n):Ox(t)(t,e)}const m8=5;function vP(t,e,n){const r=Math.max(e-m8,0);return WA(n-t(r),e-r)}const bt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ov=.001;function g8({duration:t=bt.duration,bounce:e=bt.bounce,velocity:n=bt.velocity,mass:r=bt.mass}){let s,o,l=1-e;l=ei(bt.minDamping,bt.maxDamping,l),t=ei(bt.minDuration,bt.maxDuration,Ks(t)),l<1?(s=p=>{const g=p*l,v=g*t,x=g-n,b=Ny(p,l),S=Math.exp(-v);return ov-x/b*S},o=p=>{const v=p*l*t,x=v*n+n,b=Math.pow(l,2)*Math.pow(p,2)*t,S=Math.exp(-v),C=Ny(Math.pow(p,2),l);return(-s(p)+ov>0?-1:1)*((x-b)*S)/C}):(s=p=>{const g=Math.exp(-p*t),v=(p-n)*t+1;return-ov+g*v},o=p=>{const g=Math.exp(-p*t),v=(n-p)*(t*t);return g*v});const c=5/t,h=y8(s,o,c);if(t=Hs(t),isNaN(h))return{stiffness:bt.stiffness,damping:bt.damping,duration:t};{const p=Math.pow(h,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:t}}}const v8=12;function y8(t,e,n){let r=n;for(let s=1;s<v8;s++)r=r-t(r)/e(r);return r}function Ny(t,e){return t*Math.sqrt(1-e*e)}const x8=["duration","bounce"],w8=["stiffness","damping","mass"];function a1(t,e){return e.some(n=>t[n]!==void 0)}function _8(t){let e={velocity:bt.velocity,stiffness:bt.stiffness,damping:bt.damping,mass:bt.mass,isResolvedFromDuration:!1,...t};if(!a1(t,w8)&&a1(t,x8))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,o=2*ei(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:bt.mass,stiffness:s,damping:o}}else{const n=g8(t);e={...e,...n,mass:bt.mass},e.isResolvedFromDuration=!0}return e}function yP(t=bt.visualDuration,e=bt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:o},{stiffness:h,damping:p,mass:g,duration:v,velocity:x,isResolvedFromDuration:b}=_8({...n,velocity:-Ks(n.velocity||0)}),S=x||0,C=p/(2*Math.sqrt(h*g)),I=l-o,j=Ks(Math.sqrt(h/g)),L=Math.abs(I)<5;r||(r=L?bt.restSpeed.granular:bt.restSpeed.default),s||(s=L?bt.restDelta.granular:bt.restDelta.default);let O;if(C<1){const z=Ny(j,C);O=q=>{const R=Math.exp(-C*j*q);return l-R*((S+C*j*I)/z*Math.sin(z*q)+I*Math.cos(z*q))}}else if(C===1)O=z=>l-Math.exp(-j*z)*(I+(S+j*I)*z);else{const z=j*Math.sqrt(C*C-1);O=q=>{const R=Math.exp(-C*j*q),A=Math.min(z*q,300);return l-R*((S+C*j*I)*Math.sinh(A)+z*I*Math.cosh(A))/z}}const $={calculatedDuration:b&&v||null,next:z=>{const q=O(z);if(b)c.done=z>=v;else{let R=0;C<1&&(R=z===0?Hs(S):vP(O,z,q));const A=Math.abs(R)<=r,D=Math.abs(l-q)<=s;c.done=A&&D}return c.value=c.done?l:q,c},toString:()=>{const z=Math.min(OA($),wy),q=VA(R=>$.next(z*R).value,z,30);return z+"ms "+q}};return $}function l1({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:l,min:c,max:h,restDelta:p=.5,restSpeed:g}){const v=t[0],x={done:!1,value:v},b=A=>c!==void 0&&A<c||h!==void 0&&A>h,S=A=>c===void 0?h:h===void 0||Math.abs(c-A)<Math.abs(h-A)?c:h;let C=n*e;const I=v+C,j=l===void 0?I:l(I);j!==I&&(C=j-v);const L=A=>-C*Math.exp(-A/r),O=A=>j+L(A),$=A=>{const D=L(A),V=O(A);x.done=Math.abs(D)<=p,x.value=x.done?j:V};let z,q;const R=A=>{b(x.value)&&(z=A,q=yP({keyframes:[x.value,S(x.value)],velocity:vP(O,A,x.value),damping:s,stiffness:o,restDelta:p,restSpeed:g}))};return R(0),{calculatedDuration:null,next:A=>{let D=!1;return!q&&z===void 0&&(D=!0,$(A),R(A)),z!==void 0&&A>=z?q.next(A-z):(!D&&$(A),x)}}}const E8=gd(.42,0,1,1),b8=gd(0,0,.58,1),xP=gd(.42,0,.58,1),T8=t=>Array.isArray(t)&&typeof t[0]!="number",S8={linear:Xn,easeIn:E8,easeInOut:xP,easeOut:b8,circIn:Rx,circInOut:ZA,circOut:JA,backIn:Px,backInOut:YA,backOut:QA,anticipate:XA},c1=t=>{if(Sx(t)){gA(t.length===4);const[e,n,r,s]=t;return gd(e,n,r,s)}else if(typeof t=="string")return S8[t];return t};function C8(t,e,n){const r=[],s=n||gP,o=t.length-1;for(let l=0;l<o;l++){let c=s(t[l],t[l+1]);if(e){const h=Array.isArray(e)?e[l]||Xn:e;c=vd(h,c)}r.push(c)}return r}function I8(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const o=t.length;if(gA(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=C8(e,r,s),h=c.length,p=g=>{if(l&&g<t[0])return e[0];let v=0;if(h>1)for(;v<t.length-2&&!(g<t[v+1]);v++);const x=Vl(t[v],t[v+1],g);return c[v](x)};return n?g=>p(ei(t[0],t[o-1],g)):p}function N8(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Vl(0,e,r);t.push(wt(n,1,s))}}function A8(t){const e=[0];return N8(e,t.length-1),e}function P8(t,e){return t.map(n=>n*e)}function R8(t,e){return t.map(()=>e||xP).splice(0,t.length-1)}function Jf({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=T8(r)?r.map(c1):c1(r),o={done:!1,value:e[0]},l=P8(n&&n.length===e.length?n:A8(e),t),c=I8(l,e,{ease:Array.isArray(s)?s:R8(e,s)});return{calculatedDuration:t,next:h=>(o.value=c(h),o.done=h>=t,o)}}const k8=t=>{const e=({timestamp:n})=>t(n);return{start:()=>pt.update(e,!0),stop:()=>Qi(e),now:()=>Zt.isProcessing?Zt.timestamp:us.now()}},j8={decay:l1,inertia:l1,tween:Jf,keyframes:Jf,spring:yP},D8=t=>t/100;class Vx extends pP{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:n,motionValue:r,element:s,keyframes:o}=this.options,l=s?.KeyframeResolver||Mx,c=(h,p)=>this.onKeyframesResolved(h,p);this.resolver=new l(o,c,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o,velocity:l=0}=this.options,c=Tx(n)?n:j8[n]||Jf;let h,p;c!==Jf&&typeof e[0]!="number"&&(h=vd(D8,gP(e[0],e[1])),e=[0,100]);const g=c({...this.options,keyframes:e});o==="mirror"&&(p=c({...this.options,keyframes:[...e].reverse(),velocity:-l})),g.calculatedDuration===null&&(g.calculatedDuration=OA(g));const{calculatedDuration:v}=g,x=v+s,b=x*(r+1)-s;return{generator:g,mirroredGenerator:p,mapPercentToKeyframes:h,calculatedDuration:v,resolvedDuration:x,totalDuration:b}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:s,generator:o,mirroredGenerator:l,mapPercentToKeyframes:c,keyframes:h,calculatedDuration:p,totalDuration:g,resolvedDuration:v}=r;if(this.startTime===null)return o.next(0);const{delay:x,repeat:b,repeatType:S,repeatDelay:C,onUpdate:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const j=this.currentTime-x*(this.speed>=0?1:-1),L=this.speed>=0?j<0:j>g;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let O=this.currentTime,$=o;if(b){const A=Math.min(this.currentTime,g)/v;let D=Math.floor(A),V=A%1;!V&&A>=1&&(V=1),V===1&&D--,D=Math.min(D,b+1),!!(D%2)&&(S==="reverse"?(V=1-V,C&&(V-=C/v)):S==="mirror"&&($=l)),O=ei(0,1,V)*v}const z=L?{done:!1,value:h[0]}:$.next(O);c&&(z.value=c(z.value));let{done:q}=z;!L&&p!==null&&(q=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&q);return R&&s!==void 0&&(z.value=Gp(h,this.options,s)),I&&I(z.value),R&&this.finish(),z}get duration(){const{resolved:e}=this;return e?Ks(e.calculatedDuration):0}get time(){return Ks(this.currentTime)}set time(e){e=Hs(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ks(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=k8,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const M8=new Set(["opacity","clipPath","filter","transform"]);function O8(t,e,n,{delay:r=0,duration:s=300,repeat:o=0,repeatType:l="loop",ease:c="easeInOut",times:h}={}){const p={[e]:n};h&&(p.offset=h);const g=FA(c,s);return Array.isArray(g)&&(p.easing=g),t.animate(p,{delay:r,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"})}const V8=cx(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Zf=10,L8=2e4;function F8(t){return Tx(t.type)||t.type==="spring"||!LA(t.ease)}function U8(t,e){const n=new Vx({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let o=0;for(;!r.done&&o<L8;)r=n.sample(o),s.push(r.value),o+=Zf;return{times:void 0,keyframes:s,duration:o-Zf,ease:"linear"}}const wP={anticipate:XA,backInOut:YA,circInOut:ZA};function $8(t){return t in wP}class u1 extends pP{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:o}=this.options;this.resolver=new fP(o,(l,c)=>this.onKeyframesResolved(l,c),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:s,ease:o,type:l,motionValue:c,name:h,startTime:p}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof o=="string"&&Yf()&&$8(o)&&(o=wP[o]),F8(this.options)){const{onComplete:v,onUpdate:x,motionValue:b,element:S,...C}=this.options,I=U8(e,C);e=I.keyframes,e.length===1&&(e[1]=e[0]),r=I.duration,s=I.times,o=I.ease,l="keyframes"}const g=O8(c.owner.current,h,e,{...this.options,duration:r,times:s,ease:o});return g.startTime=p??this.calcStartTime(),this.pendingTimeline?(GT(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:v}=this.options;c.set(Gp(e,this.options,n)),v&&v(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:r,times:s,type:l,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Ks(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Ks(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Hs(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Xn;const{animation:r}=n;GT(r,e)}return Xn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:o,ease:l,times:c}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:g,onComplete:v,element:x,...b}=this.options,S=new Vx({...b,keyframes:r,duration:s,type:o,ease:l,times:c,isGenerator:!0}),C=Hs(this.time);p.setWithVelocity(S.sample(C-Zf).value,S.sample(C).value,Zf)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:o,damping:l,type:c}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:p}=n.owner.getProps();return V8()&&r&&M8.has(r)&&!h&&!p&&!s&&o!=="mirror"&&l!==0&&c!=="inertia"}}const B8={type:"spring",stiffness:500,damping:25,restSpeed:10},z8=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),W8={type:"keyframes",duration:.8},H8={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},K8=(t,{keyframes:e})=>e.length>2?W8:da.has(t)?t.startsWith("scale")?z8(e[1]):B8:H8;function q8({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:l,repeatDelay:c,from:h,elapsed:p,...g}){return!!Object.keys(g).length}const Lx=(t,e,n,r={},s,o)=>l=>{const c=bx(r,t)||{},h=c.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Hs(h);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-p,onUpdate:x=>{e.set(x),c.onUpdate&&c.onUpdate(x)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:o?void 0:s};q8(c)||(g={...g,...K8(t,g)}),g.duration&&(g.duration=Hs(g.duration)),g.repeatDelay&&(g.repeatDelay=Hs(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(v=!0)),v&&!o&&e.get()!==void 0){const x=Gp(g.keyframes,c);if(x!==void 0)return pt.update(()=>{g.onUpdate(x),g.onComplete()}),new hB([])}return!o&&u1.supports(g)?new u1(g):new Vx(g)};function G8({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function _P(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var o;let{transition:l=t.getDefaultTransition(),transitionEnd:c,...h}=e;r&&(l=r);const p=[],g=s&&t.animationState&&t.animationState.getState()[s];for(const v in h){const x=t.getValue(v,(o=t.latestValues[v])!==null&&o!==void 0?o:null),b=h[v];if(b===void 0||g&&G8(g,v))continue;const S={delay:n,...bx(l||{},v)};let C=!1;if(window.MotionHandoffAnimation){const j=HA(t);if(j){const L=window.MotionHandoffAnimation(j,v,pt);L!==null&&(S.startTime=L,C=!0)}}Ey(t,v),x.start(Lx(v,x,b,t.shouldReduceMotion&&zA.has(v)?{type:!1}:S,t,C));const I=x.animation;I&&p.push(I)}return c&&Promise.all(p).then(()=>{pt.update(()=>{c&&CB(t,c)})}),p}function Ay(t,e,n={}){var r;const s=qp(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const l=s?()=>Promise.all(_P(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:x}=o;return Q8(t,e,g+p,v,x,n)}:()=>Promise.resolve(),{when:h}=o;if(h){const[p,g]=h==="beforeChildren"?[l,c]:[c,l];return p().then(()=>g())}else return Promise.all([l(),c(n.delay)])}function Q8(t,e,n=0,r=0,s=1,o){const l=[],c=(t.variantChildren.size-1)*r,h=s===1?(p=0)=>p*r:(p=0)=>c-p*r;return Array.from(t.variantChildren).sort(Y8).forEach((p,g)=>{p.notify("AnimationStart",e),l.push(Ay(p,e,{...o,delay:n+h(g)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(l)}function Y8(t,e){return t.sortNodePosition(e)}function X8(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(o=>Ay(t,o,n));r=Promise.all(s)}else if(typeof e=="string")r=Ay(t,e,n);else{const s=typeof e=="function"?qp(t,e,n.custom):e;r=Promise.all(_P(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const J8=dx.length;function EP(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?EP(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<J8;n++){const r=dx[n],s=t.props[r];(Ou(s)||s===!1)&&(e[r]=s)}return e}const Z8=[...ux].reverse(),ez=ux.length;function tz(t){return e=>Promise.all(e.map(({animation:n,options:r})=>X8(t,n,r)))}function nz(t){let e=tz(t),n=d1(),r=!0;const s=h=>(p,g)=>{var v;const x=qp(t,g,h==="exit"?(v=t.presenceContext)===null||v===void 0?void 0:v.custom:void 0);if(x){const{transition:b,transitionEnd:S,...C}=x;p={...p,...C,...S}}return p};function o(h){e=h(t)}function l(h){const{props:p}=t,g=EP(t.parent)||{},v=[],x=new Set;let b={},S=1/0;for(let I=0;I<ez;I++){const j=Z8[I],L=n[j],O=p[j]!==void 0?p[j]:g[j],$=Ou(O),z=j===h?L.isActive:null;z===!1&&(S=I);let q=O===g[j]&&O!==p[j]&&$;if(q&&r&&t.manuallyAnimateOnMount&&(q=!1),L.protectedKeys={...b},!L.isActive&&z===null||!O&&!L.prevProp||Hp(O)||typeof O=="boolean")continue;const R=rz(L.prevProp,O);let A=R||j===h&&L.isActive&&!q&&$||I>S&&$,D=!1;const V=Array.isArray(O)?O:[O];let B=V.reduce(s(j),{});z===!1&&(B={});const{prevResolvedValues:W={}}=L,P={...W,...B},te=Z=>{A=!0,x.has(Z)&&(D=!0,x.delete(Z)),L.needsAnimating[Z]=!0;const M=t.getValue(Z);M&&(M.liveStyle=!1)};for(const Z in P){const M=B[Z],Y=W[Z];if(b.hasOwnProperty(Z))continue;let K=!1;xy(M)&&xy(Y)?K=!MA(M,Y):K=M!==Y,K?M!=null?te(Z):x.add(Z):M!==void 0&&x.has(Z)?te(Z):L.protectedKeys[Z]=!0}L.prevProp=O,L.prevResolvedValues=B,L.isActive&&(b={...b,...B}),r&&t.blockInitialAnimation&&(A=!1),A&&(!(q&&R)||D)&&v.push(...V.map(Z=>({animation:Z,options:{type:j}})))}if(x.size){const I={};x.forEach(j=>{const L=t.getBaseTarget(j),O=t.getValue(j);O&&(O.liveStyle=!0),I[j]=L??null}),v.push({animation:I})}let C=!!v.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(C=!1),r=!1,C?e(v):Promise.resolve()}function c(h,p){var g;if(n[h].isActive===p)return Promise.resolve();(g=t.variantChildren)===null||g===void 0||g.forEach(x=>{var b;return(b=x.animationState)===null||b===void 0?void 0:b.setActive(h,p)}),n[h].isActive=p;const v=l(h);for(const x in n)n[x].protectedKeys={};return v}return{animateChanges:l,setActive:c,setAnimateFunction:o,getState:()=>n,reset:()=>{n=d1(),r=!0}}}function rz(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!MA(e,t):!1}function Fo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function d1(){return{animate:Fo(!0),whileInView:Fo(),whileHover:Fo(),whileTap:Fo(),whileDrag:Fo(),whileFocus:Fo(),exit:Fo()}}class lo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class sz extends lo{constructor(e){super(e),e.animationState||(e.animationState=nz(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Hp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let iz=0;class oz extends lo{constructor(){super(...arguments),this.id=iz++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const az={animation:{Feature:sz},exit:{Feature:oz}};function Uu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function yd(t){return{point:{x:t.pageX,y:t.pageY}}}const lz=t=>e=>Cx(e)&&t(e,yd(e));function vu(t,e,n,r){return Uu(t,e,lz(n),r)}const h1=(t,e)=>Math.abs(t-e);function cz(t,e){const n=h1(t.x,e.x),r=h1(t.y,e.y);return Math.sqrt(n**2+r**2)}class bP{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=lv(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,b=cz(v.offset,{x:0,y:0})>=3;if(!x&&!b)return;const{point:S}=v,{timestamp:C}=Zt;this.history.push({...S,timestamp:C});const{onStart:I,onMove:j}=this.handlers;x||(I&&I(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,v)},this.handlePointerMove=(v,x)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=av(x,this.transformPagePoint),pt.update(this.updatePoint,!0)},this.handlePointerUp=(v,x)=>{this.end();const{onEnd:b,onSessionEnd:S,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=lv(v.type==="pointercancel"?this.lastMoveEventInfo:av(x,this.transformPagePoint),this.history);this.startEvent&&b&&b(v,I),S&&S(v,I)},!Cx(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const l=yd(e),c=av(l,this.transformPagePoint),{point:h}=c,{timestamp:p}=Zt;this.history=[{...h,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,lv(c,this.history)),this.removeListeners=vd(vu(this.contextWindow,"pointermove",this.handlePointerMove),vu(this.contextWindow,"pointerup",this.handlePointerUp),vu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Qi(this.updatePoint)}}function av(t,e){return e?{point:e(t.point)}:t}function f1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function lv({point:t},e){return{point:t,delta:f1(t,TP(e)),offset:f1(t,uz(e)),velocity:dz(e,.1)}}function uz(t){return t[0]}function TP(t){return t[t.length-1]}function dz(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=TP(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Hs(e)));)n--;if(!r)return{x:0,y:0};const o=Ks(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const l={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const SP=1e-4,hz=1-SP,fz=1+SP,CP=.01,pz=0-CP,mz=0+CP;function Zn(t){return t.max-t.min}function gz(t,e,n){return Math.abs(t-e)<=n}function p1(t,e,n,r=.5){t.origin=r,t.originPoint=wt(e.min,e.max,t.origin),t.scale=Zn(n)/Zn(e),t.translate=wt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=hz&&t.scale<=fz||isNaN(t.scale))&&(t.scale=1),(t.translate>=pz&&t.translate<=mz||isNaN(t.translate))&&(t.translate=0)}function yu(t,e,n,r){p1(t.x,e.x,n.x,r?r.originX:void 0),p1(t.y,e.y,n.y,r?r.originY:void 0)}function m1(t,e,n){t.min=n.min+e.min,t.max=t.min+Zn(e)}function vz(t,e,n){m1(t.x,e.x,n.x),m1(t.y,e.y,n.y)}function g1(t,e,n){t.min=e.min-n.min,t.max=t.min+Zn(e)}function xu(t,e,n){g1(t.x,e.x,n.x),g1(t.y,e.y,n.y)}function yz(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?wt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?wt(n,t,r.max):Math.min(t,n)),t}function v1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function xz(t,{top:e,left:n,bottom:r,right:s}){return{x:v1(t.x,n,s),y:v1(t.y,e,r)}}function y1(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function wz(t,e){return{x:y1(t.x,e.x),y:y1(t.y,e.y)}}function _z(t,e){let n=.5;const r=Zn(t),s=Zn(e);return s>r?n=Vl(e.min,e.max-r,t.min):r>s&&(n=Vl(t.min,t.max-s,e.min)),ei(0,1,n)}function Ez(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Py=.35;function bz(t=Py){return t===!1?t=0:t===!0&&(t=Py),{x:x1(t,"left","right"),y:x1(t,"top","bottom")}}function x1(t,e,n){return{min:w1(t,e),max:w1(t,n)}}function w1(t,e){return typeof t=="number"?t:t[e]||0}const _1=()=>({translate:0,scale:1,origin:0,originPoint:0}),gl=()=>({x:_1(),y:_1()}),E1=()=>({min:0,max:0}),Ct=()=>({x:E1(),y:E1()});function dr(t){return[t("x"),t("y")]}function IP({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Tz({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Sz(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function cv(t){return t===void 0||t===1}function Ry({scale:t,scaleX:e,scaleY:n}){return!cv(t)||!cv(e)||!cv(n)}function Bo(t){return Ry(t)||NP(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function NP(t){return b1(t.x)||b1(t.y)}function b1(t){return t&&t!=="0%"}function ep(t,e,n){const r=t-n,s=e*r;return n+s}function T1(t,e,n,r,s){return s!==void 0&&(t=ep(t,s,r)),ep(t,n,r)+e}function ky(t,e=0,n=1,r,s){t.min=T1(t.min,e,n,r,s),t.max=T1(t.max,e,n,r,s)}function AP(t,{x:e,y:n}){ky(t.x,e.translate,e.scale,e.originPoint),ky(t.y,n.translate,n.scale,n.originPoint)}const S1=.999999999999,C1=1.0000000000001;function Cz(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let o,l;for(let c=0;c<s;c++){o=n[c],l=o.projectionDelta;const{visualElement:h}=o.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&yl(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,AP(t,l)),r&&Bo(o.latestValues)&&yl(t,o.latestValues))}e.x<C1&&e.x>S1&&(e.x=1),e.y<C1&&e.y>S1&&(e.y=1)}function vl(t,e){t.min=t.min+e,t.max=t.max+e}function I1(t,e,n,r,s=.5){const o=wt(t.min,t.max,s);ky(t,e,n,o,r)}function yl(t,e){I1(t.x,e.x,e.scaleX,e.scale,e.originX),I1(t.y,e.y,e.scaleY,e.scale,e.originY)}function PP(t,e){return IP(Sz(t.getBoundingClientRect(),e))}function Iz(t,e,n){const r=PP(t,n),{scroll:s}=e;return s&&(vl(r.x,s.offset.x),vl(r.y,s.offset.y)),r}const RP=({current:t})=>t?t.ownerDocument.defaultView:null,Nz=new WeakMap;class Az{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ct(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(yd(g).point)},o=(g,v)=>{const{drag:x,dragPropagation:b,onDragStart:S}=this.getProps();if(x&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=_B(x),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),dr(I=>{let j=this.getAxisMotionValue(I).get()||0;if(cs.test(j)){const{projection:L}=this.visualElement;if(L&&L.layout){const O=L.layout.layoutBox[I];O&&(j=Zn(O)*(parseFloat(j)/100))}}this.originPoint[I]=j}),S&&pt.postRender(()=>S(g,v)),Ey(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},l=(g,v)=>{const{dragPropagation:x,dragDirectionLock:b,onDirectionLock:S,onDrag:C}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:I}=v;if(b&&this.currentDirection===null){this.currentDirection=Pz(I),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",v.point,I),this.updateAxis("y",v.point,I),this.visualElement.render(),C&&C(g,v)},c=(g,v)=>this.stop(g,v),h=()=>dr(g=>{var v;return this.getAnimationState(g)==="paused"&&((v=this.getAxisMotionValue(g).animation)===null||v===void 0?void 0:v.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new bP(e,{onSessionStart:s,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:RP(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&pt.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Yh(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=yz(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&pl(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=xz(s.layoutBox,n):this.constraints=!1,this.elastic=bz(r),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&dr(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Ez(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!pl(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=Iz(r,s.root,this.visualElement.getTransformPagePoint());let l=wz(s.layout.layoutBox,o);if(n){const c=n(Tz(l));this.hasMutatedConstraints=!!c,c&&(l=IP(c))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),h=this.constraints||{},p=dr(g=>{if(!Yh(g,n,this.currentDirection))return;let v=h&&h[g]||{};l&&(v={min:0,max:0});const x=s?200:1e6,b=s?40:1e7,S={type:"inertia",velocity:r?e[g]:0,bounceStiffness:x,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...o,...v};return this.startAxisValueAnimation(g,S)});return Promise.all(p).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Ey(this.visualElement,e),r.start(Lx(e,r,0,n,this.visualElement,!1))}stopAnimation(){dr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){dr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){dr(n=>{const{drag:r}=this.getProps();if(!Yh(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:c}=s.layout.layoutBox[n];o.set(e[n]-wt(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!pl(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};dr(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const h=c.get();s[l]=_z({min:h,max:h},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),dr(l=>{if(!Yh(l,e,null))return;const c=this.getAxisMotionValue(l),{min:h,max:p}=this.constraints[l];c.set(wt(h,p,s[l]))})}addListeners(){if(!this.visualElement.current)return;Nz.set(this.visualElement,this);const e=this.visualElement.current,n=vu(e,"pointerdown",h=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();pl(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),pt.read(r);const l=Uu(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:p})=>{this.isDragging&&p&&(dr(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=h[g].translate,v.set(v.get()+h[g].translate))}),this.visualElement.render())}));return()=>{l(),n(),o(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:l=Py,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:l,dragMomentum:c}}}function Yh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Pz(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Rz extends lo{constructor(e){super(e),this.removeGroupControls=Xn,this.removeListeners=Xn,this.controls=new Az(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xn}unmount(){this.removeGroupControls(),this.removeListeners()}}const N1=t=>(e,n)=>{t&&pt.postRender(()=>t(e,n))};class kz extends lo{constructor(){super(...arguments),this.removePointerDownListener=Xn}onPointerDown(e){this.session=new bP(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:RP(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:N1(e),onStart:N1(n),onMove:r,onEnd:(o,l)=>{delete this.session,s&&pt.postRender(()=>s(o,l))}}}mount(){this.removePointerDownListener=vu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const xf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function A1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Qc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Oe.test(t))t=parseFloat(t);else return t;const n=A1(t,e.target.x),r=A1(t,e.target.y);return`${n}% ${r}%`}},jz={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Yi.parse(t);if(s.length>5)return r;const o=Yi.createTransformer(t),l=typeof s[0]!="number"?1:0,c=n.x.scale*e.x,h=n.y.scale*e.y;s[0+l]/=c,s[1+l]/=h;const p=wt(c,h,.5);return typeof s[2+l]=="number"&&(s[2+l]/=p),typeof s[3+l]=="number"&&(s[3+l]/=p),o(s)}};class Dz extends _.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=e;eB(Mz),o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),xf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,l=r.projection;return l&&(l.isPresent=o,s||e.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||pt.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),fx.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function kP(t){const[e,n]=m$(),r=_.useContext(pA);return u.jsx(Dz,{...t,layoutGroup:r,switchLayoutGroup:_.useContext(EA),isPresent:e,safeToRemove:n})}const Mz={borderRadius:{...Qc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Qc,borderTopRightRadius:Qc,borderBottomLeftRadius:Qc,borderBottomRightRadius:Qc,boxShadow:jz};function Oz(t,e,n){const r=fn(t)?t:Lu(t);return r.start(Lx("",r,e,n)),r.animation}function Vz(t){return t instanceof SVGElement&&t.tagName!=="svg"}const Lz=(t,e)=>t.depth-e.depth;class Fz{constructor(){this.children=[],this.isDirty=!1}add(e){Ix(this.children,e),this.isDirty=!0}remove(e){Nx(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Lz),this.isDirty=!1,this.children.forEach(e)}}function Uz(t,e){const n=us.now(),r=({timestamp:s})=>{const o=s-n;o>=e&&(Qi(r),t(o-e))};return pt.read(r,!0),()=>Qi(r)}const jP=["TopLeft","TopRight","BottomLeft","BottomRight"],$z=jP.length,P1=t=>typeof t=="string"?parseFloat(t):t,R1=t=>typeof t=="number"||Oe.test(t);function Bz(t,e,n,r,s,o){s?(t.opacity=wt(0,n.opacity!==void 0?n.opacity:1,zz(r)),t.opacityExit=wt(e.opacity!==void 0?e.opacity:1,0,Wz(r))):o&&(t.opacity=wt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let l=0;l<$z;l++){const c=`border${jP[l]}Radius`;let h=k1(e,c),p=k1(n,c);if(h===void 0&&p===void 0)continue;h||(h=0),p||(p=0),h===0||p===0||R1(h)===R1(p)?(t[c]=Math.max(wt(P1(h),P1(p),r),0),(cs.test(p)||cs.test(h))&&(t[c]+="%")):t[c]=p}(e.rotate||n.rotate)&&(t.rotate=wt(e.rotate||0,n.rotate||0,r))}function k1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const zz=DP(0,.5,JA),Wz=DP(.5,.95,Xn);function DP(t,e,n){return r=>r<t?0:r>e?1:n(Vl(t,e,r))}function j1(t,e){t.min=e.min,t.max=e.max}function ur(t,e){j1(t.x,e.x),j1(t.y,e.y)}function D1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function M1(t,e,n,r,s){return t-=e,t=ep(t,1/n,r),s!==void 0&&(t=ep(t,1/s,r)),t}function Hz(t,e=0,n=1,r=.5,s,o=t,l=t){if(cs.test(e)&&(e=parseFloat(e),e=wt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=wt(o.min,o.max,r);t===o&&(c-=e),t.min=M1(t.min,e,n,c,s),t.max=M1(t.max,e,n,c,s)}function O1(t,e,[n,r,s],o,l){Hz(t,e[n],e[r],e[s],e.scale,o,l)}const Kz=["x","scaleX","originX"],qz=["y","scaleY","originY"];function V1(t,e,n,r){O1(t.x,e,Kz,n?n.x:void 0,r?r.x:void 0),O1(t.y,e,qz,n?n.y:void 0,r?r.y:void 0)}function L1(t){return t.translate===0&&t.scale===1}function MP(t){return L1(t.x)&&L1(t.y)}function F1(t,e){return t.min===e.min&&t.max===e.max}function Gz(t,e){return F1(t.x,e.x)&&F1(t.y,e.y)}function U1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function OP(t,e){return U1(t.x,e.x)&&U1(t.y,e.y)}function $1(t){return Zn(t.x)/Zn(t.y)}function B1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Qz{constructor(){this.members=[]}add(e){Ix(this.members,e),e.scheduleRender()}remove(e){if(Nx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Yz(t,e,n){let r="";const s=t.x.translate/e.x,o=t.y.translate/e.y,l=n?.z||0;if((s||o||l)&&(r=`translate3d(${s}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:v,rotateY:x,skewX:b,skewY:S}=n;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),v&&(r+=`rotateX(${v}deg) `),x&&(r+=`rotateY(${x}deg) `),b&&(r+=`skewX(${b}deg) `),S&&(r+=`skewY(${S}deg) `)}const c=t.x.scale*e.x,h=t.y.scale*e.y;return(c!==1||h!==1)&&(r+=`scale(${c}, ${h})`),r||"none"}const zo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},ou=typeof window<"u"&&window.MotionDebug!==void 0,uv=["","X","Y","Z"],Xz={visibility:"hidden"},z1=1e3;let Jz=0;function dv(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function VP(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=HA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",pt,!(s||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&VP(r)}function LP({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},c=e?.()){this.id=Jz++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ou&&(zo.totalNodes=zo.resolvedTargetDeltas=zo.recalculatedProjection=0),this.nodes.forEach(t7),this.nodes.forEach(o7),this.nodes.forEach(a7),this.nodes.forEach(n7),ou&&window.MotionDebug.record(zo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new Fz)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Ax),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const h=this.eventHandlers.get(l);h&&h.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Vz(l),this.instance=l;const{layoutId:h,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(p||h)&&(this.isLayoutDirty=!0),t){let v;const x=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=Uz(x,250),xf.hasAnimatedSinceResize&&(xf.hasAnimatedSinceResize=!1,this.nodes.forEach(H1))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&g&&(h||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:x,hasRelativeTargetChanged:b,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||g.getDefaultTransition()||h7,{onLayoutAnimationStart:I,onLayoutAnimationComplete:j}=g.getProps(),L=!this.targetLayout||!OP(this.targetLayout,S)||b,O=!x&&b;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||O||x&&(L||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,O);const $={...bx(C,"layout"),onPlay:I,onComplete:j};(g.shouldReduceMotion||this.options.layoutRoot)&&($.delay=0,$.type=!1),this.startAnimation($)}else x||H1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Qi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(l7),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&VP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:c,layout:h}=this.options;if(c===void 0&&!h)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(W1);return}this.isUpdating||this.nodes.forEach(s7),this.isUpdating=!1,this.nodes.forEach(i7),this.nodes.forEach(Zz),this.nodes.forEach(e7),this.clearAllSnapshots();const c=us.now();Zt.delta=ei(0,1e3/60,c-Zt.timestamp),Zt.timestamp=c,Zt.isProcessing=!0,tv.update.process(Zt),tv.preRender.process(Zt),tv.render.process(Zt),Zt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,fx.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(r7),this.sharedNodes.forEach(c7)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,pt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){pt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ct(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!MP(this.projectionDelta),h=this.getTransformTemplate(),p=h?h(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;l&&(c||Bo(this.latestValues)||g)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let h=this.removeElementScroll(c);return l&&(h=this.removeTransform(h)),f7(h),{animationId:this.root.animationId,measuredBox:c,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:c}=this.options;if(!c)return Ct();const h=c.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(p7))){const{scroll:g}=this.root;g&&(vl(h.x,g.offset.x),vl(h.y,g.offset.y))}return h}removeElementScroll(l){var c;const h=Ct();if(ur(h,l),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return h;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:v,options:x}=g;g!==this.root&&v&&x.layoutScroll&&(v.wasRoot&&ur(h,l),vl(h.x,v.offset.x),vl(h.y,v.offset.y))}return h}applyTransform(l,c=!1){const h=Ct();ur(h,l);for(let p=0;p<this.path.length;p++){const g=this.path[p];!c&&g.options.layoutScroll&&g.scroll&&g!==g.root&&yl(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Bo(g.latestValues)&&yl(h,g.latestValues)}return Bo(this.latestValues)&&yl(h,this.latestValues),h}removeTransform(l){const c=Ct();ur(c,l);for(let h=0;h<this.path.length;h++){const p=this.path[h];if(!p.instance||!Bo(p.latestValues))continue;Ry(p.latestValues)&&p.updateSnapshot();const g=Ct(),v=p.measurePageBox();ur(g,v),V1(c,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Bo(this.latestValues)&&V1(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Zt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var c;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==h;if(!(l||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:x}=this.options;if(!(!this.layout||!(v||x))){if(this.resolvedRelativeTargetAt=Zt.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),xu(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),ur(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ct(),this.targetWithTransforms=Ct()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),vz(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ur(this.target,this.layout.layoutBox),AP(this.target,this.targetDelta)):ur(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),xu(this.relativeTargetOrigin,this.target,b.target),ur(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ou&&zo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Ry(this.parent.latestValues)||NP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(p=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Zt.timestamp&&(p=!1),p)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;ur(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,b=this.treeScale.y;Cz(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Ct());const{target:S}=c;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(D1(this.prevProjectionDelta.x,this.projectionDelta.x),D1(this.prevProjectionDelta.y,this.projectionDelta.y)),yu(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==b||!B1(this.projectionDelta.x,this.prevProjectionDelta.x)||!B1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S)),ou&&zo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=gl(),this.projectionDelta=gl(),this.projectionDeltaWithTransform=gl()}setAnimationOrigin(l,c=!1){const h=this.snapshot,p=h?h.latestValues:{},g={...this.latestValues},v=gl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const x=Ct(),b=h?h.source:void 0,S=this.layout?this.layout.source:void 0,C=b!==S,I=this.getStack(),j=!I||I.members.length<=1,L=!!(C&&!j&&this.options.crossfade===!0&&!this.path.some(d7));this.animationProgress=0;let O;this.mixTargetDelta=$=>{const z=$/1e3;K1(v.x,l.x,z),K1(v.y,l.y,z),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xu(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),u7(this.relativeTarget,this.relativeTargetOrigin,x,z),O&&Gz(this.relativeTarget,O)&&(this.isProjectionDirty=!1),O||(O=Ct()),ur(O,this.relativeTarget)),C&&(this.animationValues=g,Bz(g,p,this.latestValues,z,L,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Qi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=pt.update(()=>{xf.hasAnimatedSinceResize=!0,this.currentAnimation=Oz(0,z1,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(z1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:h,layout:p,latestValues:g}=l;if(!(!c||!h||!p)){if(this!==l&&this.layout&&p&&FP(this.options.animationType,this.layout.layoutBox,p.layoutBox)){h=this.target||Ct();const v=Zn(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+v;const x=Zn(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+x}ur(c,h),yl(c,g),yu(this.projectionDeltaWithTransform,this.layoutCorrected,c,g)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new Qz),this.sharedNodes.get(l).add(c);const p=c.options.initialPromotionConfig;c.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:c}=this.options;return c?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:c}=this.options;return c?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:h}={}){const p=this.getStack();p&&p.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(c=!0),!c)return;const p={};h.z&&dv("z",l,p,this.animationValues);for(let g=0;g<uv.length;g++)dv(`rotate${uv[g]}`,l,p,this.animationValues),dv(`skew${uv[g]}`,l,p,this.animationValues);l.render();for(const g in p)l.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);l.scheduleRender()}getProjectionStyles(l){var c,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Xz;const p={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=vf(l?.pointerEvents)||"",p.transform=g?g(this.latestValues,""):"none",p;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const C={};return this.options.layoutId&&(C.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,C.pointerEvents=vf(l?.pointerEvents)||""),this.hasProjected&&!Bo(this.latestValues)&&(C.transform=g?g({},""):"none",this.hasProjected=!1),C}const x=v.animationValues||v.latestValues;this.applyTransformsToTarget(),p.transform=Yz(this.projectionDeltaWithTransform,this.treeScale,x),g&&(p.transform=g(x,p.transform));const{x:b,y:S}=this.projectionDelta;p.transformOrigin=`${b.origin*100}% ${S.origin*100}% 0`,v.animationValues?p.opacity=v===this?(h=(c=x.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:p.opacity=v===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const C in Qf){if(x[C]===void 0)continue;const{correct:I,applyTo:j}=Qf[C],L=p.transform==="none"?x[C]:I(x[C],v);if(j){const O=j.length;for(let $=0;$<O;$++)p[j[$]]=L}else p[C]=L}return this.options.layoutId&&(p.pointerEvents=v===this?vf(l?.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(W1),this.root.sharedNodes.clear()}}}function Zz(t){t.updateLayout()}function e7(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:o}=t.options,l=n.source!==t.layout.source;o==="size"?dr(v=>{const x=l?n.measuredBox[v]:n.layoutBox[v],b=Zn(x);x.min=r[v].min,x.max=x.min+b}):FP(o,n.layoutBox,r)&&dr(v=>{const x=l?n.measuredBox[v]:n.layoutBox[v],b=Zn(r[v]);x.max=x.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+b)});const c=gl();yu(c,r,n.layoutBox);const h=gl();l?yu(h,t.applyTransform(s,!0),n.measuredBox):yu(h,r,n.layoutBox);const p=!MP(c);let g=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:x,layout:b}=v;if(x&&b){const S=Ct();xu(S,n.layoutBox,x.layoutBox);const C=Ct();xu(C,r,b.layoutBox),OP(S,C)||(g=!0),v.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=S,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:h,layoutDelta:c,hasLayoutChanged:p,hasRelativeTargetChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function t7(t){ou&&zo.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function n7(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function r7(t){t.clearSnapshot()}function W1(t){t.clearMeasurements()}function s7(t){t.isLayoutDirty=!1}function i7(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function H1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function o7(t){t.resolveTargetDelta()}function a7(t){t.calcProjection()}function l7(t){t.resetSkewAndRotation()}function c7(t){t.removeLeadSnapshot()}function K1(t,e,n){t.translate=wt(e.translate,0,n),t.scale=wt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function q1(t,e,n,r){t.min=wt(e.min,n.min,r),t.max=wt(e.max,n.max,r)}function u7(t,e,n,r){q1(t.x,e.x,n.x,r),q1(t.y,e.y,n.y,r)}function d7(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const h7={duration:.45,ease:[.4,0,.1,1]},G1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Q1=G1("applewebkit/")&&!G1("chrome/")?Math.round:Xn;function Y1(t){t.min=Q1(t.min),t.max=Q1(t.max)}function f7(t){Y1(t.x),Y1(t.y)}function FP(t,e,n){return t==="position"||t==="preserve-aspect"&&!gz($1(e),$1(n),.2)}function p7(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const m7=LP({attachResizeListener:(t,e)=>Uu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),hv={current:void 0},UP=LP({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!hv.current){const t=new m7({});t.mount(window),t.setOptions({layoutScroll:!0}),hv.current=t}return hv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),g7={pan:{Feature:kz},drag:{Feature:Rz,ProjectionNode:UP,MeasureLayout:kP}};function X1(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,o=r[s];o&&pt.postRender(()=>o(e,yd(e)))}class v7 extends lo{mount(){const{current:e}=this.node;e&&(this.unmount=gB(e,n=>(X1(this.node,n,"Start"),r=>X1(this.node,r,"End"))))}unmount(){}}class y7 extends lo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=vd(Uu(this.node.current,"focus",()=>this.onFocus()),Uu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function J1(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),o=r[s];o&&pt.postRender(()=>o(e,yd(e)))}class x7 extends lo{mount(){const{current:e}=this.node;e&&(this.unmount=wB(e,n=>(J1(this.node,n,"Start"),(r,{success:s})=>J1(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const jy=new WeakMap,fv=new WeakMap,w7=t=>{const e=jy.get(t.target);e&&e(t)},_7=t=>{t.forEach(w7)};function E7({root:t,...e}){const n=t||document;fv.has(n)||fv.set(n,{});const r=fv.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(_7,{root:t,...e})),r[s]}function b7(t,e,n){const r=E7(e);return jy.set(t,n),r.observe(t),()=>{jy.delete(t),r.unobserve(t)}}const T7={some:0,all:1};class S7 extends lo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:T7[s]},c=h=>{const{isIntersecting:p}=h;if(this.isInView===p||(this.isInView=p,o&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),x=p?g:v;x&&x(h)};return b7(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(C7(e,n))&&this.startObserver()}unmount(){}}function C7({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const I7={inView:{Feature:S7},tap:{Feature:x7},focus:{Feature:y7},hover:{Feature:v7}},N7={layout:{ProjectionNode:UP,MeasureLayout:kP}},Dy={current:null},$P={current:!1};function A7(){if($P.current=!0,!!lx)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Dy.current=t.matches;t.addListener(e),e()}else Dy.current=!1}const P7=[...hP,un,Yi],R7=t=>P7.find(dP(t)),Z1=new WeakMap;function k7(t,e,n){for(const r in e){const s=e[r],o=n[r];if(fn(s))t.addValue(r,s);else if(fn(o))t.addValue(r,Lu(s,{owner:t}));else if(o!==s)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(r);t.addValue(r,Lu(l!==void 0?l:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const eS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class j7{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:o,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Mx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=us.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,pt.render(this.render,!1,!0))};const{latestValues:h,renderState:p,onUpdate:g}=l;this.onUpdate=g,this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=Kp(n),this.isVariantNode=wA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...x}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in x){const S=x[b];h[b]!==void 0&&fn(S)&&S.set(h[b],!1)}}mount(e){this.current=e,Z1.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),$P.current||A7(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Dy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Z1.delete(this.current),this.projection&&this.projection.unmount(),Qi(this.notifyUpdate),Qi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=da.has(e),s=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&pt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ll){const n=Ll[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ct()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<eS.length;r++){const s=eS[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,l=e[o];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=k7(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Lu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(cP(s)||eP(s))?s=parseFloat(s):!R7(s)&&Yi.test(n)&&(s=oP(e,n)),this.setBaseTarget(e,fn(s)?s.get():s)),fn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const l=mx(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);l&&(s=l[e])}if(r&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!fn(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Ax),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class BP extends j7{constructor(){super(...arguments),this.KeyframeResolver=fP}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;fn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function D7(t){return window.getComputedStyle(t)}class M7 extends BP{constructor(){super(...arguments),this.type="html",this.renderInstance=AA}readValueFromInstance(e,n){if(da.has(n)){const r=Dx(n);return r&&r.default||0}else{const r=D7(e),s=(CA(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return PP(e,n)}build(e,n,r){yx(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Ex(e,n,r)}}class O7 extends BP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ct}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(da.has(n)){const r=Dx(n);return r&&r.default||0}return n=PA.has(n)?n:hx(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return jA(e,n,r)}build(e,n,r){xx(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){RA(e,n,r,s)}mount(e){this.isSVGTag=_x(e.tagName),super.mount(e)}}const V7=(t,e)=>px(t)?new O7(e):new M7(e,{allowProjection:t!==_.Fragment}),L7=cB({...az,...I7,...g7,...N7},V7),wf=T$(L7),rt=_.forwardRef(({className:t,type:e,...n},r)=>u.jsx("input",{type:e,className:Ue("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));rt.displayName="Input";const Qp=_.forwardRef(({className:t,...e},n)=>u.jsx("textarea",{className:Ue("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));Qp.displayName="Textarea";var F7="Label",zP=_.forwardRef((t,e)=>u.jsx(He.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));zP.displayName=F7;var WP=zP;const U7=fd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ze=_.forwardRef(({className:t,...e},n)=>u.jsx(WP,{ref:n,className:Ue(U7(),t),...e}));Ze.displayName=WP.displayName;function tp({className:t,size:e="auto",variant:n="image",...r}){const s={sm:"h-10 w-32",md:"h-14 w-48",lg:"h-16 w-52",xl:"h-18 w-56",sidebar:"h-14 w-48",auto:"h-14 w-48"};return u.jsx("div",{className:Ue("flex items-center",t),...r,children:u.jsx("img",{src:"/logo.png",alt:"Cosmivity Logo",className:Ue("transition-transform group-hover:scale-105 select-none object-cover object-center scale-150",s[e])})})}const ol=({children:t,className:e,id:n})=>u.jsx("section",{id:n,className:`py-12 md:py-20 ${e||""}`,children:u.jsx("div",{className:"container mx-auto px-4",children:t})}),Yc=({children:t,subtitle:e})=>u.jsxs("div",{className:"text-center mb-10",children:[u.jsx("p",{className:"text-sm text-muted-foreground uppercase tracking-wider",children:e}),u.jsx("h2",{className:"text-3xl md:text-4xl font-bold font-headline",children:t})]}),es=({href:t,children:e,onClick:n})=>u.jsx("a",{href:t,className:"text-muted-foreground hover:text-foreground transition-colors",onClick:n,children:e});function $7(){const[t,e]=_.useState(!1);return u.jsxs("main",{className:"relative min-h-screen bg-background text-foreground",children:[u.jsx(fA,{starDensity:1e-4,allStarsTwinkle:!1,twinkleProbability:.2}),u.jsx("header",{className:"sticky top-0 z-50 bg-background/80 backdrop-blur-sm border-b",children:u.jsxs("div",{className:"container mx-auto px-4",children:[u.jsxs("nav",{className:"flex justify-between items-center h-16",children:[u.jsx("div",{className:"py-1 overflow-hidden",children:u.jsx(tp,{size:"md",className:"drop-shadow-sm"})}),u.jsxs("div",{className:"hidden md:flex items-center gap-8",children:[u.jsx(es,{href:"#home",children:"Home"}),u.jsx(es,{href:"#portfolio",children:"Portfolio"}),u.jsx(es,{href:"#about",children:"About me"}),u.jsx(es,{href:"#testimonials",children:"Testimonials"}),u.jsx(es,{href:"#contact",children:"Contact Me"})]}),u.jsx("div",{className:"hidden md:block",children:u.jsx(ge,{asChild:!0,children:u.jsx(is,{to:"/auth",children:"Get Started"})})}),u.jsx("div",{className:"md:hidden",children:u.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>e(!t),children:t?u.jsx(zp,{}):u.jsx(YN,{})})})]}),t&&u.jsx("div",{className:"md:hidden pb-4",children:u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[u.jsx(es,{href:"#home",onClick:()=>e(!1),children:"Home"}),u.jsx(es,{href:"#portfolio",onClick:()=>e(!1),children:"Portfolio"}),u.jsx(es,{href:"#about",onClick:()=>e(!1),children:"About me"}),u.jsx(es,{href:"#testimonials",onClick:()=>e(!1),children:"Testimonials"}),u.jsx(es,{href:"#contact",onClick:()=>e(!1),children:"Contact Me"}),u.jsx(ge,{asChild:!0,children:u.jsx(is,{to:"/auth",children:"Get Started"})})]})})]})}),u.jsx(ol,{className:"flex items-center text-left min-h-[calc(100vh-64px)]",id:"home",children:u.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[u.jsxs(wf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"z-10",children:[u.jsx("h1",{className:"text-4xl font-bold tracking-tight text-foreground sm:text-6xl font-headline",children:"Hey, I am John"}),u.jsx("p",{className:"mt-4 text-2xl text-primary font-semibold",children:"I create product design and brand experience"}),u.jsx("p",{className:"mt-6 text-lg leading-8 text-muted-foreground",children:"A passionate developer creating modern and responsive web applications that users love."}),u.jsx("div",{className:"mt-10 flex items-center justify-start gap-x-6",children:u.jsx(ge,{asChild:!0,size:"lg",children:u.jsx(is,{to:"/auth",children:"Get Started"})})})]}),u.jsx("div",{children:u.jsx("img",{src:"https://placehold.co/800x600",alt:"Hero Image",width:800,height:600,className:"rounded-lg shadow-lg"})})]})}),u.jsxs(ol,{className:"bg-muted/50",id:"skills",children:[u.jsx(Yc,{subtitle:"My Expertise",children:"My Skills"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[u.jsxs("div",{className:"text-center p-6 bg-card rounded-lg shadow-md border",children:[u.jsx("img",{src:"https://placehold.co/64x64",alt:"Strategy Icon",width:64,height:64,className:"mx-auto mb-4"}),u.jsx("h3",{className:"text-xl font-bold mb-2",children:"Strategy & Direction"}),u.jsx("p",{className:"text-muted-foreground",children:"Defining project goals and roadmap for success."})]}),u.jsxs("div",{className:"text-center p-6 bg-card rounded-lg shadow-md border",children:[u.jsx("img",{src:"https://placehold.co/64x64",alt:"Branding Icon",width:64,height:64,className:"mx-auto mb-4"}),u.jsx("h3",{className:"text-xl font-bold mb-2",children:"Branding & Logo"}),u.jsx("p",{className:"text-muted-foreground",children:"Creating memorable and impactful brand identities."})]}),u.jsxs("div",{className:"text-center p-6 bg-card rounded-lg shadow-md border",children:[u.jsx("img",{src:"https://placehold.co/64x64",alt:"UI/UX Icon",width:64,height:64,className:"mx-auto mb-4"}),u.jsx("h3",{className:"text-xl font-bold mb-2",children:"UI & UX Design"}),u.jsx("p",{className:"text-muted-foreground",children:"Designing intuitive and engaging user interfaces."})]}),u.jsxs("div",{className:"text-center p-6 bg-card rounded-lg shadow-md border",children:[u.jsx("img",{src:"https://placehold.co/64x64",alt:"Development Icon",width:64,height:64,className:"mx-auto mb-4"}),u.jsx("h3",{className:"text-xl font-bold mb-2",children:"Webflow Development"}),u.jsx("p",{className:"text-muted-foreground",children:"Building robust and scalable applications."})]})]})]}),u.jsx(ol,{id:"about",children:u.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[u.jsx("div",{children:u.jsx("img",{src:"https://placehold.co/400x600",alt:"About me",width:400,height:600,className:"rounded-lg shadow-lg mx-auto"})}),u.jsxs("div",{children:[u.jsx(Yc,{subtitle:"Who I Am",children:"About Me"}),u.jsx("p",{className:"text-muted-foreground mb-4 text-lg",children:"I am a dedicated software developer with a passion for crafting beautiful and functional user experiences. With a background in computer science and several years of hands-on experience, I specialize in front-end technologies and love bringing ideas to life in the browser."}),u.jsx("p",{className:"text-muted-foreground mb-4 text-lg",children:"When I'm not coding, I enjoy exploring new technologies, contributing to open-source projects, and hiking in the great outdoors."}),u.jsx(ge,{children:"Download CV"})]})]})}),u.jsxs(ol,{className:"bg-muted/50",id:"portfolio",children:[u.jsx(Yc,{subtitle:"My Portfolio",children:"Recent Projects"}),u.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"bg-card rounded-lg shadow-md overflow-hidden group",children:[u.jsx("img",{src:"https://placehold.co/400x300",alt:"Project 1",width:400,height:300,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform"}),u.jsxs("div",{className:"p-6",children:[u.jsx("h3",{className:"text-xl font-bold mb-2",children:"Ahuse - A Creative Agency"}),u.jsx("p",{className:"text-muted-foreground mb-4",children:"A modern landing page for a creative agency."}),u.jsx(ge,{variant:"link",className:"p-0 h-auto",children:"View in Dribbble"})]})]}),u.jsxs("div",{className:"bg-card rounded-lg shadow-md overflow-hidden group",children:[u.jsx("img",{src:"https://placehold.co/400x300",alt:"Project 2",width:400,height:300,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform"}),u.jsxs("div",{className:"p-6",children:[u.jsx("h3",{className:"text-xl font-bold mb-2",children:"App Dashboard"}),u.jsx("p",{className:"text-muted-foreground mb-4",children:"An analytics dashboard for a mobile application."}),u.jsx(ge,{variant:"link",className:"p-0 h-auto",children:"View in Dribbble"})]})]}),u.jsxs("div",{className:"bg-card rounded-lg shadow-md overflow-hidden group",children:[u.jsx("img",{src:"https://placehold.co/400x300",alt:"Project 3",width:400,height:300,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform"}),u.jsxs("div",{className:"p-6",children:[u.jsx("h3",{className:"text-xl font-bold mb-2",children:"Personal Portfolio"}),u.jsx("p",{className:"text-muted-foreground mb-4",children:"My personal portfolio to showcase my work."}),u.jsx(ge,{variant:"link",className:"p-0 h-auto",children:"View in Dribbble"})]})]})]})]}),u.jsxs(ol,{id:"testimonials",children:[u.jsx(Yc,{subtitle:"Customer testimonials",children:"Clients Feedback"}),u.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"bg-card p-6 rounded-lg shadow-md",children:[u.jsxs("div",{className:"flex items-center mb-4",children:[u.jsx("img",{src:"https://placehold.co/48x48",alt:"Dianne Russell",width:48,height:48,className:"rounded-full mr-4"}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold",children:"Dianne Russell"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Starbucks"})]})]}),u.jsx("p",{className:"text-muted-foreground",children:'"An exceptional developer who delivered outstanding results on our project. The attention to detail and commitment to quality were evident throughout the process."'})]}),u.jsxs("div",{className:"bg-card p-6 rounded-lg shadow-md",children:[u.jsxs("div",{className:"flex items-center mb-4",children:[u.jsx("img",{src:"https://placehold.co/48x48",alt:"Kristin Watson",width:48,height:48,className:"rounded-full mr-4"}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold",children:"Kristin Watson"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Louis Vuitton"})]})]}),u.jsx("p",{className:"text-muted-foreground",children:'"A true professional with a keen eye for detail. The final product exceeded our expectations. Highly recommended for any development work."'})]}),u.jsxs("div",{className:"bg-card p-6 rounded-lg shadow-md",children:[u.jsxs("div",{className:"flex items-center mb-4",children:[u.jsx("img",{src:"https://placehold.co/48x48",alt:"Kathryn Murphy",width:48,height:48,className:"rounded-full mr-4"}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold",children:"Kathryn Murphy"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"McDonald's"})]})]}),u.jsx("p",{className:"text-muted-foreground",children:'"Working with them was a pleasure from start to finish. The quality of their work is excellent and they are very collaborative."'})]})]})]}),u.jsxs(ol,{className:"bg-muted/50",id:"contact",children:[u.jsx(Yc,{subtitle:"Contact me",children:"Get In Touch"}),u.jsx("div",{className:"max-w-2xl mx-auto",children:u.jsxs("form",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ze,{htmlFor:"first-name",children:"First Name"}),u.jsx(rt,{id:"first-name",placeholder:"Enter your first name"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ze,{htmlFor:"last-name",children:"Last Name"}),u.jsx(rt,{id:"last-name",placeholder:"Enter your last name"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ze,{htmlFor:"email",children:"Email"}),u.jsx(rt,{id:"email",type:"email",placeholder:"Enter your email"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ze,{htmlFor:"phone",children:"Phone Number"}),u.jsx(rt,{id:"phone",type:"tel",placeholder:"Enter your phone number"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ze,{htmlFor:"topic",children:"Choose a topic"}),u.jsx(rt,{id:"topic",placeholder:"e.g., Project Inquiry"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ze,{htmlFor:"message",children:"Message"}),u.jsx(Qp,{id:"message",placeholder:"Type your message here.",rows:5})]}),u.jsx("div",{className:"text-center",children:u.jsx(ge,{type:"submit",size:"lg",children:"Submit"})})]})})]}),u.jsx("footer",{className:"bg-card border-t",children:u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-6",children:[u.jsx("div",{className:"flex items-center h-16",children:u.jsx(tp,{})}),u.jsxs("nav",{className:"flex gap-6 flex-wrap justify-center",children:[u.jsx("a",{href:"#home",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Home"}),u.jsx("a",{href:"#portfolio",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Portfolio"}),u.jsx("a",{href:"#about",className:"text-muted-foreground hover:text-foreground transition-colors",children:"About me"}),u.jsx("a",{href:"#contact",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Contact"}),u.jsx("a",{href:"#testimonials",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Testimonials"})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary",children:u.jsx(SU,{})}),u.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary",children:u.jsx(kU,{})}),u.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary",children:u.jsx(_U,{})}),u.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary",children:u.jsx(QN,{})})]})]}),u.jsxs("div",{className:"border-t pt-6 text-sm text-muted-foreground flex flex-col md:flex-row justify-between items-center gap-4",children:[u.jsx("p",{children:"© 2024 Made with ❤️ by Airdokan"}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("a",{href:"#",className:"hover:text-foreground",children:"Privacy Policy"}),u.jsx("a",{href:"#",className:"hover:text-foreground",children:"Terms of Service"}),u.jsx("a",{href:"#",className:"hover:text-foreground",children:"Cookies Settings"})]})]})]})})]})}const tt=_.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:Ue("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));tt.displayName="Card";const B7=_.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:Ue("flex flex-col space-y-1.5 p-6",t),...e}));B7.displayName="CardHeader";const z7=_.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:Ue("text-2xl font-semibold leading-none tracking-tight",t),...e}));z7.displayName="CardTitle";const W7=_.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:Ue("text-sm text-muted-foreground",t),...e}));W7.displayName="CardDescription";const H7=_.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:Ue("p-6 pt-0",t),...e}));H7.displayName="CardContent";const K7=_.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:Ue("flex items-center p-6 pt-0",t),...e}));K7.displayName="CardFooter";var q7="Separator",tS="horizontal",G7=["horizontal","vertical"],HP=_.forwardRef((t,e)=>{const{decorative:n,orientation:r=tS,...s}=t,o=Q7(r)?r:tS,c=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return u.jsx(He.div,{"data-orientation":o,...c,...s,ref:e})});HP.displayName=q7;function Q7(t){return G7.includes(t)}var KP=HP;const qP=_.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>u.jsx(KP,{ref:s,decorative:n,orientation:e,className:Ue("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));qP.displayName=KP.displayName;var Y7=IS.useId||(()=>{}),X7=0;function Xo(t){const[e,n]=_.useState(Y7());return ms(()=>{n(r=>r??String(X7++))},[t]),e?`radix-${e}`:""}var J7=_.createContext(void 0);function Fx(t){const e=_.useContext(J7);return t||e||"ltr"}var pv="rovingFocusGroup.onEntryFocus",Z7={bubbles:!1,cancelable:!0},Yp="RovingFocusGroup",[My,GP,eW]=X0(Yp),[tW,Xp]=xs(Yp,[eW]),[nW,rW]=tW(Yp),QP=_.forwardRef((t,e)=>u.jsx(My.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx(My.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(sW,{...t,ref:e})})}));QP.displayName=Yp;var sW=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:h,onEntryFocus:p,preventScrollOnEntryFocus:g=!1,...v}=t,x=_.useRef(null),b=$t(e,x),S=Fx(o),[C=null,I]=hd({prop:l,defaultProp:c,onChange:h}),[j,L]=_.useState(!1),O=gn(p),$=GP(n),z=_.useRef(!1),[q,R]=_.useState(0);return _.useEffect(()=>{const A=x.current;if(A)return A.addEventListener(pv,O),()=>A.removeEventListener(pv,O)},[O]),u.jsx(nW,{scope:n,orientation:r,dir:S,loop:s,currentTabStopId:C,onItemFocus:_.useCallback(A=>I(A),[I]),onItemShiftTab:_.useCallback(()=>L(!0),[]),onFocusableItemAdd:_.useCallback(()=>R(A=>A+1),[]),onFocusableItemRemove:_.useCallback(()=>R(A=>A-1),[]),children:u.jsx(He.div,{tabIndex:j||q===0?-1:0,"data-orientation":r,...v,ref:b,style:{outline:"none",...t.style},onMouseDown:Me(t.onMouseDown,()=>{z.current=!0}),onFocus:Me(t.onFocus,A=>{const D=!z.current;if(A.target===A.currentTarget&&D&&!j){const V=new CustomEvent(pv,Z7);if(A.currentTarget.dispatchEvent(V),!V.defaultPrevented){const B=$().filter(ae=>ae.focusable),W=B.find(ae=>ae.active),P=B.find(ae=>ae.id===C),ue=[W,P,...B].filter(Boolean).map(ae=>ae.ref.current);JP(ue,g)}}z.current=!1}),onBlur:Me(t.onBlur,()=>L(!1))})})}),YP="RovingFocusGroupItem",XP=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,...l}=t,c=Xo(),h=o||c,p=rW(YP,n),g=p.currentTabStopId===h,v=GP(n),{onFocusableItemAdd:x,onFocusableItemRemove:b}=p;return _.useEffect(()=>{if(r)return x(),()=>b()},[r,x,b]),u.jsx(My.ItemSlot,{scope:n,id:h,focusable:r,active:s,children:u.jsx(He.span,{tabIndex:g?0:-1,"data-orientation":p.orientation,...l,ref:e,onMouseDown:Me(t.onMouseDown,S=>{r?p.onItemFocus(h):S.preventDefault()}),onFocus:Me(t.onFocus,()=>p.onItemFocus(h)),onKeyDown:Me(t.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){p.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const C=aW(S,p.orientation,p.dir);if(C!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let j=v().filter(L=>L.focusable).map(L=>L.ref.current);if(C==="last")j.reverse();else if(C==="prev"||C==="next"){C==="prev"&&j.reverse();const L=j.indexOf(S.currentTarget);j=p.loop?lW(j,L+1):j.slice(L+1)}setTimeout(()=>JP(j))}})})})});XP.displayName=YP;var iW={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function oW(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function aW(t,e,n){const r=oW(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return iW[r]}function JP(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function lW(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var ZP=QP,eR=XP,Ux="Tabs",[cW,KG]=xs(Ux,[Xp]),tR=Xp(),[uW,$x]=cW(Ux),nR=_.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:l="horizontal",dir:c,activationMode:h="automatic",...p}=t,g=Fx(c),[v,x]=hd({prop:r,onChange:s,defaultProp:o});return u.jsx(uW,{scope:n,baseId:Xo(),value:v,onValueChange:x,orientation:l,dir:g,activationMode:h,children:u.jsx(He.div,{dir:g,"data-orientation":l,...p,ref:e})})});nR.displayName=Ux;var rR="TabsList",sR=_.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,o=$x(rR,n),l=tR(n);return u.jsx(ZP,{asChild:!0,...l,orientation:o.orientation,dir:o.dir,loop:r,children:u.jsx(He.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:e})})});sR.displayName=rR;var iR="TabsTrigger",oR=_.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=t,l=$x(iR,n),c=tR(n),h=cR(l.baseId,r),p=uR(l.baseId,r),g=r===l.value;return u.jsx(eR,{asChild:!0,...c,focusable:!s,active:g,children:u.jsx(He.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":p,"data-state":g?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:h,...o,ref:e,onMouseDown:Me(t.onMouseDown,v=>{!s&&v.button===0&&v.ctrlKey===!1?l.onValueChange(r):v.preventDefault()}),onKeyDown:Me(t.onKeyDown,v=>{[" ","Enter"].includes(v.key)&&l.onValueChange(r)}),onFocus:Me(t.onFocus,()=>{const v=l.activationMode!=="manual";!g&&!s&&v&&l.onValueChange(r)})})})});oR.displayName=iR;var aR="TabsContent",lR=_.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...l}=t,c=$x(aR,n),h=cR(c.baseId,r),p=uR(c.baseId,r),g=r===c.value,v=_.useRef(g);return _.useEffect(()=>{const x=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(x)},[]),u.jsx(ws,{present:s||g,children:({present:x})=>u.jsx(He.div,{"data-state":g?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":h,hidden:!x,id:p,tabIndex:0,...l,ref:e,style:{...t.style,animationDuration:v.current?"0s":void 0},children:x&&o})})});lR.displayName=aR;function cR(t,e){return`${t}-trigger-${e}`}function uR(t,e){return`${t}-content-${e}`}var dW=nR,dR=sR,hR=oR,fR=lR;const hW=dW,pR=_.forwardRef(({className:t,...e},n)=>u.jsx(dR,{ref:n,className:Ue("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));pR.displayName=dR.displayName;const Oy=_.forwardRef(({className:t,...e},n)=>u.jsx(hR,{ref:n,className:Ue("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Oy.displayName=hR.displayName;const Vy=_.forwardRef(({className:t,...e},n)=>u.jsx(fR,{ref:n,className:Ue("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Vy.displayName=fR.displayName;const fW=fd("flex gap-4 items-center justify-center",{variants:{messagePlacement:{bottom:"flex-col",top:"flex-col-reverse",right:"flex-row",left:"flex-row-reverse"}},defaultVariants:{messagePlacement:"bottom"}});function pW({className:t,message:e,messagePlacement:n,...r}){return u.jsxs("div",{className:Ue(fW({messagePlacement:n})),children:[u.jsxs("div",{className:Ue("relative w-16 h-16",t),...r,children:[u.jsx(wf.div,{className:"absolute inset-0 border-2 border-transparent border-t-primary rounded-full",animate:{rotate:360},transition:{duration:1,repeat:Number.POSITIVE_INFINITY,ease:"linear"}}),u.jsx(wf.div,{className:"absolute inset-2 border-2 border-transparent border-t-primary rounded-full",animate:{rotate:-360},transition:{duration:1.5,repeat:Number.POSITIVE_INFINITY,ease:"linear"}}),u.jsx(wf.div,{className:"absolute inset-4 border-2 border-transparent border-t-primary rounded-full",animate:{rotate:360},transition:{duration:.8,repeat:Number.POSITIVE_INFINITY,ease:"linear"}})]}),e&&u.jsx("div",{className:"text-muted-foreground",children:e})]})}const mW=()=>{const t="signin",e="Welcome",n="Sign in to your account or create a new one",r=to(),{toast:s}=Lp(),{firebaseUser:o,loading:l}=Fn(),[c,h]=_.useState(t),[p,g]=_.useState(!1),[v,x]=_.useState(!1),[b,S]=_.useState(!1),[C,I]=_.useState(!1);_.useEffect(()=>{I(!0)},[]);const[j,L]=_.useState({email:"",password:""}),[O,$]=_.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",college:""}),z=async(R,A)=>{if(R.preventDefault(),S(!0),A==="signup"){if(O.password!==O.confirmPassword){s({variant:"destructive",title:"Error",description:"Passwords do not match."}),S(!1);return}try{const V=(await D4(pu,O.email,O.password)).user,B={name:`${O.firstName} ${O.lastName}`,email:O.email,college:O.college||"",bio:"",avatarUrl:"",github:"",linkedin:"",website:"",skills:[],experience:"",projects:""};await bl(xt(Pe,"users",V.uid),B),s({variant:"success",title:"Success",description:"Your account has been created."}),r("/dashboard")}catch(D){let V="An unexpected error occurred. Please try again.";switch(D.code){case"auth/email-already-in-use":V="An account with this email already exists.";break;case"auth/invalid-email":V="The email address is not valid.";break;case"auth/weak-password":V="The password is too weak. Please choose a stronger password.";break}s({variant:"destructive",title:"Sign-up Failed",description:V})}}else try{await M4(pu,j.email,j.password),s({variant:"success",title:"Success",description:"You've been signed in."}),r("/dashboard")}catch(D){let V="An unexpected error occurred. Please try again.";switch(D.code){case"auth/user-not-found":case"auth/wrong-password":case"auth/invalid-credential":V="Invalid credentials. Please check your email and password.";break;case"auth/invalid-email":V="The email address is not valid.";break;case"auth/user-disabled":V="This user account has been disabled.";break}s({variant:"destructive",title:"Sign-in Failed",description:V})}S(!1)},q=async R=>{S(!0);const A=new Fs;try{const D=await aV(pu,A);s({variant:"success",title:"Success",description:"You've been signed in."}),r("/dashboard")}catch(D){s({variant:"destructive",title:"Authentication Failed",description:D.message})}S(!1)};return l?u.jsx("div",{className:"flex h-screen w-full items-center justify-center bg-background",children:u.jsx(pW,{message:"Loading..."})}):C?u.jsxs("div",{className:"min-h-screen bg-background flex items-center justify-center p-4 relative",children:[u.jsx(fA,{}),u.jsxs("div",{className:"w-full max-w-md space-y-6 z-10",children:[u.jsxs("div",{className:"text-center space-y-2",children:[u.jsx("h1",{className:"text-3xl font-bold text-foreground",children:e}),u.jsx("p",{className:"text-muted-foreground",children:n})]}),u.jsxs(tt,{className:"p-6 border-border bg-card/80 backdrop-blur-sm",children:[u.jsxs(hW,{value:c,onValueChange:R=>h(R),children:[u.jsxs(pR,{className:"grid w-full grid-cols-2 mb-6",children:[u.jsx(Oy,{value:"signin",children:"Sign In"}),u.jsx(Oy,{value:"signup",children:"Sign Up"})]}),u.jsx(Vy,{value:"signin",className:"space-y-4",children:u.jsxs("form",{onSubmit:R=>z(R,"signin"),className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ze,{htmlFor:"signin-email",children:"Email"}),u.jsxs("div",{className:"relative",children:[u.jsx(hy,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),u.jsx(rt,{id:"signin-email",type:"email",placeholder:"Enter your email",className:"pl-10",value:j.email,onChange:R=>L({...j,email:R.target.value}),required:!0})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ze,{htmlFor:"signin-password",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(gf,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),u.jsx(rt,{id:"signin-password",type:p?"text":"password",placeholder:"Enter your password",className:"pl-10 pr-10",value:j.password,onChange:R=>L({...j,password:R.target.value}),required:!0}),u.jsx("button",{type:"button",onClick:()=>g(!p),className:"absolute right-3 top-3 text-muted-foreground hover:text-foreground",children:p?u.jsx(Tl,{className:"h-4 w-4"}):u.jsx(Ws,{className:"h-4 w-4"})})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("input",{type:"checkbox",id:"remember",className:"rounded border-border"}),u.jsx(Ze,{htmlFor:"remember",className:"text-sm",children:"Remember me"})]}),u.jsx("button",{type:"button",className:"text-sm text-primary hover:underline",children:"Forgot password?"})]}),u.jsx(ge,{type:"submit",className:"w-full",disabled:b,children:b?"Signing in...":"Sign In"})]})}),u.jsx(Vy,{value:"signup",className:"space-y-4",children:u.jsxs("form",{onSubmit:R=>z(R,"signup"),className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ze,{htmlFor:"firstName",children:"First Name"}),u.jsxs("div",{className:"relative",children:[u.jsx(pd,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),u.jsx(rt,{id:"firstName",type:"text",placeholder:"First name",className:"pl-10",value:O.firstName??"",onChange:R=>$({...O,firstName:R.target.value}),required:!0})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ze,{htmlFor:"lastName",children:"Last Name"}),u.jsx(rt,{id:"lastName",type:"text",placeholder:"Last name",value:O.lastName??"",onChange:R=>$({...O,lastName:R.target.value}),required:!0})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ze,{htmlFor:"signup-email",children:"Email"}),u.jsxs("div",{className:"relative",children:[u.jsx(hy,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),u.jsx(rt,{id:"signup-email",type:"email",placeholder:"Enter your email",className:"pl-10",value:O.email,onChange:R=>$({...O,email:R.target.value}),required:!0})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ze,{htmlFor:"college",children:"University Name (Optional)"}),u.jsxs("div",{className:"relative",children:[u.jsx(GN,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),u.jsx(rt,{id:"college",type:"text",placeholder:"e.g. University of Technology",className:"pl-10",value:O.college??"",onChange:R=>$({...O,college:R.target.value})})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ze,{htmlFor:"signup-password",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(gf,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),u.jsx(rt,{id:"signup-password",type:p?"text":"password",placeholder:"Create a password",className:"pl-10 pr-10",value:O.password,onChange:R=>$({...O,password:R.target.value}),required:!0}),u.jsx("button",{type:"button",onClick:()=>g(!p),className:"absolute right-3 top-3 text-muted-foreground hover:text-foreground",children:p?u.jsx(Tl,{className:"h-4 w-4"}):u.jsx(Ws,{className:"h-4 w-4"})})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ze,{htmlFor:"confirmPassword",children:"Confirm Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(gf,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),u.jsx(rt,{id:"confirmPassword",type:v?"text":"password",placeholder:"Confirm your password",className:"pl-10 pr-10",value:O.confirmPassword??"",onChange:R=>$({...O,confirmPassword:R.target.value}),required:!0}),u.jsx("button",{type:"button",onClick:()=>x(!v),className:"absolute right-3 top-3 text-muted-foreground hover:text-foreground",children:v?u.jsx(Tl,{className:"h-4 w-4"}):u.jsx(Ws,{className:"h-4"})})]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("input",{type:"checkbox",id:"terms",className:"rounded border-border",required:!0}),u.jsxs(Ze,{htmlFor:"terms",className:"text-sm",children:["I agree to the"," ",u.jsx("button",{type:"button",className:"text-primary hover:underline",children:"Terms of Service"})," ","and"," ",u.jsx("button",{type:"button",className:"text-primary hover:underline",children:"Privacy Policy"})]})]}),u.jsx(ge,{type:"submit",className:"w-full",disabled:b,children:b?"Creating account...":"Create Account"})]})})]}),u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"relative my-6",children:[u.jsx(qP,{}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("span",{className:"bg-card/80 px-2 text-xs text-muted-foreground",children:"Or continue with"})})]}),u.jsx("div",{className:"grid grid-cols-1",children:u.jsxs(ge,{variant:"outline",onClick:()=>q(),className:"w-full",disabled:b,children:[u.jsx(lU,{className:"mr-2 h-4 w-4"}),"Google"]})})]})]}),u.jsx("div",{className:"text-center text-sm text-muted-foreground",children:u.jsxs("p",{children:[c==="signin"?"Don't have an account? ":"Already have an account? ",u.jsx("button",{type:"button",onClick:()=>h(c==="signin"?"signup":"signin"),className:"text-primary hover:underline font-medium",children:c==="signin"?"Sign up":"Sign in"})]})})]})]}):null};var mv=0;function mR(){_.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??nS()),document.body.insertAdjacentElement("beforeend",t[1]??nS()),mv++,()=>{mv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),mv--}},[])}function nS(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var gv="focusScope.autoFocusOnMount",vv="focusScope.autoFocusOnUnmount",rS={bubbles:!1,cancelable:!0},gW="FocusScope",Bx=_.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...l}=t,[c,h]=_.useState(null),p=gn(s),g=gn(o),v=_.useRef(null),x=$t(e,C=>h(C)),b=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(r){let C=function(O){if(b.paused||!c)return;const $=O.target;c.contains($)?v.current=$:Ri(v.current,{select:!0})},I=function(O){if(b.paused||!c)return;const $=O.relatedTarget;$!==null&&(c.contains($)||Ri(v.current,{select:!0}))},j=function(O){if(document.activeElement===document.body)for(const z of O)z.removedNodes.length>0&&Ri(c)};document.addEventListener("focusin",C),document.addEventListener("focusout",I);const L=new MutationObserver(j);return c&&L.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",I),L.disconnect()}}},[r,c,b.paused]),_.useEffect(()=>{if(c){iS.add(b);const C=document.activeElement;if(!c.contains(C)){const j=new CustomEvent(gv,rS);c.addEventListener(gv,p),c.dispatchEvent(j),j.defaultPrevented||(vW(EW(gR(c)),{select:!0}),document.activeElement===C&&Ri(c))}return()=>{c.removeEventListener(gv,p),setTimeout(()=>{const j=new CustomEvent(vv,rS);c.addEventListener(vv,g),c.dispatchEvent(j),j.defaultPrevented||Ri(C??document.body,{select:!0}),c.removeEventListener(vv,g),iS.remove(b)},0)}}},[c,p,g,b]);const S=_.useCallback(C=>{if(!n&&!r||b.paused)return;const I=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,j=document.activeElement;if(I&&j){const L=C.currentTarget,[O,$]=yW(L);O&&$?!C.shiftKey&&j===$?(C.preventDefault(),n&&Ri(O,{select:!0})):C.shiftKey&&j===O&&(C.preventDefault(),n&&Ri($,{select:!0})):j===L&&C.preventDefault()}},[n,r,b.paused]);return u.jsx(He.div,{tabIndex:-1,...l,ref:x,onKeyDown:S})});Bx.displayName=gW;function vW(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ri(r,{select:e}),document.activeElement!==n)return}function yW(t){const e=gR(t),n=sS(e,t),r=sS(e.reverse(),t);return[n,r]}function gR(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function sS(t,e){for(const n of t)if(!xW(n,{upTo:e}))return n}function xW(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function wW(t){return t instanceof HTMLInputElement&&"select"in t}function Ri(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&wW(t)&&e&&t.select()}}var iS=_W();function _W(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=oS(t,e),t.unshift(e)},remove(e){t=oS(t,e),t[0]?.resume()}}}function oS(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function EW(t){return t.filter(e=>e.tagName!=="A")}const bW=["top","right","bottom","left"],Xi=Math.min,Qn=Math.max,np=Math.round,Xh=Math.floor,ds=t=>({x:t,y:t}),TW={left:"right",right:"left",bottom:"top",top:"bottom"},SW={start:"end",end:"start"};function Ly(t,e,n){return Qn(t,Xi(e,n))}function ti(t,e){return typeof t=="function"?t(e):t}function ni(t){return t.split("-")[0]}function Jl(t){return t.split("-")[1]}function zx(t){return t==="x"?"y":"x"}function Wx(t){return t==="y"?"height":"width"}function Ji(t){return["top","bottom"].includes(ni(t))?"y":"x"}function Hx(t){return zx(Ji(t))}function CW(t,e,n){n===void 0&&(n=!1);const r=Jl(t),s=Hx(t),o=Wx(s);let l=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(l=rp(l)),[l,rp(l)]}function IW(t){const e=rp(t);return[Fy(t),e,Fy(e)]}function Fy(t){return t.replace(/start|end/g,e=>SW[e])}function NW(t,e,n){const r=["left","right"],s=["right","left"],o=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?o:l;default:return[]}}function AW(t,e,n,r){const s=Jl(t);let o=NW(ni(t),n==="start",r);return s&&(o=o.map(l=>l+"-"+s),e&&(o=o.concat(o.map(Fy)))),o}function rp(t){return t.replace(/left|right|bottom|top/g,e=>TW[e])}function PW(t){return{top:0,right:0,bottom:0,left:0,...t}}function vR(t){return typeof t!="number"?PW(t):{top:t,right:t,bottom:t,left:t}}function sp(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function aS(t,e,n){let{reference:r,floating:s}=t;const o=Ji(e),l=Hx(e),c=Wx(l),h=ni(e),p=o==="y",g=r.x+r.width/2-s.width/2,v=r.y+r.height/2-s.height/2,x=r[c]/2-s[c]/2;let b;switch(h){case"top":b={x:g,y:r.y-s.height};break;case"bottom":b={x:g,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y:v};break;case"left":b={x:r.x-s.width,y:v};break;default:b={x:r.x,y:r.y}}switch(Jl(e)){case"start":b[l]-=x*(n&&p?-1:1);break;case"end":b[l]+=x*(n&&p?-1:1);break}return b}const RW=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:l}=n,c=o.filter(Boolean),h=await(l.isRTL==null?void 0:l.isRTL(e));let p=await l.getElementRects({reference:t,floating:e,strategy:s}),{x:g,y:v}=aS(p,r,h),x=r,b={},S=0;for(let C=0;C<c.length;C++){const{name:I,fn:j}=c[C],{x:L,y:O,data:$,reset:z}=await j({x:g,y:v,initialPlacement:r,placement:x,strategy:s,middlewareData:b,rects:p,platform:l,elements:{reference:t,floating:e}});g=L??g,v=O??v,b={...b,[I]:{...b[I],...$}},z&&S<=50&&(S++,typeof z=="object"&&(z.placement&&(x=z.placement),z.rects&&(p=z.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:s}):z.rects),{x:g,y:v}=aS(p,x,h)),C=-1)}return{x:g,y:v,placement:x,strategy:s,middlewareData:b}};async function $u(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:o,rects:l,elements:c,strategy:h}=t,{boundary:p="clippingAncestors",rootBoundary:g="viewport",elementContext:v="floating",altBoundary:x=!1,padding:b=0}=ti(e,t),S=vR(b),I=c[x?v==="floating"?"reference":"floating":v],j=sp(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(I)))==null||n?I:I.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:p,rootBoundary:g,strategy:h})),L=v==="floating"?{x:r,y:s,width:l.floating.width,height:l.floating.height}:l.reference,O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),$=await(o.isElement==null?void 0:o.isElement(O))?await(o.getScale==null?void 0:o.getScale(O))||{x:1,y:1}:{x:1,y:1},z=sp(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:L,offsetParent:O,strategy:h}):L);return{top:(j.top-z.top+S.top)/$.y,bottom:(z.bottom-j.bottom+S.bottom)/$.y,left:(j.left-z.left+S.left)/$.x,right:(z.right-j.right+S.right)/$.x}}const kW=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:o,platform:l,elements:c,middlewareData:h}=e,{element:p,padding:g=0}=ti(t,e)||{};if(p==null)return{};const v=vR(g),x={x:n,y:r},b=Hx(s),S=Wx(b),C=await l.getDimensions(p),I=b==="y",j=I?"top":"left",L=I?"bottom":"right",O=I?"clientHeight":"clientWidth",$=o.reference[S]+o.reference[b]-x[b]-o.floating[S],z=x[b]-o.reference[b],q=await(l.getOffsetParent==null?void 0:l.getOffsetParent(p));let R=q?q[O]:0;(!R||!await(l.isElement==null?void 0:l.isElement(q)))&&(R=c.floating[O]||o.floating[S]);const A=$/2-z/2,D=R/2-C[S]/2-1,V=Xi(v[j],D),B=Xi(v[L],D),W=V,P=R-C[S]-B,te=R/2-C[S]/2+A,ue=Ly(W,te,P),ae=!h.arrow&&Jl(s)!=null&&te!==ue&&o.reference[S]/2-(te<W?V:B)-C[S]/2<0,Z=ae?te<W?te-W:te-P:0;return{[b]:x[b]+Z,data:{[b]:ue,centerOffset:te-ue-Z,...ae&&{alignmentOffset:Z}},reset:ae}}}),jW=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:o,rects:l,initialPlacement:c,platform:h,elements:p}=e,{mainAxis:g=!0,crossAxis:v=!0,fallbackPlacements:x,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:C=!0,...I}=ti(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const j=ni(s),L=Ji(c),O=ni(c)===c,$=await(h.isRTL==null?void 0:h.isRTL(p.floating)),z=x||(O||!C?[rp(c)]:IW(c)),q=S!=="none";!x&&q&&z.push(...AW(c,C,S,$));const R=[c,...z],A=await $u(e,I),D=[];let V=((r=o.flip)==null?void 0:r.overflows)||[];if(g&&D.push(A[j]),v){const te=CW(s,l,$);D.push(A[te[0]],A[te[1]])}if(V=[...V,{placement:s,overflows:D}],!D.every(te=>te<=0)){var B,W;const te=(((B=o.flip)==null?void 0:B.index)||0)+1,ue=R[te];if(ue)return{data:{index:te,overflows:V},reset:{placement:ue}};let ae=(W=V.filter(Z=>Z.overflows[0]<=0).sort((Z,M)=>Z.overflows[1]-M.overflows[1])[0])==null?void 0:W.placement;if(!ae)switch(b){case"bestFit":{var P;const Z=(P=V.filter(M=>{if(q){const Y=Ji(M.placement);return Y===L||Y==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(Y=>Y>0).reduce((Y,K)=>Y+K,0)]).sort((M,Y)=>M[1]-Y[1])[0])==null?void 0:P[0];Z&&(ae=Z);break}case"initialPlacement":ae=c;break}if(s!==ae)return{reset:{placement:ae}}}return{}}}};function lS(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function cS(t){return bW.some(e=>t[e]>=0)}const DW=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=ti(t,e);switch(r){case"referenceHidden":{const o=await $u(e,{...s,elementContext:"reference"}),l=lS(o,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:cS(l)}}}case"escaped":{const o=await $u(e,{...s,altBoundary:!0}),l=lS(o,n.floating);return{data:{escapedOffsets:l,escaped:cS(l)}}}default:return{}}}}};async function MW(t,e){const{placement:n,platform:r,elements:s}=t,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),l=ni(n),c=Jl(n),h=Ji(n)==="y",p=["left","top"].includes(l)?-1:1,g=o&&h?-1:1,v=ti(e,t);let{mainAxis:x,crossAxis:b,alignmentAxis:S}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return c&&typeof S=="number"&&(b=c==="end"?S*-1:S),h?{x:b*g,y:x*p}:{x:x*p,y:b*g}}const OW=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:o,placement:l,middlewareData:c}=e,h=await MW(e,t);return l===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:s+h.x,y:o+h.y,data:{...h,placement:l}}}}},VW=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:o=!0,crossAxis:l=!1,limiter:c={fn:I=>{let{x:j,y:L}=I;return{x:j,y:L}}},...h}=ti(t,e),p={x:n,y:r},g=await $u(e,h),v=Ji(ni(s)),x=zx(v);let b=p[x],S=p[v];if(o){const I=x==="y"?"top":"left",j=x==="y"?"bottom":"right",L=b+g[I],O=b-g[j];b=Ly(L,b,O)}if(l){const I=v==="y"?"top":"left",j=v==="y"?"bottom":"right",L=S+g[I],O=S-g[j];S=Ly(L,S,O)}const C=c.fn({...e,[x]:b,[v]:S});return{...C,data:{x:C.x-n,y:C.y-r,enabled:{[x]:o,[v]:l}}}}}},LW=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:o,middlewareData:l}=e,{offset:c=0,mainAxis:h=!0,crossAxis:p=!0}=ti(t,e),g={x:n,y:r},v=Ji(s),x=zx(v);let b=g[x],S=g[v];const C=ti(c,e),I=typeof C=="number"?{mainAxis:C,crossAxis:0}:{mainAxis:0,crossAxis:0,...C};if(h){const O=x==="y"?"height":"width",$=o.reference[x]-o.floating[O]+I.mainAxis,z=o.reference[x]+o.reference[O]-I.mainAxis;b<$?b=$:b>z&&(b=z)}if(p){var j,L;const O=x==="y"?"width":"height",$=["top","left"].includes(ni(s)),z=o.reference[v]-o.floating[O]+($&&((j=l.offset)==null?void 0:j[v])||0)+($?0:I.crossAxis),q=o.reference[v]+o.reference[O]+($?0:((L=l.offset)==null?void 0:L[v])||0)-($?I.crossAxis:0);S<z?S=z:S>q&&(S=q)}return{[x]:b,[v]:S}}}},FW=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:o,platform:l,elements:c}=e,{apply:h=()=>{},...p}=ti(t,e),g=await $u(e,p),v=ni(s),x=Jl(s),b=Ji(s)==="y",{width:S,height:C}=o.floating;let I,j;v==="top"||v==="bottom"?(I=v,j=x===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(j=v,I=x==="end"?"top":"bottom");const L=C-g.top-g.bottom,O=S-g.left-g.right,$=Xi(C-g[I],L),z=Xi(S-g[j],O),q=!e.middlewareData.shift;let R=$,A=z;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(A=O),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(R=L),q&&!x){const V=Qn(g.left,0),B=Qn(g.right,0),W=Qn(g.top,0),P=Qn(g.bottom,0);b?A=S-2*(V!==0||B!==0?V+B:Qn(g.left,g.right)):R=C-2*(W!==0||P!==0?W+P:Qn(g.top,g.bottom))}await h({...e,availableWidth:A,availableHeight:R});const D=await l.getDimensions(c.floating);return S!==D.width||C!==D.height?{reset:{rects:!0}}:{}}}};function Jp(){return typeof window<"u"}function Zl(t){return yR(t)?(t.nodeName||"").toLowerCase():"#document"}function Jn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function _s(t){var e;return(e=(yR(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function yR(t){return Jp()?t instanceof Node||t instanceof Jn(t).Node:!1}function Lr(t){return Jp()?t instanceof Element||t instanceof Jn(t).Element:!1}function gs(t){return Jp()?t instanceof HTMLElement||t instanceof Jn(t).HTMLElement:!1}function uS(t){return!Jp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Jn(t).ShadowRoot}function xd(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Fr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function UW(t){return["table","td","th"].includes(Zl(t))}function Zp(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Kx(t){const e=qx(),n=Lr(t)?Fr(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function $W(t){let e=Zi(t);for(;gs(e)&&!Ul(e);){if(Kx(e))return e;if(Zp(e))return null;e=Zi(e)}return null}function qx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ul(t){return["html","body","#document"].includes(Zl(t))}function Fr(t){return Jn(t).getComputedStyle(t)}function em(t){return Lr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Zi(t){if(Zl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||uS(t)&&t.host||_s(t);return uS(e)?e.host:e}function xR(t){const e=Zi(t);return Ul(e)?t.ownerDocument?t.ownerDocument.body:t.body:gs(e)&&xd(e)?e:xR(e)}function Bu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=xR(t),o=s===((r=t.ownerDocument)==null?void 0:r.body),l=Jn(s);if(o){const c=Uy(l);return e.concat(l,l.visualViewport||[],xd(s)?s:[],c&&n?Bu(c):[])}return e.concat(s,Bu(s,[],n))}function Uy(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function wR(t){const e=Fr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=gs(t),o=s?t.offsetWidth:n,l=s?t.offsetHeight:r,c=np(n)!==o||np(r)!==l;return c&&(n=o,r=l),{width:n,height:r,$:c}}function Gx(t){return Lr(t)?t:t.contextElement}function Sl(t){const e=Gx(t);if(!gs(e))return ds(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:o}=wR(e);let l=(o?np(n.width):n.width)/r,c=(o?np(n.height):n.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const BW=ds(0);function _R(t){const e=Jn(t);return!qx()||!e.visualViewport?BW:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function zW(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Jn(t)?!1:e}function na(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=Gx(t);let l=ds(1);e&&(r?Lr(r)&&(l=Sl(r)):l=Sl(t));const c=zW(o,n,r)?_R(o):ds(0);let h=(s.left+c.x)/l.x,p=(s.top+c.y)/l.y,g=s.width/l.x,v=s.height/l.y;if(o){const x=Jn(o),b=r&&Lr(r)?Jn(r):r;let S=x,C=Uy(S);for(;C&&r&&b!==S;){const I=Sl(C),j=C.getBoundingClientRect(),L=Fr(C),O=j.left+(C.clientLeft+parseFloat(L.paddingLeft))*I.x,$=j.top+(C.clientTop+parseFloat(L.paddingTop))*I.y;h*=I.x,p*=I.y,g*=I.x,v*=I.y,h+=O,p+=$,S=Jn(C),C=Uy(S)}}return sp({width:g,height:v,x:h,y:p})}function Qx(t,e){const n=em(t).scrollLeft;return e?e.left+n:na(_s(t)).left+n}function ER(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Qx(t,r)),o=r.top+e.scrollTop;return{x:s,y:o}}function WW(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const o=s==="fixed",l=_s(r),c=e?Zp(e.floating):!1;if(r===l||c&&o)return n;let h={scrollLeft:0,scrollTop:0},p=ds(1);const g=ds(0),v=gs(r);if((v||!v&&!o)&&((Zl(r)!=="body"||xd(l))&&(h=em(r)),gs(r))){const b=na(r);p=Sl(r),g.x=b.x+r.clientLeft,g.y=b.y+r.clientTop}const x=l&&!v&&!o?ER(l,h,!0):ds(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-h.scrollLeft*p.x+g.x+x.x,y:n.y*p.y-h.scrollTop*p.y+g.y+x.y}}function HW(t){return Array.from(t.getClientRects())}function KW(t){const e=_s(t),n=em(t),r=t.ownerDocument.body,s=Qn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Qn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+Qx(t);const c=-n.scrollTop;return Fr(r).direction==="rtl"&&(l+=Qn(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:l,y:c}}function qW(t,e){const n=Jn(t),r=_s(t),s=n.visualViewport;let o=r.clientWidth,l=r.clientHeight,c=0,h=0;if(s){o=s.width,l=s.height;const p=qx();(!p||p&&e==="fixed")&&(c=s.offsetLeft,h=s.offsetTop)}return{width:o,height:l,x:c,y:h}}function GW(t,e){const n=na(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,o=gs(t)?Sl(t):ds(1),l=t.clientWidth*o.x,c=t.clientHeight*o.y,h=s*o.x,p=r*o.y;return{width:l,height:c,x:h,y:p}}function dS(t,e,n){let r;if(e==="viewport")r=qW(t,n);else if(e==="document")r=KW(_s(t));else if(Lr(e))r=GW(e,n);else{const s=_R(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return sp(r)}function bR(t,e){const n=Zi(t);return n===e||!Lr(n)||Ul(n)?!1:Fr(n).position==="fixed"||bR(n,e)}function QW(t,e){const n=e.get(t);if(n)return n;let r=Bu(t,[],!1).filter(c=>Lr(c)&&Zl(c)!=="body"),s=null;const o=Fr(t).position==="fixed";let l=o?Zi(t):t;for(;Lr(l)&&!Ul(l);){const c=Fr(l),h=Kx(l);!h&&c.position==="fixed"&&(s=null),(o?!h&&!s:!h&&c.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||xd(l)&&!h&&bR(t,l))?r=r.filter(g=>g!==l):s=c,l=Zi(l)}return e.set(t,r),r}function YW(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const l=[...n==="clippingAncestors"?Zp(e)?[]:QW(e,this._c):[].concat(n),r],c=l[0],h=l.reduce((p,g)=>{const v=dS(e,g,s);return p.top=Qn(v.top,p.top),p.right=Xi(v.right,p.right),p.bottom=Xi(v.bottom,p.bottom),p.left=Qn(v.left,p.left),p},dS(e,c,s));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function XW(t){const{width:e,height:n}=wR(t);return{width:e,height:n}}function JW(t,e,n){const r=gs(e),s=_s(e),o=n==="fixed",l=na(t,!0,o,e);let c={scrollLeft:0,scrollTop:0};const h=ds(0);if(r||!r&&!o)if((Zl(e)!=="body"||xd(s))&&(c=em(e)),r){const x=na(e,!0,o,e);h.x=x.x+e.clientLeft,h.y=x.y+e.clientTop}else s&&(h.x=Qx(s));const p=s&&!r&&!o?ER(s,c):ds(0),g=l.left+c.scrollLeft-h.x-p.x,v=l.top+c.scrollTop-h.y-p.y;return{x:g,y:v,width:l.width,height:l.height}}function yv(t){return Fr(t).position==="static"}function hS(t,e){if(!gs(t)||Fr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return _s(t)===n&&(n=n.ownerDocument.body),n}function TR(t,e){const n=Jn(t);if(Zp(t))return n;if(!gs(t)){let s=Zi(t);for(;s&&!Ul(s);){if(Lr(s)&&!yv(s))return s;s=Zi(s)}return n}let r=hS(t,e);for(;r&&UW(r)&&yv(r);)r=hS(r,e);return r&&Ul(r)&&yv(r)&&!Kx(r)?n:r||$W(t)||n}const ZW=async function(t){const e=this.getOffsetParent||TR,n=this.getDimensions,r=await n(t.floating);return{reference:JW(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function eH(t){return Fr(t).direction==="rtl"}const tH={convertOffsetParentRelativeRectToViewportRelativeRect:WW,getDocumentElement:_s,getClippingRect:YW,getOffsetParent:TR,getElementRects:ZW,getClientRects:HW,getDimensions:XW,getScale:Sl,isElement:Lr,isRTL:eH};function SR(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function nH(t,e){let n=null,r;const s=_s(t);function o(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function l(c,h){c===void 0&&(c=!1),h===void 0&&(h=1),o();const p=t.getBoundingClientRect(),{left:g,top:v,width:x,height:b}=p;if(c||e(),!x||!b)return;const S=Xh(v),C=Xh(s.clientWidth-(g+x)),I=Xh(s.clientHeight-(v+b)),j=Xh(g),O={rootMargin:-S+"px "+-C+"px "+-I+"px "+-j+"px",threshold:Qn(0,Xi(1,h))||1};let $=!0;function z(q){const R=q[0].intersectionRatio;if(R!==h){if(!$)return l();R?l(!1,R):r=setTimeout(()=>{l(!1,1e-7)},1e3)}R===1&&!SR(p,t.getBoundingClientRect())&&l(),$=!1}try{n=new IntersectionObserver(z,{...O,root:s.ownerDocument})}catch{n=new IntersectionObserver(z,O)}n.observe(t)}return l(!0),o}function rH(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,p=Gx(t),g=s||o?[...p?Bu(p):[],...Bu(e)]:[];g.forEach(j=>{s&&j.addEventListener("scroll",n,{passive:!0}),o&&j.addEventListener("resize",n)});const v=p&&c?nH(p,n):null;let x=-1,b=null;l&&(b=new ResizeObserver(j=>{let[L]=j;L&&L.target===p&&b&&(b.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var O;(O=b)==null||O.observe(e)})),n()}),p&&!h&&b.observe(p),b.observe(e));let S,C=h?na(t):null;h&&I();function I(){const j=na(t);C&&!SR(C,j)&&n(),C=j,S=requestAnimationFrame(I)}return n(),()=>{var j;g.forEach(L=>{s&&L.removeEventListener("scroll",n),o&&L.removeEventListener("resize",n)}),v?.(),(j=b)==null||j.disconnect(),b=null,h&&cancelAnimationFrame(S)}}const sH=OW,iH=VW,oH=jW,aH=FW,lH=DW,fS=kW,cH=LW,uH=(t,e,n)=>{const r=new Map,s={platform:tH,...n},o={...s.platform,_c:r};return RW(t,e,{...s,platform:o})};var _f=typeof document<"u"?_.useLayoutEffect:_.useEffect;function ip(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!ip(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&t.$$typeof)&&!ip(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function CR(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function pS(t,e){const n=CR(t);return Math.round(e*n)/n}function xv(t){const e=_.useRef(t);return _f(()=>{e.current=t}),e}function dH(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:l}={},transform:c=!0,whileElementsMounted:h,open:p}=t,[g,v]=_.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[x,b]=_.useState(r);ip(x,r)||b(r);const[S,C]=_.useState(null),[I,j]=_.useState(null),L=_.useCallback(M=>{M!==q.current&&(q.current=M,C(M))},[]),O=_.useCallback(M=>{M!==R.current&&(R.current=M,j(M))},[]),$=o||S,z=l||I,q=_.useRef(null),R=_.useRef(null),A=_.useRef(g),D=h!=null,V=xv(h),B=xv(s),W=xv(p),P=_.useCallback(()=>{if(!q.current||!R.current)return;const M={placement:e,strategy:n,middleware:x};B.current&&(M.platform=B.current),uH(q.current,R.current,M).then(Y=>{const K={...Y,isPositioned:W.current!==!1};te.current&&!ip(A.current,K)&&(A.current=K,up.flushSync(()=>{v(K)}))})},[x,e,n,B,W]);_f(()=>{p===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,v(M=>({...M,isPositioned:!1})))},[p]);const te=_.useRef(!1);_f(()=>(te.current=!0,()=>{te.current=!1}),[]),_f(()=>{if($&&(q.current=$),z&&(R.current=z),$&&z){if(V.current)return V.current($,z,P);P()}},[$,z,P,V,D]);const ue=_.useMemo(()=>({reference:q,floating:R,setReference:L,setFloating:O}),[L,O]),ae=_.useMemo(()=>({reference:$,floating:z}),[$,z]),Z=_.useMemo(()=>{const M={position:n,left:0,top:0};if(!ae.floating)return M;const Y=pS(ae.floating,g.x),K=pS(ae.floating,g.y);return c?{...M,transform:"translate("+Y+"px, "+K+"px)",...CR(ae.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Y,top:K}},[n,c,ae.floating,g.x,g.y]);return _.useMemo(()=>({...g,update:P,refs:ue,elements:ae,floatingStyles:Z}),[g,P,ue,ae,Z])}const hH=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?fS({element:r.current,padding:s}).fn(n):{}:r?fS({element:r,padding:s}).fn(n):{}}}},fH=(t,e)=>({...sH(t),options:[t,e]}),pH=(t,e)=>({...iH(t),options:[t,e]}),mH=(t,e)=>({...cH(t),options:[t,e]}),gH=(t,e)=>({...oH(t),options:[t,e]}),vH=(t,e)=>({...aH(t),options:[t,e]}),yH=(t,e)=>({...lH(t),options:[t,e]}),xH=(t,e)=>({...hH(t),options:[t,e]});var wH="Arrow",IR=_.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...o}=t;return u.jsx(He.svg,{...o,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});IR.displayName=wH;var _H=IR;function EH(t){const[e,n]=_.useState(void 0);return ms(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let l,c;if("borderBoxSize"in o){const h=o.borderBoxSize,p=Array.isArray(h)?h[0]:h;l=p.inlineSize,c=p.blockSize}else l=t.offsetWidth,c=t.offsetHeight;n({width:l,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Yx="Popper",[NR,AR]=xs(Yx),[bH,PR]=NR(Yx),RR=t=>{const{__scopePopper:e,children:n}=t,[r,s]=_.useState(null);return u.jsx(bH,{scope:e,anchor:r,onAnchorChange:s,children:n})};RR.displayName=Yx;var kR="PopperAnchor",jR=_.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,o=PR(kR,n),l=_.useRef(null),c=$t(e,l);return _.useEffect(()=>{o.onAnchorChange(r?.current||l.current)}),r?null:u.jsx(He.div,{...s,ref:c})});jR.displayName=kR;var Xx="PopperContent",[TH,SH]=NR(Xx),DR=_.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:h=!0,collisionBoundary:p=[],collisionPadding:g=0,sticky:v="partial",hideWhenDetached:x=!1,updatePositionStrategy:b="optimized",onPlaced:S,...C}=t,I=PR(Xx,n),[j,L]=_.useState(null),O=$t(e,le=>L(le)),[$,z]=_.useState(null),q=EH($),R=q?.width??0,A=q?.height??0,D=r+(o!=="center"?"-"+o:""),V=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},B=Array.isArray(p)?p:[p],W=B.length>0,P={padding:V,boundary:B.filter(IH),altBoundary:W},{refs:te,floatingStyles:ue,placement:ae,isPositioned:Z,middlewareData:M}=dH({strategy:"fixed",placement:D,whileElementsMounted:(...le)=>rH(...le,{animationFrame:b==="always"}),elements:{reference:I.anchor},middleware:[fH({mainAxis:s+A,alignmentAxis:l}),h&&pH({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?mH():void 0,...P}),h&&gH({...P}),vH({...P,apply:({elements:le,rects:xe,availableWidth:Ae,availableHeight:Ke})=>{const{width:Gt,height:Un}=xe.reference,vn=le.floating.style;vn.setProperty("--radix-popper-available-width",`${Ae}px`),vn.setProperty("--radix-popper-available-height",`${Ke}px`),vn.setProperty("--radix-popper-anchor-width",`${Gt}px`),vn.setProperty("--radix-popper-anchor-height",`${Un}px`)}}),$&&xH({element:$,padding:c}),NH({arrowWidth:R,arrowHeight:A}),x&&yH({strategy:"referenceHidden",...P})]}),[Y,K]=VR(ae),F=gn(S);ms(()=>{Z&&F?.()},[Z,F]);const Q=M.arrow?.x,re=M.arrow?.y,ve=M.arrow?.centerOffset!==0,[ce,fe]=_.useState();return ms(()=>{j&&fe(window.getComputedStyle(j).zIndex)},[j]),u.jsx("div",{ref:te.setFloating,"data-radix-popper-content-wrapper":"",style:{...ue,transform:Z?ue.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ce,"--radix-popper-transform-origin":[M.transformOrigin?.x,M.transformOrigin?.y].join(" "),...M.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(TH,{scope:n,placedSide:Y,onArrowChange:z,arrowX:Q,arrowY:re,shouldHideArrow:ve,children:u.jsx(He.div,{"data-side":Y,"data-align":K,...C,ref:O,style:{...C.style,animation:Z?void 0:"none"}})})})});DR.displayName=Xx;var MR="PopperArrow",CH={top:"bottom",right:"left",bottom:"top",left:"right"},OR=_.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,o=SH(MR,r),l=CH[o.placedSide];return u.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:u.jsx(_H,{...s,ref:n,style:{...s.style,display:"block"}})})});OR.displayName=MR;function IH(t){return t!==null}var NH=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:s}=e,l=s.arrow?.centerOffset!==0,c=l?0:t.arrowWidth,h=l?0:t.arrowHeight,[p,g]=VR(n),v={start:"0%",center:"50%",end:"100%"}[g],x=(s.arrow?.x??0)+c/2,b=(s.arrow?.y??0)+h/2;let S="",C="";return p==="bottom"?(S=l?v:`${x}px`,C=`${-h}px`):p==="top"?(S=l?v:`${x}px`,C=`${r.floating.height+h}px`):p==="right"?(S=`${-h}px`,C=l?v:`${b}px`):p==="left"&&(S=`${r.floating.width+h}px`,C=l?v:`${b}px`),{data:{x:S,y:C}}}});function VR(t){const[e,n="center"]=t.split("-");return[e,n]}var AH=RR,PH=jR,RH=DR,kH=OR,LR=_.forwardRef((t,e)=>{const{children:n,...r}=t,s=_.Children.toArray(n),o=s.find(DH);if(o){const l=o.props.children,c=s.map(h=>h===o?_.Children.count(l)>1?_.Children.only(null):_.isValidElement(l)?l.props.children:null:h);return u.jsx($y,{...r,ref:e,children:_.isValidElement(l)?_.cloneElement(l,void 0,c):null})}return u.jsx($y,{...r,ref:e,children:n})});LR.displayName="Slot";var $y=_.forwardRef((t,e)=>{const{children:n,...r}=t;if(_.isValidElement(n)){const s=OH(n),o=MH(r,n.props);return n.type!==_.Fragment&&(o.ref=e?ua(e,s):s),_.cloneElement(n,o)}return _.Children.count(n)>1?_.Children.only(null):null});$y.displayName="SlotClone";var jH=({children:t})=>u.jsx(u.Fragment,{children:t});function DH(t){return _.isValidElement(t)&&t.type===jH}function MH(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...c)=>{o(...c),s(...c)}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function OH(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var VH=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},al=new WeakMap,Jh=new WeakMap,Zh={},wv=0,FR=function(t){return t&&(t.host||FR(t.parentNode))},LH=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=FR(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},FH=function(t,e,n,r){var s=LH(e,Array.isArray(t)?t:[t]);Zh[n]||(Zh[n]=new WeakMap);var o=Zh[n],l=[],c=new Set,h=new Set(s),p=function(v){!v||c.has(v)||(c.add(v),p(v.parentNode))};s.forEach(p);var g=function(v){!v||h.has(v)||Array.prototype.forEach.call(v.children,function(x){if(c.has(x))g(x);else try{var b=x.getAttribute(r),S=b!==null&&b!=="false",C=(al.get(x)||0)+1,I=(o.get(x)||0)+1;al.set(x,C),o.set(x,I),l.push(x),C===1&&S&&Jh.set(x,!0),I===1&&x.setAttribute(n,"true"),S||x.setAttribute(r,"true")}catch(j){console.error("aria-hidden: cannot operate on ",x,j)}})};return g(e),c.clear(),wv++,function(){l.forEach(function(v){var x=al.get(v)-1,b=o.get(v)-1;al.set(v,x),o.set(v,b),x||(Jh.has(v)||v.removeAttribute(r),Jh.delete(v)),b||v.removeAttribute(n)}),wv--,wv||(al=new WeakMap,al=new WeakMap,Jh=new WeakMap,Zh={})}},UR=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=VH(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),FH(r,s,n,"aria-hidden")):function(){return null}},Ef="right-scroll-bar-position",bf="width-before-scroll-bar",UH="with-scroll-bars-hidden",$H="--removed-body-scroll-bar-size";function _v(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function BH(t,e){var n=_.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var zH=typeof window<"u"?_.useLayoutEffect:_.useEffect,mS=new WeakMap;function WH(t,e){var n=BH(null,function(r){return t.forEach(function(s){return _v(s,r)})});return zH(function(){var r=mS.get(n);if(r){var s=new Set(r),o=new Set(t),l=n.current;s.forEach(function(c){o.has(c)||_v(c,null)}),o.forEach(function(c){s.has(c)||_v(c,l)})}mS.set(n,t)},[t]),n}function HH(t){return t}function KH(t,e){e===void 0&&(e=HH);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var l=e(o,r);return n.push(l),function(){n=n.filter(function(c){return c!==l})}},assignSyncMedium:function(o){for(r=!0;n.length;){var l=n;n=[],l.forEach(o)}n={push:function(c){return o(c)},filter:function(){return n}}},assignMedium:function(o){r=!0;var l=[];if(n.length){var c=n;n=[],c.forEach(o),l=n}var h=function(){var g=l;l=[],g.forEach(o)},p=function(){return Promise.resolve().then(h)};p(),n={push:function(g){l.push(g),p()},filter:function(g){return l=l.filter(g),n}}}};return s}function qH(t){t===void 0&&(t={});var e=KH(null);return e.options=rs({async:!0,ssr:!1},t),e}var $R=function(t){var e=t.sideCar,n=Zu(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return _.createElement(r,rs({},n))};$R.isSideCarExport=!0;function GH(t,e){return t.useMedium(e),$R}var BR=qH(),Ev=function(){},tm=_.forwardRef(function(t,e){var n=_.useRef(null),r=_.useState({onScrollCapture:Ev,onWheelCapture:Ev,onTouchMoveCapture:Ev}),s=r[0],o=r[1],l=t.forwardProps,c=t.children,h=t.className,p=t.removeScrollBar,g=t.enabled,v=t.shards,x=t.sideCar,b=t.noIsolation,S=t.inert,C=t.allowPinchZoom,I=t.as,j=I===void 0?"div":I,L=t.gapMode,O=Zu(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),$=x,z=WH([n,e]),q=rs(rs({},O),s);return _.createElement(_.Fragment,null,g&&_.createElement($,{sideCar:BR,removeScrollBar:p,shards:v,noIsolation:b,inert:S,setCallbacks:o,allowPinchZoom:!!C,lockRef:n,gapMode:L}),l?_.cloneElement(_.Children.only(c),rs(rs({},q),{ref:z})):_.createElement(j,rs({},q,{className:h,ref:z}),c))});tm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};tm.classNames={fullWidth:bf,zeroRight:Ef};var QH=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function YH(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=QH();return e&&t.setAttribute("nonce",e),t}function XH(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function JH(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var ZH=function(){var t=0,e=null;return{add:function(n){t==0&&(e=YH())&&(XH(e,n),JH(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},eK=function(){var t=ZH();return function(e,n){_.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},zR=function(){var t=eK(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},tK={left:0,top:0,right:0,gap:0},bv=function(t){return parseInt(t||"",10)||0},nK=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[bv(n),bv(r),bv(s)]},rK=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return tK;var e=nK(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},sK=zR(),Cl="data-scroll-locked",iK=function(t,e,n,r){var s=t.left,o=t.top,l=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(UH,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(Cl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ef,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(bf,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Ef," .").concat(Ef,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(bf," .").concat(bf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Cl,`] {
    `).concat($H,": ").concat(c,`px;
  }
`)},gS=function(){var t=parseInt(document.body.getAttribute(Cl)||"0",10);return isFinite(t)?t:0},oK=function(){_.useEffect(function(){return document.body.setAttribute(Cl,(gS()+1).toString()),function(){var t=gS()-1;t<=0?document.body.removeAttribute(Cl):document.body.setAttribute(Cl,t.toString())}},[])},aK=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;oK();var o=_.useMemo(function(){return rK(s)},[s]);return _.createElement(sK,{styles:iK(o,!e,s,n?"":"!important")})},By=!1;if(typeof window<"u")try{var ef=Object.defineProperty({},"passive",{get:function(){return By=!0,!0}});window.addEventListener("test",ef,ef),window.removeEventListener("test",ef,ef)}catch{By=!1}var ll=By?{passive:!1}:!1,lK=function(t){return t.tagName==="TEXTAREA"},WR=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!lK(t)&&n[e]==="visible")},cK=function(t){return WR(t,"overflowY")},uK=function(t){return WR(t,"overflowX")},vS=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=HR(t,r);if(s){var o=KR(t,r),l=o[1],c=o[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},dK=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},hK=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},HR=function(t,e){return t==="v"?cK(e):uK(e)},KR=function(t,e){return t==="v"?dK(e):hK(e)},fK=function(t,e){return t==="h"&&e==="rtl"?-1:1},pK=function(t,e,n,r,s){var o=fK(t,window.getComputedStyle(e).direction),l=o*r,c=n.target,h=e.contains(c),p=!1,g=l>0,v=0,x=0;do{var b=KR(t,c),S=b[0],C=b[1],I=b[2],j=C-I-o*S;(S||j)&&HR(t,c)&&(v+=j,x+=S),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!h&&c!==document.body||h&&(e.contains(c)||e===c));return(g&&Math.abs(v)<1||!g&&Math.abs(x)<1)&&(p=!0),p},tf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},yS=function(t){return[t.deltaX,t.deltaY]},xS=function(t){return t&&"current"in t?t.current:t},mK=function(t,e){return t[0]===e[0]&&t[1]===e[1]},gK=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},vK=0,cl=[];function yK(t){var e=_.useRef([]),n=_.useRef([0,0]),r=_.useRef(),s=_.useState(vK++)[0],o=_.useState(zR)[0],l=_.useRef(t);_.useEffect(function(){l.current=t},[t]),_.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var C=DO([t.lockRef.current],(t.shards||[]).map(xS),!0).filter(Boolean);return C.forEach(function(I){return I.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),C.forEach(function(I){return I.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var c=_.useCallback(function(C,I){if("touches"in C&&C.touches.length===2||C.type==="wheel"&&C.ctrlKey)return!l.current.allowPinchZoom;var j=tf(C),L=n.current,O="deltaX"in C?C.deltaX:L[0]-j[0],$="deltaY"in C?C.deltaY:L[1]-j[1],z,q=C.target,R=Math.abs(O)>Math.abs($)?"h":"v";if("touches"in C&&R==="h"&&q.type==="range")return!1;var A=vS(R,q);if(!A)return!0;if(A?z=R:(z=R==="v"?"h":"v",A=vS(R,q)),!A)return!1;if(!r.current&&"changedTouches"in C&&(O||$)&&(r.current=z),!z)return!0;var D=r.current||z;return pK(D,I,C,D==="h"?O:$)},[]),h=_.useCallback(function(C){var I=C;if(!(!cl.length||cl[cl.length-1]!==o)){var j="deltaY"in I?yS(I):tf(I),L=e.current.filter(function(z){return z.name===I.type&&(z.target===I.target||I.target===z.shadowParent)&&mK(z.delta,j)})[0];if(L&&L.should){I.cancelable&&I.preventDefault();return}if(!L){var O=(l.current.shards||[]).map(xS).filter(Boolean).filter(function(z){return z.contains(I.target)}),$=O.length>0?c(I,O[0]):!l.current.noIsolation;$&&I.cancelable&&I.preventDefault()}}},[]),p=_.useCallback(function(C,I,j,L){var O={name:C,delta:I,target:j,should:L,shadowParent:xK(j)};e.current.push(O),setTimeout(function(){e.current=e.current.filter(function($){return $!==O})},1)},[]),g=_.useCallback(function(C){n.current=tf(C),r.current=void 0},[]),v=_.useCallback(function(C){p(C.type,yS(C),C.target,c(C,t.lockRef.current))},[]),x=_.useCallback(function(C){p(C.type,tf(C),C.target,c(C,t.lockRef.current))},[]);_.useEffect(function(){return cl.push(o),t.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:x}),document.addEventListener("wheel",h,ll),document.addEventListener("touchmove",h,ll),document.addEventListener("touchstart",g,ll),function(){cl=cl.filter(function(C){return C!==o}),document.removeEventListener("wheel",h,ll),document.removeEventListener("touchmove",h,ll),document.removeEventListener("touchstart",g,ll)}},[]);var b=t.removeScrollBar,S=t.inert;return _.createElement(_.Fragment,null,S?_.createElement(o,{styles:gK(s)}):null,b?_.createElement(aK,{gapMode:t.gapMode}):null)}function xK(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const wK=GH(BR,yK);var Jx=_.forwardRef(function(t,e){return _.createElement(tm,rs({},t,{ref:e,sideCar:wK}))});Jx.classNames=tm.classNames;var zy=["Enter"," "],_K=["ArrowDown","PageUp","Home"],qR=["ArrowUp","PageDown","End"],EK=[..._K,...qR],bK={ltr:[...zy,"ArrowRight"],rtl:[...zy,"ArrowLeft"]},TK={ltr:["ArrowLeft"],rtl:["ArrowRight"]},wd="Menu",[zu,SK,CK]=X0(wd),[ha,GR]=xs(wd,[CK,AR,Xp]),nm=AR(),QR=Xp(),[IK,fa]=ha(wd),[NK,_d]=ha(wd),YR=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:o,modal:l=!0}=t,c=nm(e),[h,p]=_.useState(null),g=_.useRef(!1),v=gn(o),x=Fx(s);return _.useEffect(()=>{const b=()=>{g.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>g.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),u.jsx(AH,{...c,children:u.jsx(IK,{scope:e,open:n,onOpenChange:v,content:h,onContentChange:p,children:u.jsx(NK,{scope:e,onClose:_.useCallback(()=>v(!1),[v]),isUsingKeyboardRef:g,dir:x,modal:l,children:r})})})};YR.displayName=wd;var AK="MenuAnchor",Zx=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=nm(n);return u.jsx(PH,{...s,...r,ref:e})});Zx.displayName=AK;var ew="MenuPortal",[PK,XR]=ha(ew,{forceMount:void 0}),JR=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,o=fa(ew,e);return u.jsx(PK,{scope:e,forceMount:n,children:u.jsx(ws,{present:n||o.open,children:u.jsx(Up,{asChild:!0,container:s,children:r})})})};JR.displayName=ew;var pr="MenuContent",[RK,tw]=ha(pr),ZR=_.forwardRef((t,e)=>{const n=XR(pr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,o=fa(pr,t.__scopeMenu),l=_d(pr,t.__scopeMenu);return u.jsx(zu.Provider,{scope:t.__scopeMenu,children:u.jsx(ws,{present:r||o.open,children:u.jsx(zu.Slot,{scope:t.__scopeMenu,children:l.modal?u.jsx(kK,{...s,ref:e}):u.jsx(jK,{...s,ref:e})})})})}),kK=_.forwardRef((t,e)=>{const n=fa(pr,t.__scopeMenu),r=_.useRef(null),s=$t(e,r);return _.useEffect(()=>{const o=r.current;if(o)return UR(o)},[]),u.jsx(nw,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Me(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),jK=_.forwardRef((t,e)=>{const n=fa(pr,t.__scopeMenu);return u.jsx(nw,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),nw=_.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEntryFocus:h,onEscapeKeyDown:p,onPointerDownOutside:g,onFocusOutside:v,onInteractOutside:x,onDismiss:b,disableOutsideScroll:S,...C}=t,I=fa(pr,n),j=_d(pr,n),L=nm(n),O=QR(n),$=SK(n),[z,q]=_.useState(null),R=_.useRef(null),A=$t(e,R,I.onContentChange),D=_.useRef(0),V=_.useRef(""),B=_.useRef(0),W=_.useRef(null),P=_.useRef("right"),te=_.useRef(0),ue=S?Jx:_.Fragment,ae=S?{as:LR,allowPinchZoom:!0}:void 0,Z=Y=>{const K=V.current+Y,F=$().filter(le=>!le.disabled),Q=document.activeElement,re=F.find(le=>le.ref.current===Q)?.textValue,ve=F.map(le=>le.textValue),ce=HK(ve,K,re),fe=F.find(le=>le.textValue===ce)?.ref.current;(function le(xe){V.current=xe,window.clearTimeout(D.current),xe!==""&&(D.current=window.setTimeout(()=>le(""),1e3))})(K),fe&&setTimeout(()=>fe.focus())};_.useEffect(()=>()=>window.clearTimeout(D.current),[]),mR();const M=_.useCallback(Y=>P.current===W.current?.side&&qK(Y,W.current?.area),[]);return u.jsx(RK,{scope:n,searchRef:V,onItemEnter:_.useCallback(Y=>{M(Y)&&Y.preventDefault()},[M]),onItemLeave:_.useCallback(Y=>{M(Y)||(R.current?.focus(),q(null))},[M]),onTriggerLeave:_.useCallback(Y=>{M(Y)&&Y.preventDefault()},[M]),pointerGraceTimerRef:B,onPointerGraceIntentChange:_.useCallback(Y=>{W.current=Y},[]),children:u.jsx(ue,{...ae,children:u.jsx(Bx,{asChild:!0,trapped:s,onMountAutoFocus:Me(o,Y=>{Y.preventDefault(),R.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:u.jsx(Fp,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:p,onPointerDownOutside:g,onFocusOutside:v,onInteractOutside:x,onDismiss:b,children:u.jsx(ZP,{asChild:!0,...O,dir:j.dir,orientation:"vertical",loop:r,currentTabStopId:z,onCurrentTabStopIdChange:q,onEntryFocus:Me(h,Y=>{j.isUsingKeyboardRef.current||Y.preventDefault()}),preventScrollOnEntryFocus:!0,children:u.jsx(RH,{role:"menu","aria-orientation":"vertical","data-state":mk(I.open),"data-radix-menu-content":"",dir:j.dir,...L,...C,ref:A,style:{outline:"none",...C.style},onKeyDown:Me(C.onKeyDown,Y=>{const F=Y.target.closest("[data-radix-menu-content]")===Y.currentTarget,Q=Y.ctrlKey||Y.altKey||Y.metaKey,re=Y.key.length===1;F&&(Y.key==="Tab"&&Y.preventDefault(),!Q&&re&&Z(Y.key));const ve=R.current;if(Y.target!==ve||!EK.includes(Y.key))return;Y.preventDefault();const fe=$().filter(le=>!le.disabled).map(le=>le.ref.current);qR.includes(Y.key)&&fe.reverse(),zK(fe)}),onBlur:Me(t.onBlur,Y=>{Y.currentTarget.contains(Y.target)||(window.clearTimeout(D.current),V.current="")}),onPointerMove:Me(t.onPointerMove,Wu(Y=>{const K=Y.target,F=te.current!==Y.clientX;if(Y.currentTarget.contains(K)&&F){const Q=Y.clientX>te.current?"right":"left";P.current=Q,te.current=Y.clientX}}))})})})})})})});ZR.displayName=pr;var DK="MenuGroup",rw=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(He.div,{role:"group",...r,ref:e})});rw.displayName=DK;var MK="MenuLabel",ek=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(He.div,{...r,ref:e})});ek.displayName=MK;var op="MenuItem",wS="menu.itemSelect",rm=_.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,o=_.useRef(null),l=_d(op,t.__scopeMenu),c=tw(op,t.__scopeMenu),h=$t(e,o),p=_.useRef(!1),g=()=>{const v=o.current;if(!n&&v){const x=new CustomEvent(wS,{bubbles:!0,cancelable:!0});v.addEventListener(wS,b=>r?.(b),{once:!0}),J0(v,x),x.defaultPrevented?p.current=!1:l.onClose()}};return u.jsx(tk,{...s,ref:h,disabled:n,onClick:Me(t.onClick,g),onPointerDown:v=>{t.onPointerDown?.(v),p.current=!0},onPointerUp:Me(t.onPointerUp,v=>{p.current||v.currentTarget?.click()}),onKeyDown:Me(t.onKeyDown,v=>{const x=c.searchRef.current!=="";n||x&&v.key===" "||zy.includes(v.key)&&(v.currentTarget.click(),v.preventDefault())})})});rm.displayName=op;var tk=_.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...o}=t,l=tw(op,n),c=QR(n),h=_.useRef(null),p=$t(e,h),[g,v]=_.useState(!1),[x,b]=_.useState("");return _.useEffect(()=>{const S=h.current;S&&b((S.textContent??"").trim())},[o.children]),u.jsx(zu.ItemSlot,{scope:n,disabled:r,textValue:s??x,children:u.jsx(eR,{asChild:!0,...c,focusable:!r,children:u.jsx(He.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:p,onPointerMove:Me(t.onPointerMove,Wu(S=>{r?l.onItemLeave(S):(l.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Me(t.onPointerLeave,Wu(S=>l.onItemLeave(S))),onFocus:Me(t.onFocus,()=>v(!0)),onBlur:Me(t.onBlur,()=>v(!1))})})})}),OK="MenuCheckboxItem",nk=_.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return u.jsx(ak,{scope:t.__scopeMenu,checked:n,children:u.jsx(rm,{role:"menuitemcheckbox","aria-checked":ap(n)?"mixed":n,...s,ref:e,"data-state":iw(n),onSelect:Me(s.onSelect,()=>r?.(ap(n)?!0:!n),{checkForDefaultPrevented:!1})})})});nk.displayName=OK;var rk="MenuRadioGroup",[VK,LK]=ha(rk,{value:void 0,onValueChange:()=>{}}),sk=_.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,o=gn(r);return u.jsx(VK,{scope:t.__scopeMenu,value:n,onValueChange:o,children:u.jsx(rw,{...s,ref:e})})});sk.displayName=rk;var ik="MenuRadioItem",ok=_.forwardRef((t,e)=>{const{value:n,...r}=t,s=LK(ik,t.__scopeMenu),o=n===s.value;return u.jsx(ak,{scope:t.__scopeMenu,checked:o,children:u.jsx(rm,{role:"menuitemradio","aria-checked":o,...r,ref:e,"data-state":iw(o),onSelect:Me(r.onSelect,()=>s.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});ok.displayName=ik;var sw="MenuItemIndicator",[ak,FK]=ha(sw,{checked:!1}),lk=_.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,o=FK(sw,n);return u.jsx(ws,{present:r||ap(o.checked)||o.checked===!0,children:u.jsx(He.span,{...s,ref:e,"data-state":iw(o.checked)})})});lk.displayName=sw;var UK="MenuSeparator",ck=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(He.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});ck.displayName=UK;var $K="MenuArrow",uk=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=nm(n);return u.jsx(kH,{...s,...r,ref:e})});uk.displayName=$K;var BK="MenuSub",[qG,dk]=ha(BK),au="MenuSubTrigger",hk=_.forwardRef((t,e)=>{const n=fa(au,t.__scopeMenu),r=_d(au,t.__scopeMenu),s=dk(au,t.__scopeMenu),o=tw(au,t.__scopeMenu),l=_.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:h}=o,p={__scopeMenu:t.__scopeMenu},g=_.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return _.useEffect(()=>g,[g]),_.useEffect(()=>{const v=c.current;return()=>{window.clearTimeout(v),h(null)}},[c,h]),u.jsx(Zx,{asChild:!0,...p,children:u.jsx(tk,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":mk(n.open),...t,ref:ua(e,s.onTriggerChange),onClick:v=>{t.onClick?.(v),!(t.disabled||v.defaultPrevented)&&(v.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Me(t.onPointerMove,Wu(v=>{o.onItemEnter(v),!v.defaultPrevented&&!t.disabled&&!n.open&&!l.current&&(o.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{n.onOpenChange(!0),g()},100))})),onPointerLeave:Me(t.onPointerLeave,Wu(v=>{g();const x=n.content?.getBoundingClientRect();if(x){const b=n.content?.dataset.side,S=b==="right",C=S?-5:5,I=x[S?"left":"right"],j=x[S?"right":"left"];o.onPointerGraceIntentChange({area:[{x:v.clientX+C,y:v.clientY},{x:I,y:x.top},{x:j,y:x.top},{x:j,y:x.bottom},{x:I,y:x.bottom}],side:b}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(v),v.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:Me(t.onKeyDown,v=>{const x=o.searchRef.current!=="";t.disabled||x&&v.key===" "||bK[r.dir].includes(v.key)&&(n.onOpenChange(!0),n.content?.focus(),v.preventDefault())})})})});hk.displayName=au;var fk="MenuSubContent",pk=_.forwardRef((t,e)=>{const n=XR(pr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,o=fa(pr,t.__scopeMenu),l=_d(pr,t.__scopeMenu),c=dk(fk,t.__scopeMenu),h=_.useRef(null),p=$t(e,h);return u.jsx(zu.Provider,{scope:t.__scopeMenu,children:u.jsx(ws,{present:r||o.open,children:u.jsx(zu.Slot,{scope:t.__scopeMenu,children:u.jsx(nw,{id:c.contentId,"aria-labelledby":c.triggerId,...s,ref:p,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{l.isUsingKeyboardRef.current&&h.current?.focus(),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:Me(t.onFocusOutside,g=>{g.target!==c.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:Me(t.onEscapeKeyDown,g=>{l.onClose(),g.preventDefault()}),onKeyDown:Me(t.onKeyDown,g=>{const v=g.currentTarget.contains(g.target),x=TK[l.dir].includes(g.key);v&&x&&(o.onOpenChange(!1),c.trigger?.focus(),g.preventDefault())})})})})})});pk.displayName=fk;function mk(t){return t?"open":"closed"}function ap(t){return t==="indeterminate"}function iw(t){return ap(t)?"indeterminate":t?"checked":"unchecked"}function zK(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function WK(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function HK(t,e,n){const s=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let l=WK(t,Math.max(o,0));s.length===1&&(l=l.filter(p=>p!==n));const h=l.find(p=>p.toLowerCase().startsWith(s.toLowerCase()));return h!==n?h:void 0}function KK(t,e){const{x:n,y:r}=t;let s=!1;for(let o=0,l=e.length-1;o<e.length;l=o++){const c=e[o].x,h=e[o].y,p=e[l].x,g=e[l].y;h>r!=g>r&&n<(p-c)*(r-h)/(g-h)+c&&(s=!s)}return s}function qK(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return KK(n,e)}function Wu(t){return e=>e.pointerType==="mouse"?t(e):void 0}var GK=YR,QK=Zx,YK=JR,XK=ZR,JK=rw,ZK=ek,eq=rm,tq=nk,nq=sk,rq=ok,sq=lk,iq=ck,oq=uk,aq=hk,lq=pk,ow="DropdownMenu",[cq,GG]=xs(ow,[GR]),In=GR(),[uq,gk]=cq(ow),vk=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:o,onOpenChange:l,modal:c=!0}=t,h=In(e),p=_.useRef(null),[g=!1,v]=hd({prop:s,defaultProp:o,onChange:l});return u.jsx(uq,{scope:e,triggerId:Xo(),triggerRef:p,contentId:Xo(),open:g,onOpenChange:v,onOpenToggle:_.useCallback(()=>v(x=>!x),[v]),modal:c,children:u.jsx(GK,{...h,open:g,onOpenChange:v,dir:r,modal:c,children:n})})};vk.displayName=ow;var yk="DropdownMenuTrigger",xk=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,o=gk(yk,n),l=In(n);return u.jsx(QK,{asChild:!0,...l,children:u.jsx(He.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:ua(e,o.triggerRef),onPointerDown:Me(t.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(o.onOpenToggle(),o.open||c.preventDefault())}),onKeyDown:Me(t.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&o.onOpenToggle(),c.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});xk.displayName=yk;var dq="DropdownMenuPortal",wk=t=>{const{__scopeDropdownMenu:e,...n}=t,r=In(e);return u.jsx(YK,{...r,...n})};wk.displayName=dq;var _k="DropdownMenuContent",Ek=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=gk(_k,n),o=In(n),l=_.useRef(!1);return u.jsx(XK,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...r,ref:e,onCloseAutoFocus:Me(t.onCloseAutoFocus,c=>{l.current||s.triggerRef.current?.focus(),l.current=!1,c.preventDefault()}),onInteractOutside:Me(t.onInteractOutside,c=>{const h=c.detail.originalEvent,p=h.button===0&&h.ctrlKey===!0,g=h.button===2||p;(!s.modal||g)&&(l.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Ek.displayName=_k;var hq="DropdownMenuGroup",fq=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=In(n);return u.jsx(JK,{...s,...r,ref:e})});fq.displayName=hq;var pq="DropdownMenuLabel",bk=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=In(n);return u.jsx(ZK,{...s,...r,ref:e})});bk.displayName=pq;var mq="DropdownMenuItem",Tk=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=In(n);return u.jsx(eq,{...s,...r,ref:e})});Tk.displayName=mq;var gq="DropdownMenuCheckboxItem",Sk=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=In(n);return u.jsx(tq,{...s,...r,ref:e})});Sk.displayName=gq;var vq="DropdownMenuRadioGroup",yq=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=In(n);return u.jsx(nq,{...s,...r,ref:e})});yq.displayName=vq;var xq="DropdownMenuRadioItem",Ck=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=In(n);return u.jsx(rq,{...s,...r,ref:e})});Ck.displayName=xq;var wq="DropdownMenuItemIndicator",Ik=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=In(n);return u.jsx(sq,{...s,...r,ref:e})});Ik.displayName=wq;var _q="DropdownMenuSeparator",Nk=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=In(n);return u.jsx(iq,{...s,...r,ref:e})});Nk.displayName=_q;var Eq="DropdownMenuArrow",bq=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=In(n);return u.jsx(oq,{...s,...r,ref:e})});bq.displayName=Eq;var Tq="DropdownMenuSubTrigger",Ak=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=In(n);return u.jsx(aq,{...s,...r,ref:e})});Ak.displayName=Tq;var Sq="DropdownMenuSubContent",Pk=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=In(n);return u.jsx(lq,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Pk.displayName=Sq;var Cq=vk,Iq=xk,Nq=wk,Rk=Ek,kk=bk,jk=Tk,Dk=Sk,Mk=Ck,Ok=Ik,Vk=Nk,Lk=Ak,Fk=Pk;const Aq=Cq,Pq=Iq,Rq=_.forwardRef(({className:t,inset:e,children:n,...r},s)=>u.jsxs(Lk,{ref:s,className:Ue("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,u.jsx(oU,{className:"ml-auto"})]}));Rq.displayName=Lk.displayName;const kq=_.forwardRef(({className:t,...e},n)=>u.jsx(Fk,{ref:n,className:Ue("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));kq.displayName=Fk.displayName;const Uk=_.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(Nq,{children:u.jsx(Rk,{ref:r,sideOffset:e,className:Ue("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Uk.displayName=Rk.displayName;const Tf=_.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(jk,{ref:r,className:Ue("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n}));Tf.displayName=jk.displayName;const jq=_.forwardRef(({className:t,children:e,checked:n,...r},s)=>u.jsxs(Dk,{ref:s,className:Ue("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(Ok,{children:u.jsx(sU,{className:"h-4 w-4"})})}),e]}));jq.displayName=Dk.displayName;const Dq=_.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(Mk,{ref:r,className:Ue("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(Ok,{children:u.jsx(dU,{className:"h-2 w-2 fill-current"})})}),e]}));Dq.displayName=Mk.displayName;const $k=_.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(kk,{ref:r,className:Ue("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));$k.displayName=kk.displayName;const Wy=_.forwardRef(({className:t,...e},n)=>u.jsx(Vk,{ref:n,className:Ue("-mx-1 my-1 h-px bg-muted",t),...e}));Wy.displayName=Vk.displayName;var aw="Avatar",[Mq,QG]=xs(aw),[Oq,Bk]=Mq(aw),zk=_.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,o]=_.useState("idle");return u.jsx(Oq,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:u.jsx(He.span,{...r,ref:e})})});zk.displayName=aw;var Wk="AvatarImage",Hk=_.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...o}=t,l=Bk(Wk,n),c=Vq(r,o.referrerPolicy),h=gn(p=>{s(p),l.onImageLoadingStatusChange(p)});return ms(()=>{c!=="idle"&&h(c)},[c,h]),c==="loaded"?u.jsx(He.img,{...o,ref:e,src:r}):null});Hk.displayName=Wk;var Kk="AvatarFallback",qk=_.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,o=Bk(Kk,n),[l,c]=_.useState(r===void 0);return _.useEffect(()=>{if(r!==void 0){const h=window.setTimeout(()=>c(!0),r);return()=>window.clearTimeout(h)}},[r]),l&&o.imageLoadingStatus!=="loaded"?u.jsx(He.span,{...s,ref:e}):null});qk.displayName=Kk;function Vq(t,e){const[n,r]=_.useState("idle");return ms(()=>{if(!t){r("error");return}let s=!0;const o=new window.Image,l=c=>()=>{s&&r(c)};return r("loading"),o.onload=l("loaded"),o.onerror=l("error"),o.src=t,e&&(o.referrerPolicy=e),()=>{s=!1}},[t,e]),n}var Gk=zk,Qk=Hk,Yk=qk;const lw=_.forwardRef(({className:t,...e},n)=>u.jsx(Gk,{ref:n,className:Ue("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));lw.displayName=Gk.displayName;const cw=_.forwardRef(({className:t,...e},n)=>u.jsx(Qk,{ref:n,className:Ue("aspect-square h-full w-full object-cover",t),...e}));cw.displayName=Qk.displayName;const uw=_.forwardRef(({className:t,...e},n)=>u.jsx(Yk,{ref:n,className:Ue("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));uw.displayName=Yk.displayName;function Lq({onMenuClick:t}){const{user:e}=Fn(),n=to(),r=async()=>{try{await $4(pu),n("/auth")}catch(s){console.error("Error signing out: ",s)}};return u.jsxs("header",{className:"sticky top-0 z-30 flex h-[60px] items-center justify-between gap-4 border-b bg-background px-4 sm:px-6",children:[u.jsx("div",{className:"flex items-center gap-4",children:u.jsx(ge,{variant:"ghost",size:"sm",onClick:t,className:"lg:hidden h-8 w-8 p-0",children:u.jsx(YN,{className:"h-4 w-4"})})}),u.jsx("div",{className:"flex items-center gap-4",children:u.jsxs(Aq,{children:[u.jsx(Pq,{asChild:!0,children:u.jsx(ge,{variant:"ghost",className:"relative h-10 w-10 rounded-full",children:u.jsxs(lw,{className:"h-10 w-10 border-2 border-border hover:border-primary transition-colors",children:[u.jsx(cw,{src:e.avatarUrl,alt:e.name}),u.jsx(uw,{children:e.name?.split(" ").map(s=>s[0]).join("")})]})})}),u.jsxs(Uk,{className:"w-56",align:"end",forceMount:!0,children:[u.jsx($k,{className:"font-normal",children:u.jsxs("div",{className:"flex flex-col space-y-1",children:[u.jsx("p",{className:"text-sm font-medium leading-none",children:e.name}),u.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:e.email})]})}),u.jsx(Wy,{}),u.jsx(Tf,{asChild:!0,children:u.jsxs(is,{to:"/profile",children:[u.jsx(pd,{className:"mr-2 h-4 w-4"}),"Profile"]})}),u.jsx(Tf,{asChild:!0,children:u.jsxs(is,{to:"/profile/settings",children:[u.jsx(sx,{className:"mr-2 h-4 w-4"}),"Settings"]})}),u.jsx(Wy,{}),u.jsxs(Tf,{onClick:r,children:[u.jsx(UU,{className:"mr-2 h-4 w-4"}),"Log out"]})]})]})})]})}const _S=[{href:"/dashboard",icon:DU,label:"Dashboard"},{href:"/rooms",icon:Mu,label:"Rooms"},{href:"/practice",icon:fU,label:"Practice"},{href:"/resume",icon:Du,label:"Resume"},{href:"/profile",icon:pd,label:"Profile"},{href:"/profile/settings",icon:sx,label:"Settings"}];function Fq({isOpen:t,onClose:e}){const n=Gu();return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"hidden lg:flex lg:w-64 lg:flex-col",children:u.jsxs("div",{className:"flex flex-col flex-grow bg-card border-r border-border overflow-y-auto shadow-sm",children:[u.jsx("div",{className:"flex items-center justify-center flex-shrink-0 px-4 py-4 border-b border-border bg-card/50 overflow-hidden",children:u.jsx(tp,{size:"sidebar",className:"drop-shadow-sm max-w-full"})}),u.jsx("div",{className:"mt-4 flex-grow flex flex-col",children:u.jsx("nav",{className:"flex-1 px-4 py-2 space-y-1",children:_S.map(r=>{const s=n.pathname===r.href||r.href!=="/dashboard"&&r.href!=="/profile"&&n.pathname.startsWith(r.href),o=r.icon;return u.jsxs(is,{to:r.href,className:Ue("group flex items-center px-3 py-2.5 text-sm font-medium rounded-lg transition-all duration-200",s?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:text-foreground hover:bg-accent/80"),children:[u.jsx(o,{className:"mr-3 h-5 w-5 flex-shrink-0"}),r.label]},r.href)})})})]})}),t&&u.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:e}),u.jsx("div",{className:Ue("fixed inset-y-0 left-0 z-50 w-64 bg-card border-r border-border transform transition-transform duration-300 ease-in-out lg:hidden",t?"translate-x-0":"-translate-x-full"),children:u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsx("div",{className:"flex items-center justify-center p-4 border-b border-border overflow-hidden bg-white",children:u.jsx(tp,{size:"md",className:"drop-shadow-sm"})}),u.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2 overflow-y-auto",children:_S.map(r=>{const s=n.pathname===r.href||r.href!=="/dashboard"&&r.href!=="/profile"&&n.pathname.startsWith(r.href),o=r.icon;return u.jsxs(is,{to:r.href,onClick:e,className:Ue("group flex items-center px-3 py-3 text-sm font-medium rounded-md transition-colors",s?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-accent"),children:[u.jsx(o,{className:"mr-3 h-5 w-5 flex-shrink-0"}),r.label]},r.href)})}),u.jsx("div",{className:"p-4 border-t border-border",children:u.jsxs("button",{type:"button",onClick:e,className:"group flex items-center w-full px-3 py-2.5 text-sm font-medium rounded-lg transition-all duration-200 text-muted-foreground hover:text-foreground hover:bg-accent/80",children:[u.jsx(zp,{className:"mr-3 h-5 w-5 flex-shrink-0"}),"Close Menu"]})})]})})]})}function qs({children:t}){const[e,n]=_.useState(!1);return u.jsxs("div",{className:"flex h-screen bg-background",children:[u.jsx(Fq,{isOpen:e,onClose:()=>n(!1)}),u.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[u.jsx(Lq,{onMenuClick:()=>n(!0)}),u.jsx("main",{className:"flex-1 overflow-y-auto",children:t})]})]})}const Uq=fd("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function bn({className:t,variant:e,...n}){return u.jsx("div",{className:Ue(Uq({variant:e}),t),...n})}class $q{constructor(){this.storageKey="cosmivity-practice-data",this.listeners=[]}getData(){try{const e=localStorage.getItem(this.storageKey);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading from localStorage:",e),[]}}saveData(e){try{localStorage.setItem(this.storageKey,JSON.stringify(e)),this.notifyListeners(e)}catch(n){console.error("Error saving to localStorage:",n)}}notifyListeners(e){this.listeners.forEach(n=>n(e))}async addDoc(e,n){const r=this.getData(),s={id:`mock-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,...n,createdAt:new Date,updatedAt:new Date};return r.push(s),this.saveData(r),{id:s.id}}async getDocs(e){const n=this.getData();return{empty:n.length===0,size:n.length}}onSnapshot(e,n){this.listeners.push(n);const r=this.getData();return n(r),()=>{const s=this.listeners.indexOf(n);s>-1&&this.listeners.splice(s,1)}}clearData(){localStorage.removeItem(this.storageKey),this.notifyListeners([])}isMockMode(){return!0}}const Hy=new $q;function Bq(){try{return!Pe||!Pe.app}catch{return!0}}const tn={async createRoom(t){try{const e=await kr(ot(Pe,"rooms"),{...t,participants:[t.hostId],createdAt:Rt(),isActive:!0}),n=xt(Pe,"rooms",e.id,"participants",t.hostId);return await bl(n,{userId:t.hostId,userName:t.hostName,isHost:!0,micEnabled:!0,cameraEnabled:!0,joinedAt:Rt()}),e.id}catch(e){throw console.error("Error creating room:",e),e}},async joinRoom(t,e,n){try{const r=xt(Pe,"rooms",t),s=await ru(r);if(!s.exists())throw new Error("Room not found");const o=s.data();if(o.participants.length>=o.maxParticipants)throw new Error("Room is at maximum capacity");if(o.participants.includes(e)){const c=xt(Pe,"rooms",t,"participants",e);await bl(c,{uid:e,userId:e,name:n,userName:n,isHost:o.hostId===e,micEnabled:!0,cameraEnabled:!0,joinedAt:Rt()});return}await ss(r,{participants:i5(e)});const l=xt(Pe,"rooms",t,"participants",e);await bl(l,{uid:e,userId:e,name:n,userName:n,isHost:!1,micEnabled:!0,cameraEnabled:!0,joinedAt:Rt()})}catch(r){throw console.error("Error joining room:",r),r}},async deleteRoom(t){try{await ku(xt(Pe,"rooms",t))}catch(e){throw console.error("Error deleting room:",e),e}},subscribeToPublicRooms(t){const e=Vn(ot(Pe,"rooms"),Gn("type","==","public"),Gn("isActive","==",!0),Ko("createdAt","desc")),n=new Map,r=jr(e,s=>{const o=new Map;s.docs.forEach(l=>{const c=l.data(),h=l.id;if(o.set(h,{...c,id:h}),!n.has(h)){const p=ot(Pe,"rooms",h,"participants"),g=jr(p,v=>{const x=v.size,b=v.docs.map(C=>C.data().userId||C.data().uid),S=o.get(h);S&&(S.participants=b,o.set(h,S),t(Array.from(o.values()))),x!==(c.participants?.length||0)&&ss(xt(Pe,"rooms",h),{participants:b}).catch(C=>console.warn(`Error updating room ${h} participants:`,C))});n.set(h,g)}}),n.forEach((l,c)=>{o.has(c)||(l(),n.delete(c))}),t(Array.from(o.values()))});return()=>{r(),n.forEach(s=>s()),n.clear()}},async getRoomByKey(t){try{const e=Vn(ot(Pe,"rooms"),Gn("roomKey","==",t),Gn("type","==","private"),Gn("isActive","==",!0)),n=await ns(e);if(!n.empty){const r=n.docs[0];return{id:r.id,...r.data()}}return null}catch(e){throw console.error("Error getting room by key:",e),e}},subscribeToUserRooms(t,e){const n=Vn(ot(Pe,"rooms"),Gn("participants","array-contains",t),Gn("isActive","==",!0),Ko("createdAt","desc"));return jr(n,r=>{const s=[];r.forEach(o=>{s.push({id:o.id,...o.data()})}),e(s)})},subscribeToRoomParticipants(t,e){const n=Vn(ot(Pe,"rooms",t,"participants"),Ko("joinedAt","asc"));return jr(n,r=>{const s=[];r.forEach(o=>{s.push({...o.data()})}),e(s)})},async updateParticipantMedia(t,e,n,r){try{const s=xt(Pe,"rooms",t,"participants",e);await ss(s,{micEnabled:n,cameraEnabled:r})}catch(s){throw console.error("Error updating participant media:",s),s}},async sendMessage(t,e,n,r){try{await kr(ot(Pe,"rooms",t,"messages"),{userId:e,userName:n,message:r,timestamp:Rt()})}catch(s){throw console.error("Error sending message:",s),s}},subscribeToRoomMessages(t,e){const n=Vn(ot(Pe,"rooms",t,"messages"),Ko("timestamp","asc"));return jr(n,r=>{const s=[];r.forEach(o=>{s.push({id:o.id,...o.data()})}),e(s)})},async clearRoomMessages(t){try{const e=ot(Pe,"rooms",t,"messages"),n=await ns(e);if(n.empty){console.log(`No messages to clear in room ${t}`);return}const r=ff(Pe);n.forEach(s=>r.delete(s.ref)),await r.commit(),console.log(`Cleared ${n.size} messages from room ${t}`)}catch(e){throw console.error("Error clearing room messages:",e),e}},async leaveRoom(t,e){try{const n=xt(Pe,"rooms",t);await ss(n,{participants:o5(e)});const r=xt(Pe,"rooms",t,"participants",e);await ku(r);const s=await ru(n);s.exists()&&(s.data().participants||[]).length===0&&(console.log(`Room ${t} is now empty, cleaning up...`),await this.clearRoomMessages(t));try{const o=ot(Pe,"rooms",t,"signaling"),l=Vn(o,Gn("sender","==",e)),c=Vn(o,Gn("recipient","==",e)),[h,p]=await Promise.all([ns(l),ns(c)]),g=ff(Pe);h.forEach(v=>g.delete(v.ref)),p.forEach(v=>g.delete(v.ref)),(!h.empty||!p.empty)&&await g.commit()}catch(o){console.warn("Error cleaning up signaling data:",o)}}catch(n){throw console.error("Error leaving room:",n),n}},async getRoom(t){try{const e=xt(Pe,"rooms",t),n=await ru(e);return n.exists()?{id:n.id,...n.data()}:null}catch(e){throw console.error("Error getting room:",e),e}},async cleanupStaleParticipants(t){try{const e=xt(Pe,"rooms",t),n=await ru(e);if(!n.exists())return;const s=n.data().participants||[],o=ot(Pe,"rooms",t,"participants"),l=await ns(o),c=ff(Pe);let h=!1;const p=[];if(l.forEach(g=>{const v=g.data(),x=v.userId||v.uid;s.includes(x)?p.push(x):(c.delete(g.ref),h=!0)}),p.length!==s.length&&(c.update(e,{participants:p}),h=!0),p.length===0&&s.length>0){console.log(`Room ${t} became empty during cleanup, clearing messages...`);const g=ot(Pe,"rooms",t,"messages");(await ns(g)).forEach(x=>c.delete(x.ref))}h&&(await c.commit(),console.log(`Cleaned up stale participants in room ${t}. Active: ${p.length}`))}catch(e){console.error("Error cleaning up stale participants:",e)}}},Xk={async addSubject(t){try{return(await kr(ot(Pe,"aptitude-subjects"),{...t,createdAt:Rt(),updatedAt:Rt()})).id}catch(e){throw console.error("Error adding subject:",e),e}},async getUserSubjects(t){try{const e=Vn(ot(Pe,"aptitude-subjects"),Gn("createdBy","==",t),Ko("createdAt","desc")),n=await ns(e),r=[];return n.forEach(s=>{r.push({id:s.id,...s.data()})}),r}catch(e){throw console.error("Error getting subjects:",e),e}},subscribeToAllSubjects(t){if(Bq())return console.log("🔧 Using mock Firebase for subscribeToAllSubjects"),Hy.onSnapshot("aptitude-subjects",e=>{console.log("📚 Mock Firebase subjects received:",e),t(e)});{const e=Vn(ot(Pe,"aptitude-subjects"));return jr(e,n=>{console.log("🔥 Firebase snapshot received. Documents count:",n.size);const r=[];n.forEach(s=>{console.log("📄 Document data:",{id:s.id,data:s.data()}),r.push({id:s.id,...s.data()})}),console.log("📚 Final subjects array:",r),t(r)})}},async updateSubject(t,e){try{await ss(xt(Pe,"aptitude-subjects",t),{...e,updatedAt:Rt()})}catch(n){throw console.error("Error updating subject:",n),n}},async deleteSubject(t){try{await ku(xt(Pe,"aptitude-subjects",t))}catch(e){throw console.error("Error deleting subject:",e),e}}},Hu={async createResume(t){try{return(await kr(ot(Pe,"resumes"),{...t,createdAt:Rt(),updatedAt:Rt()})).id}catch(e){throw console.error("Error creating resume:",e),e}},async updateResume(t,e){try{const n=xt(Pe,"resumes",t);await ss(n,{...e,updatedAt:Rt()})}catch(n){throw console.error("Error updating resume:",n),n}},async deleteResume(t){try{await ku(xt(Pe,"resumes",t))}catch(e){throw console.error("Error deleting resume:",e),e}},subscribeToUserResumes(t,e){const n=Vn(ot(Pe,"resumes"),Gn("userId","==",t),Ko("updatedAt","desc"));return jr(n,r=>{const s=[];r.forEach(o=>{s.push({id:o.id,...o.data()})}),e(s)})},async getResume(t){try{const e=xt(Pe,"resumes",t),n=await ns(Vn(ot(Pe,"resumes"),Gn("__name__","==",t)));if(!n.empty){const r=n.docs[0];return{id:r.id,...r.data()}}return null}catch(e){throw console.error("Error getting resume:",e),e}}},Ku={subscribeToTemplates(t){const e=Vn(ot(Pe,"resume-templates"),Ko("atsScore","desc"));return jr(e,n=>{const r=[];n.forEach(s=>{r.push({id:s.id,...s.data()})}),t(r)})},async addDefaultTemplates(){const t=[{name:"ATS Professional",description:"Clean, ATS-friendly design perfect for corporate roles",atsScore:95,category:"professional",preview:"/templates/ats-professional.png",isDefault:!0},{name:"Modern Minimalist",description:"Simple, elegant design with excellent readability",atsScore:90,category:"professional",preview:"/templates/modern-minimalist.png",isDefault:!0},{name:"Technical Focus",description:"Optimized for software engineers and technical roles",atsScore:88,category:"technical",preview:"/templates/technical-focus.png",isDefault:!0},{name:"Academic CV",description:"Comprehensive format for academic and research positions",atsScore:85,category:"academic",preview:"/templates/academic-cv.png",isDefault:!0},{name:"Creative Professional",description:"Stylish design for creative industries",atsScore:75,category:"creative",preview:"/templates/creative-professional.png",isDefault:!0}];try{for(const e of t)await kr(ot(Pe,"resume-templates"),{...e,createdAt:Rt()});console.log("Default templates added successfully")}catch(e){throw console.error("Error adding default templates:",e),e}}},Jk=async()=>{let t=0;const e=10;for(;t<e;){let r="";for(;r.length<6;)r+=Math.random().toString(36).substring(2);r=r.substring(0,6).toUpperCase();try{if(!await tn.getRoomByKey(r))return r}catch(s){return console.error("Error checking room key uniqueness:",s),r}t++}let n="";for(;n.length<6;)n+=Math.random().toString(36).substring(2);return n.substring(0,6).toUpperCase()},zq=Object.freeze(Object.defineProperty({__proto__:null,aptitudeService:Xk,generateRoomKey:Jk,resumeService:Hu,roomsService:tn,templateService:Ku},Symbol.toStringTag,{value:"Module"}));function Wq(){const{user:t,firebaseUser:e}=Fn(),[n,r]=_.useState([]);return _.useEffect(()=>{if(!e)return;const s=tn.subscribeToUserRooms(e.uid,o=>{r(o)});return()=>s()},[e]),u.jsx(qs,{children:u.jsxs("div",{className:"p-4 sm:p-6 space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[u.jsxs("div",{children:[u.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:["Welcome back, ",t.name?.split(" ")[0]||"Student","! 👋"]}),u.jsx("p",{className:"text-muted-foreground mt-2",children:"Your learning dashboard"})]}),u.jsx("div",{className:"flex gap-3",children:u.jsx(ge,{asChild:!0,variant:"outline",className:"flex-shrink-0",children:u.jsxs(is,{to:"/rooms",children:[u.jsx(Mu,{className:"h-4 w-4 mr-2"}),u.jsx("span",{className:"hidden sm:inline",children:"Go to "}),"Rooms"]})})})]}),u.jsxs(tt,{className:"p-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Your Information"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("p",{className:"text-sm",children:[u.jsx("span",{className:"font-medium",children:"Name:"})," ",t.name||"Not provided"]}),u.jsxs("p",{className:"text-sm",children:[u.jsx("span",{className:"font-medium",children:"Email:"})," ",t.email||"Not provided"]})]})]}),u.jsxs(tt,{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Rooms You've Joined"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(bn,{variant:"secondary",children:n.length}),u.jsx(Qo,{className:"h-5 w-5 text-muted-foreground"})]})]}),n.length>0?u.jsx("div",{className:"space-y-3",children:n.map(s=>u.jsx("div",{className:"p-3 rounded-lg border border-border hover:bg-muted/50 transition-colors",children:u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("p",{className:"font-medium truncate",children:s.name}),s.type==="private"?u.jsx(gf,{className:"h-4 w-4 text-blue-600 flex-shrink-0"}):u.jsx(rx,{className:"h-4 w-4 text-green-600 flex-shrink-0"})]}),u.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:["Topic: ",s.topic]}),u.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:["Host: ",s.hostName]}),u.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[u.jsx(Qo,{className:"h-3 w-3 text-muted-foreground"}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:[s.participants.length,"/",s.maxParticipants," participants"]})]})]}),u.jsx(ge,{size:"sm",variant:"outline",asChild:!0,className:"flex-shrink-0",children:u.jsx(is,{to:`/rooms/${s.id}`,children:"Enter"})})]})},s.id))}):u.jsxs("div",{className:"text-center py-8",children:[u.jsx(Qo,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),u.jsx("p",{className:"text-muted-foreground mb-4",children:"You haven't joined any rooms yet"}),u.jsx(ge,{asChild:!0,children:u.jsxs(is,{to:"/rooms",children:[u.jsx(Mu,{className:"h-4 w-4 mr-2"}),"Browse Rooms"]})})]})]})]})})}function Hq(){const{user:t}=Fn();return u.jsx(qs,{children:u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Profile Settings"}),u.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage your account settings and profile information."})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsx(tt,{className:"p-6",children:u.jsxs("div",{className:"text-center space-y-4",children:[u.jsxs("div",{className:"relative inline-block",children:[u.jsxs(lw,{className:"h-24 w-24 border-4 border-border",children:[u.jsx(cw,{src:t.avatarUrl,alt:t.name}),u.jsx(uw,{className:"text-2xl",children:t.name?.split(" ").map(e=>e[0]).join("")})]}),u.jsx(ge,{size:"icon",variant:"outline",className:"absolute -bottom-2 -right-2 h-8 w-8 rounded-full",children:u.jsx(nU,{className:"h-4 w-4"})})]}),u.jsx(ge,{variant:"outline",size:"sm",children:"Change Photo"})]})}),u.jsxs(tt,{className:"lg:col-span-2 p-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Personal Information"}),u.jsxs("form",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ze,{htmlFor:"name",children:"Full Name"}),u.jsxs("div",{className:"relative",children:[u.jsx(pd,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),u.jsx(rt,{id:"name",defaultValue:t.name,className:"pl-10",placeholder:"Enter your full name"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ze,{htmlFor:"email",children:"Email"}),u.jsxs("div",{className:"relative",children:[u.jsx(hy,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),u.jsx(rt,{id:"email",type:"email",defaultValue:t.email,className:"pl-10",placeholder:"Enter your email"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ze,{htmlFor:"college",children:"University/College"}),u.jsxs("div",{className:"relative",children:[u.jsx(ZU,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),u.jsx(rt,{id:"college",defaultValue:t.college,className:"pl-10",placeholder:"Enter your university or college"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ze,{htmlFor:"bio",children:"Bio"}),u.jsx(Qp,{id:"bio",defaultValue:t.bio,placeholder:"Tell us about yourself...",rows:3})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"font-medium",children:"Social Links"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ze,{htmlFor:"github",children:"GitHub"}),u.jsxs("div",{className:"relative",children:[u.jsx(NU,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),u.jsx(rt,{id:"github",defaultValue:t.github,className:"pl-10",placeholder:"https://github.com/username"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ze,{htmlFor:"linkedin",children:"LinkedIn"}),u.jsxs("div",{className:"relative",children:[u.jsx(QN,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),u.jsx(rt,{id:"linkedin",defaultValue:t.linkedin,className:"pl-10",placeholder:"https://linkedin.com/in/username"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ze,{htmlFor:"website",children:"Website"}),u.jsxs("div",{className:"relative",children:[u.jsx(rx,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),u.jsx(rt,{id:"website",defaultValue:t.website,className:"pl-10",placeholder:"https://yourwebsite.com"})]})]})]})]}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsx(ge,{type:"submit",children:"Save Changes"}),u.jsx(ge,{type:"button",variant:"outline",children:"Cancel"})]})]})]})]})]})})}function Kq(){const{user:t,firebaseUser:e}=Fn(),{toast:n}=Lp(),[r,s]=_.useState(!1),[o,l]=_.useState(!1),[c,h]=_.useState(!1),[p,g]=_.useState(!1),[v,x]=_.useState(!1),[b,S]=_.useState({currentPassword:"",newPassword:"",confirmPassword:""}),C=async()=>{if(!e){n({variant:"destructive",title:"Error",description:"You must be logged in to change your password."});return}if(b.newPassword!==b.confirmPassword){n({variant:"destructive",title:"Error",description:"New passwords do not match."});return}if(b.newPassword.length<6){n({variant:"destructive",title:"Error",description:"New password must be at least 6 characters long."});return}if(!b.currentPassword){n({variant:"destructive",title:"Error",description:"Please enter your current password."});return}s(!0);try{const j=oa.credential(e.email,b.currentPassword);await j4(e,j),await O4(e,b.newPassword),S({currentPassword:"",newPassword:"",confirmPassword:""}),l(!1),n({title:"Password updated",description:"Your password has been changed successfully."})}catch(j){let L="Failed to update password. Please try again.";switch(j.code){case"auth/wrong-password":case"auth/invalid-credential":L="Current password is incorrect.";break;case"auth/weak-password":L="New password is too weak. Please choose a stronger password.";break;case"auth/requires-recent-login":L="Please log out and log back in before changing your password.";break}n({variant:"destructive",title:"Error",description:L})}finally{s(!1)}},I=()=>{S({currentPassword:"",newPassword:"",confirmPassword:""}),l(!1)};return u.jsx(qs,{children:u.jsxs("div",{className:"p-4 sm:p-6 space-y-6 max-w-2xl mx-auto",children:[u.jsxs("div",{children:[u.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[u.jsx(sx,{className:"h-8 w-8"}),"Settings"]}),u.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage your account settings."})]}),u.jsxs(tt,{className:"p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx(s9,{className:"h-5 w-5"}),u.jsx("h2",{className:"text-xl font-semibold",children:"Account Security"})]}),u.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Update your password to keep your account secure."}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[u.jsxs("div",{children:[u.jsx(Ze,{className:"text-base font-medium",children:"Password"}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Account created on ",e?.metadata?.creationTime?new Date(e.metadata.creationTime).toLocaleDateString():"Unknown date"]})]}),u.jsxs(ge,{variant:"outline",onClick:()=>l(!0),disabled:o,className:"flex items-center gap-2",children:[u.jsx(JN,{className:"h-4 w-4"}),"Change"]})]}),o&&u.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/50",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ze,{htmlFor:"currentPassword",children:"Current Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(rt,{id:"currentPassword",type:c?"text":"password",value:b.currentPassword,onChange:j=>S(L=>({...L,currentPassword:j.target.value})),placeholder:"Enter your current password",className:"pr-10"}),u.jsx(ge,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>h(!c),children:c?u.jsx(Tl,{className:"h-4 w-4"}):u.jsx(Ws,{className:"h-4 w-4"})})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ze,{htmlFor:"newPassword",children:"New Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(rt,{id:"newPassword",type:p?"text":"password",value:b.newPassword,onChange:j=>S(L=>({...L,newPassword:j.target.value})),placeholder:"Enter your new password",className:"pr-10"}),u.jsx(ge,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>g(!p),children:p?u.jsx(Tl,{className:"h-4 w-4"}):u.jsx(Ws,{className:"h-4 w-4"})})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ze,{htmlFor:"confirmPassword",children:"Confirm New Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(rt,{id:"confirmPassword",type:v?"text":"password",value:b.confirmPassword,onChange:j=>S(L=>({...L,confirmPassword:j.target.value})),placeholder:"Confirm your new password",className:"pr-10"}),u.jsx(ge,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>x(!v),children:v?u.jsx(Tl,{className:"h-4 w-4"}):u.jsx(Ws,{className:"h-4 w-4"})})]})]}),u.jsxs("div",{className:"flex items-center gap-3 pt-4",children:[u.jsx(ge,{onClick:C,disabled:r,className:"flex items-center gap-2",children:r?"Updating...":"Save Password"}),u.jsx(ge,{variant:"outline",onClick:I,disabled:r,children:"Cancel"})]})]})]})]})]})})}var dw="Progress",hw=100,[qq,YG]=xs(dw),[Gq,Qq]=qq(dw),Zk=_.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:o=Yq,...l}=t;(s||s===0)&&!ES(s)&&console.error(Xq(`${s}`,"Progress"));const c=ES(s)?s:hw;r!==null&&!bS(r,c)&&console.error(Jq(`${r}`,"Progress"));const h=bS(r,c)?r:null,p=lp(h)?o(h,c):void 0;return u.jsx(Gq,{scope:n,value:h,max:c,children:u.jsx(He.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":lp(h)?h:void 0,"aria-valuetext":p,role:"progressbar","data-state":nj(h,c),"data-value":h??void 0,"data-max":c,...l,ref:e})})});Zk.displayName=dw;var ej="ProgressIndicator",tj=_.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=Qq(ej,n);return u.jsx(He.div,{"data-state":nj(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});tj.displayName=ej;function Yq(t,e){return`${Math.round(t/e*100)}%`}function nj(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function lp(t){return typeof t=="number"}function ES(t){return lp(t)&&!isNaN(t)&&t>0}function bS(t,e){return lp(t)&&!isNaN(t)&&t<=e&&t>=0}function Xq(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${hw}\`.`}function Jq(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${hw} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var rj=Zk,Zq=tj;const sj=_.forwardRef(({className:t,value:e,...n},r)=>u.jsx(rj,{ref:r,className:Ue("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:u.jsx(Zq,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));sj.displayName=rj.displayName;const eG=5,tG=1e6;let Tv=0;function nG(){return Tv=(Tv+1)%Number.MAX_SAFE_INTEGER,Tv.toString()}const Sv=new Map,TS=t=>{if(Sv.has(t))return;const e=setTimeout(()=>{Sv.delete(t),wu({type:"REMOVE_TOAST",toastId:t})},tG);Sv.set(t,e)},rG=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,eG)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?TS(n):t.toasts.forEach(r=>{TS(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Sf=[];let Cf={toasts:[]};function wu(t){Cf=rG(Cf,t),Sf.forEach(e=>{e(Cf)})}function sG({...t}){const e=nG(),n=s=>wu({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>wu({type:"DISMISS_TOAST",toastId:e});return wu({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function pa(){const[t,e]=_.useState(Cf);return _.useEffect(()=>(Sf.push(e),()=>{const n=Sf.indexOf(e);n>-1&&Sf.splice(n,1)}),[t]),{...t,toast:sG,dismiss:n=>wu({type:"DISMISS_TOAST",toastId:n})}}const ij=(t,e)=>{const n=aj(t,e),r=document.createElement("a"),s=new Blob([n],{type:"text/html"});r.href=URL.createObjectURL(s),r.download=`${t.personalInfo.fullName.replace(/\s+/g,"_")}_Resume.html`,document.body.appendChild(r),r.click(),document.body.removeChild(r)},oj=async(t,e)=>{const n=oG(t,e),r=window.open("","_blank");r&&(r.document.write(n),r.document.close(),r.focus(),setTimeout(()=>{r.print()},250))},iG=t=>{if(!t)return"";switch(t.name.toLowerCase().replace(/\s+/g,"-")){case"ats-professional":return`
        body { background: #f8fafc; }
        .container { border: 2px solid #dbeafe; background: white; }
        .header { background: #eff6ff; border-bottom: 3px solid #2563eb; color: #1e40af; }
        .name { color: #1e40af; font-size: 2.5em; letter-spacing: 2px; }
        .contact { color: #1e40af; font-weight: 600; }
        .section-title { color: #1e40af; border-bottom: 2px solid #93c5fd; text-transform: uppercase; letter-spacing: 3px; }
        .item-title { color: #1f2937; font-size: 1.1em; }
        .item-subtitle { color: #2563eb; font-weight: 600; }
        .item-date { color: #3b82f6; font-weight: 600; }
      `;case"modern-minimalist":return`
        .container { border-left: 8px solid #10b981; padding-left: 2rem; }
        .name { font-weight: 300; font-size: 3em; letter-spacing: -1px; }
        .contact { color: #6b7280; font-weight: 300; }
        .section-title { color: #059669; font-size: 0.9em; text-transform: uppercase; letter-spacing: 2px; border-bottom: 1px solid #d1fae5; }
        .item-title { font-weight: 500; }
        .item-subtitle { color: #059669; }
        .item-date { color: #9ca3af; font-size: 0.8em; }
        .description { font-weight: 300; }
      `;case"technical-focus":return`
        body { background: #111827; color: #10b981; font-family: 'Courier New', monospace; }
        .container { background: #1f2937; border: 1px solid #10b981; }
        .header { background: #000; color: #10b981; border-bottom: 2px solid #10b981; }
        .name { color: #34d399; }
        .section-title { background: #374151; color: #34d399; padding: 0.5rem 1rem; border-left: 4px solid #10b981; text-transform: uppercase; }
        .experience-item { background: #374151; border-left: 2px solid #10b981; padding: 1rem; margin: 0.5rem 0; }
        .item-title::before { content: '['; }
        .item-title::after { content: ']'; }
        .item-subtitle::before { content: '@ '; }
        .description::before { content: '// '; }
      `;case"academic-cv":return`
        .container { border: 1px solid #d1d5db; }
        .header { text-align: center; border-bottom: 1px solid #9ca3af; padding-bottom: 2rem; }
        .name { font-size: 3em; letter-spacing: 1px; }
        .section-title { text-align: center; font-size: 1.3em; border-bottom: 2px solid #9ca3af; margin: 2rem 0 1.5rem 0; }
        .experience-item { text-align: center; margin: 2rem 0; }
        .description { text-align: justify; line-height: 1.8; margin-top: 1rem; }
      `;case"creative-professional":return`
        body { background: linear-gradient(135deg, #fdf4ff 0%, #fef7f0 100%); }
        .container { background: white; border: 4px solid #e879f9; border-radius: 1rem; }
        .header { background: white; border-radius: 1rem; box-shadow: 0 4px 6px rgba(0,0,0,0.1); border: 1px solid #e879f9; margin: 1rem; padding: 2rem; }
        .name { background: linear-gradient(45deg, #a855f7, #ec4899, #f97316); -webkit-background-clip: text; -webkit-text-fill-color: transparent; font-size: 3em; }
        .contact { color: #7c3aed; font-weight: 600; }
        .section-title { color: #7c3aed; border-bottom: 4px solid #e879f9; font-size: 1.3em; }
        .experience-item { background: white; border-radius: 0.5rem; box-shadow: 0 2px 4px rgba(0,0,0,0.1); border: 1px solid #e879f9; padding: 1.5rem; margin: 1rem 0; }
        .item-subtitle { color: #a855f7; }
        .item-date { background: linear-gradient(45deg, #fdf4ff, #fef7f0); padding: 0.25rem 0.5rem; border-radius: 0.25rem; }
      `;default:return""}},aj=(t,e)=>`
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${t.personalInfo.fullName} - Resume</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Arial', 'Helvetica', sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
            padding: 40px 20px;
            background: #fff;
        }
        .container { padding: 2rem; }
        .header { 
            text-align: center; 
            border-bottom: 3px solid #2563eb; 
            padding-bottom: 20px; 
            margin-bottom: 30px; 
        }
        .header h1 { 
            font-size: 2.5em; 
            font-weight: bold; 
            color: #1e40af; 
            margin-bottom: 10px; 
        }
        .contact-info { 
            display: flex; 
            justify-content: center; 
            gap: 20px; 
            flex-wrap: wrap; 
            font-size: 0.9em; 
            color: #666;
        }
        .contact-info span { 
            display: flex; 
            align-items: center; 
            gap: 5px; 
        }
        .section { 
            margin-bottom: 30px; 
        }
        .section-title { 
            font-size: 1.3em; 
            font-weight: bold; 
            color: #1e40af; 
            border-bottom: 2px solid #e5e7eb; 
            padding-bottom: 8px; 
            margin-bottom: 15px; 
            text-transform: uppercase; 
            letter-spacing: 1px;
        }
        .item { 
            margin-bottom: 20px; 
            padding-left: 0; 
        }
        .item-header { 
            display: flex; 
            justify-content: space-between; 
            align-items: flex-start; 
            margin-bottom: 5px; 
        }
        .item-title { 
            font-weight: bold; 
            font-size: 1.1em; 
            color: #1f2937; 
        }
        .item-subtitle { 
            color: #6b7280; 
            font-style: italic; 
            font-size: 0.95em; 
        }
        .item-date { 
            color: #6b7280; 
            font-size: 0.9em; 
            font-weight: 500; 
        }
        .item-description { 
            margin: 8px 0; 
            color: #374151; 
            line-height: 1.6; 
        }
        .achievements { 
            margin: 10px 0; 
            padding-left: 20px; 
        }
        .achievements li { 
            margin-bottom: 5px; 
            color: #374151; 
        }
        .skills-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); 
            gap: 15px; 
        }
        .skill-group { 
            background: #f9fafb; 
            padding: 15px; 
            border-radius: 8px; 
            border-left: 4px solid #2563eb; 
        }
        .skill-category { 
            font-weight: bold; 
            color: #1e40af; 
            margin-bottom: 8px; 
        }
        .skill-items { 
            color: #374151; 
            font-size: 0.95em; 
        }
        .project-links { 
            margin-top: 8px; 
            font-size: 0.9em; 
        }
        .project-links a { 
            color: #2563eb; 
            text-decoration: none; 
            margin-right: 15px; 
        }
        .project-links a:hover { 
            text-decoration: underline; 
        }
        .technologies { 
            background: #eff6ff; 
            padding: 8px 12px; 
            border-radius: 6px; 
            font-size: 0.9em; 
            color: #1e40af; 
            margin-top: 8px; 
            display: inline-block; 
        }
        @media print {
            body { padding: 20px; }
            .section { page-break-inside: avoid; }
        }
        ${iG(e)}
    </style>
</head>
<body>
  <div class="container">
    <div class="header">
        <h1>${t.personalInfo.fullName}</h1>
        <div class="contact-info">
            ${t.personalInfo.email?`<span>📧 ${t.personalInfo.email}</span>`:""}
            ${t.personalInfo.phone?`<span>📞 ${t.personalInfo.phone}</span>`:""}
            ${t.personalInfo.location?`<span>📍 ${t.personalInfo.location}</span>`:""}
            ${t.personalInfo.linkedin?`<span>💼 <a href="${t.personalInfo.linkedin}" target="_blank">LinkedIn</a></span>`:""}
            ${t.personalInfo.github?`<span>💻 <a href="${t.personalInfo.github}" target="_blank">GitHub</a></span>`:""}
            ${t.personalInfo.website?`<span>🌐 <a href="${t.personalInfo.website}" target="_blank">Website</a></span>`:""}
        </div>
    </div>
    
    ${t.summary?`
    <div class="section">
        <div class="section-title">Professional Summary</div>
        <p class="item-description">${t.summary}</p>
    </div>
    `:""}
    
    ${t.experience&&t.experience.length>0?`
    <div class="section">
        <div class="section-title">Professional Experience</div>
        ${t.experience.map(n=>`
        <div class="item">
            <div class="item-header">
                <div>
                    <div class="item-title">${n.position}</div>
                    <div class="item-subtitle">${n.company}</div>
                </div>
                <div class="item-date">${n.startDate} - ${n.current?"Present":n.endDate}</div>
            </div>
            ${n.description?`<p class="item-description">${n.description}</p>`:""}
            ${n.achievements.length>0?`
            <ul class="achievements">
                ${n.achievements.map(r=>`<li>${r}</li>`).join("")}
            </ul>
            `:""}
        </div>
        `).join("")}
    </div>
    `:""}
    
    ${t.education&&t.education.length>0?`
    <div class="section">
        <div class="section-title">Education</div>
        ${t.education.map(n=>`
        <div class="item">
            <div class="item-header">
                <div>
                    <div class="item-title">${n.degree} in ${n.field}</div>
                    <div class="item-subtitle">${n.institution}</div>
                </div>
                <div class="item-date">${n.startDate} - ${n.endDate}</div>
            </div>
            ${n.gpa?`<p class="item-description">GPA: ${n.gpa}</p>`:""}
            ${n.achievements.length>0?`
            <ul class="achievements">
                ${n.achievements.map(r=>`<li>${r}</li>`).join("")}
            </ul>
            `:""}
        </div>
        `).join("")}
    </div>
    `:""}
    
    ${t.skills&&t.skills.length>0?`
    <div class="section">
        <div class="section-title">Technical Skills</div>
        <div class="skills-grid">
            ${t.skills.map(n=>`
            <div class="skill-group">
                <div class="skill-category">${n.category}</div>
                <div class="skill-items">${n.items.join(" • ")}</div>
            </div>
            `).join("")}
        </div>
    </div>
    `:""}
    
    ${t.projects&&t.projects.length>0?`
    <div class="section">
        <div class="section-title">Projects</div>
        ${t.projects.map(n=>`
        <div class="item">
            <div class="item-title">${n.name}</div>
            <p class="item-description">${n.description}</p>
            ${n.technologies.length>0?`
            <div class="technologies">
                <strong>Technologies:</strong> ${n.technologies.join(" • ")}
            </div>
            `:""}
            <div class="project-links">
                ${n.link?`<a href="${n.link}" target="_blank">🔗 Live Demo</a>`:""}
                ${n.github?`<a href="${n.github}" target="_blank">💻 Source Code</a>`:""}
            </div>
        </div>
        `).join("")}
    </div>
    `:""}
    
    ${t.certifications&&t.certifications.length>0?`
    <div class="section">
        <div class="section-title">Certifications</div>
        ${t.certifications.map(n=>`
        <div class="item">
            <div class="item-header">
                <div>
                    <div class="item-title">${n.name}</div>
                    <div class="item-subtitle">${n.issuer}</div>
                </div>
                <div class="item-date">${n.date}</div>
            </div>
            ${n.link?`<div class="project-links"><a href="${n.link}" target="_blank">🏆 View Certificate</a></div>`:""}
        </div>
        `).join("")}
    </div>
    `:""}
  </div>
</body>
</html>
  `,oG=(t,e)=>aj(t,e).replace("</head>",`<style>
      @media print {
        body { margin: 0; padding: 15px; }
        .header { page-break-after: avoid; }
        .section { page-break-inside: avoid; margin-bottom: 20px; }
        .item { page-break-inside: avoid; }
      }
    </style>
    <script>
      window.onload = function() {
        setTimeout(function() {
          window.print();
        }, 500);
      }
    <\/script>
    </head>`);function fw({resumeData:t,template:e,className:n=""}){const s=(c=>{switch(c.name.toLowerCase().replace(/\s+/g,"-")){case"ats-professional":return{container:"bg-white text-gray-900 font-serif border-2 border-blue-100",header:"text-center border-b-3 border-blue-600 pb-6 mb-8 bg-blue-50 -mx-6 -mt-6 px-6 pt-6",name:"text-3xl font-bold text-blue-800 mb-3 tracking-wide",contact:"text-sm text-blue-700 flex justify-center gap-6 flex-wrap font-medium",sectionTitle:"text-lg font-bold text-blue-800 border-b-2 border-blue-300 pb-2 mb-4 uppercase tracking-widest",itemTitle:"font-bold text-gray-900 text-base",itemSubtitle:"text-blue-600 italic text-sm font-medium",itemDate:"text-blue-500 text-sm font-semibold",description:"text-gray-700 text-sm mt-2 leading-relaxed"};case"modern-minimalist":return{container:"bg-white text-gray-800 font-sans border-l-8 border-green-400 pl-8",header:"text-left mb-8",name:"text-4xl font-extralight text-gray-900 mb-2 tracking-tight",contact:"text-sm text-gray-500 space-y-1 font-light",sectionTitle:"text-sm font-semibold text-green-600 mb-4 pb-1 border-b border-green-200 uppercase tracking-wider",itemTitle:"font-medium text-gray-900 text-base",itemSubtitle:"text-green-600 text-sm font-normal",itemDate:"text-gray-400 text-xs font-light",description:"text-gray-600 text-sm mt-1 font-light leading-relaxed"};case"technical-focus":return{container:"bg-gray-900 text-green-400 font-mono border border-green-500",header:"bg-black text-green-400 p-6 mb-6 border-b-2 border-green-500 -mx-6 -mt-6",name:"text-2xl font-bold mb-2 text-green-300 font-mono",contact:"text-xs text-green-400 space-y-1 font-mono",sectionTitle:"text-sm font-bold text-green-300 bg-gray-800 px-3 py-2 mb-4 border-l-4 border-green-500 font-mono uppercase",itemTitle:"font-bold text-green-300 font-mono",itemSubtitle:"text-green-400 text-xs font-mono",itemDate:"text-green-500 text-xs font-mono",description:"text-green-400 text-xs mt-1 font-mono leading-relaxed"};case"academic-cv":return{container:"bg-white text-gray-900 font-serif border border-gray-300",header:"text-center mb-10 pb-6 border-b border-gray-400",name:"text-4xl font-bold text-gray-900 mb-4 tracking-wide",contact:"text-sm text-gray-600 space-y-2 font-serif",sectionTitle:"text-xl font-bold text-gray-900 mb-6 text-center border-b-2 border-gray-400 pb-2",itemTitle:"font-bold text-gray-900 text-base",itemSubtitle:"text-gray-600 italic text-sm",itemDate:"text-gray-500 text-sm",description:"text-gray-700 text-sm mt-3 leading-loose text-justify"};case"creative-professional":return{container:"bg-gradient-to-br from-purple-100 via-pink-50 to-orange-100 text-gray-900 font-sans border-4 border-purple-200 rounded-lg",header:"text-center bg-white rounded-xl p-8 mb-8 shadow-lg border border-purple-200 -mx-6 -mt-6 mx-2 mt-2",name:"text-4xl font-bold bg-gradient-to-r from-purple-600 via-pink-600 to-orange-600 bg-clip-text text-transparent mb-3",contact:"text-sm text-purple-700 flex justify-center gap-4 flex-wrap font-medium",sectionTitle:"text-xl font-bold text-purple-700 mb-4 pb-3 border-b-4 border-gradient-to-r from-purple-400 to-pink-400 bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-border",itemTitle:"font-bold text-gray-900 text-base",itemSubtitle:"text-purple-600 text-sm font-medium",itemDate:"text-pink-500 text-sm font-medium",description:"text-gray-700 text-sm mt-2 leading-relaxed"};default:return{container:"bg-white text-gray-900 font-sans",header:"text-center border-b pb-4 mb-6",name:"text-2xl font-bold mb-2",contact:"text-sm text-gray-600 flex justify-center gap-4 flex-wrap",sectionTitle:"text-lg font-bold mb-3 pb-1 border-b",itemTitle:"font-bold",itemSubtitle:"text-gray-600 text-sm",itemDate:"text-gray-500 text-sm",description:"text-gray-700 text-sm mt-1"}}})(e),o=e.name.toLowerCase().replace(/\s+/g,"-"),l={personalInfo:{fullName:t.personalInfo?.fullName||"John Doe",email:t.personalInfo?.email||"john.doe@email.com",phone:t.personalInfo?.phone||"+1 (555) 123-4567",location:t.personalInfo?.location||"New York, NY",linkedin:t.personalInfo?.linkedin||"linkedin.com/in/johndoe",github:t.personalInfo?.github||"github.com/johndoe"},summary:t.summary||"Experienced software engineer with 5+ years of expertise in full-stack development, specializing in React, Node.js, and cloud technologies.",experience:t.experience?.length?t.experience:[{id:"1",company:"Tech Company Inc.",position:"Senior Software Engineer",startDate:"2022",endDate:"Present",current:!0,description:"Led development of scalable web applications serving 100K+ users.",achievements:["Improved performance by 40%","Mentored 3 junior developers"]}],education:t.education?.length?t.education:[{id:"1",institution:"University of Technology",degree:"Bachelor of Science",field:"Computer Science",startDate:"2018",endDate:"2022",gpa:"3.8",achievements:["Magna Cum Laude","Dean's List"]}],skills:t.skills?.length?t.skills:[{category:"Programming",items:["JavaScript","Python","Java","TypeScript"]},{category:"Frameworks",items:["React","Node.js","Express","Next.js"]}]};return u.jsxs("div",{className:`${n} ${s.container} p-6 rounded-lg shadow-sm border text-xs leading-tight`,children:[u.jsxs("div",{className:s.header,children:[u.jsx("h1",{className:s.name,children:l.personalInfo.fullName}),u.jsx("div",{className:s.contact,children:o==="modern-minimalist"?u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{children:l.personalInfo.email}),u.jsx("div",{children:l.personalInfo.phone}),u.jsx("div",{children:l.personalInfo.location})]}):o==="academic-cv"?u.jsxs("div",{className:"space-y-2 text-center",children:[u.jsx("div",{children:l.personalInfo.email}),u.jsx("div",{children:l.personalInfo.phone}),u.jsx("div",{children:l.personalInfo.location})]}):u.jsxs(u.Fragment,{children:[u.jsx("span",{children:l.personalInfo.email}),u.jsx("span",{children:l.personalInfo.phone}),u.jsx("span",{children:l.personalInfo.location})]})})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("h2",{className:s.sectionTitle,children:"Professional Summary"}),u.jsx("p",{className:s.description,children:l.summary})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("h2",{className:s.sectionTitle,children:o==="technical-focus"?">> EXPERIENCE":o==="academic-cv"?"PROFESSIONAL EXPERIENCE":"Experience"}),l.experience.slice(0,1).map((c,h)=>u.jsx("div",{className:"mb-3",children:o==="technical-focus"?u.jsxs("div",{className:"bg-gray-800 p-3 border-l-2 border-green-500",children:[u.jsxs("div",{className:s.itemTitle,children:["[",c.position,"]"]}),u.jsxs("div",{className:s.itemSubtitle,children:["@ ",c.company]}),u.jsxs("div",{className:s.itemDate,children:[c.startDate," - ",c.current?"CURRENT":c.endDate]}),u.jsxs("div",{className:s.description,children:["// ",c.description]}),c.achievements.length>0&&u.jsx("div",{className:"mt-2",children:c.achievements.slice(0,2).map((p,g)=>u.jsxs("div",{className:`${s.description} ml-2`,children:["- ",p]},g))})]}):o==="academic-cv"?u.jsxs("div",{className:"text-center mb-4",children:[u.jsx("div",{className:s.itemTitle,children:c.position}),u.jsx("div",{className:s.itemSubtitle,children:c.company}),u.jsxs("div",{className:s.itemDate,children:[c.startDate," - ",c.current?"Present":c.endDate]}),u.jsx("p",{className:s.description,children:c.description}),c.achievements.length>0&&u.jsx("ul",{className:"list-none mt-2 text-center",children:c.achievements.slice(0,2).map((p,g)=>u.jsxs("li",{className:s.description,children:["• ",p]},g))})]}):o==="creative-professional"?u.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-purple-200",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsxs("div",{className:s.itemTitle,children:["✨ ",c.position]}),u.jsxs("div",{className:s.itemSubtitle,children:["🏢 ",c.company]})]}),u.jsxs("div",{className:`${s.itemDate} bg-gradient-to-r from-purple-100 to-pink-100 px-2 py-1 rounded`,children:[c.startDate," - ",c.current?"Present":c.endDate]})]}),u.jsx("p",{className:s.description,children:c.description}),c.achievements.length>0&&u.jsx("div",{className:"mt-2 space-y-1",children:c.achievements.slice(0,2).map((p,g)=>u.jsxs("div",{className:`${s.description} flex items-start`,children:[u.jsx("span",{className:"text-purple-500 mr-2",children:"🎯"}),p]},g))})]}):u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("div",{className:s.itemTitle,children:c.position}),u.jsx("div",{className:s.itemSubtitle,children:c.company})]}),u.jsxs("div",{className:s.itemDate,children:[c.startDate," - ",c.current?"Present":c.endDate]})]}),u.jsx("p",{className:s.description,children:c.description}),c.achievements.length>0&&u.jsx("ul",{className:"list-disc list-inside mt-1 text-xs",children:c.achievements.slice(0,2).map((p,g)=>u.jsx("li",{className:s.description,children:p},g))})]})},h))]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("h2",{className:s.sectionTitle,children:"Education"}),l.education.slice(0,1).map((c,h)=>u.jsxs("div",{className:"mb-2",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsxs("div",{className:s.itemTitle,children:[c.degree," in ",c.field]}),u.jsx("div",{className:s.itemSubtitle,children:c.institution})]}),u.jsxs("div",{className:s.itemDate,children:[c.startDate," - ",c.endDate]})]}),c.gpa&&u.jsxs("p",{className:s.description,children:["GPA: ",c.gpa]})]},h))]}),u.jsxs("div",{children:[u.jsx("h2",{className:s.sectionTitle,children:o==="technical-focus"?">> TECH_STACK":o==="academic-cv"?"COMPETENCIES":"Skills"}),o==="technical-focus"?u.jsx("div",{className:"bg-gray-800 p-3 border border-green-500",children:l.skills.slice(0,2).map((c,h)=>u.jsxs("div",{className:"mb-2",children:[u.jsxs("span",{className:s.itemTitle,children:[c.category.toUpperCase(),": "]}),u.jsxs("span",{className:s.description,children:["[",c.items.slice(0,3).join("] ["),"]"]})]},h))}):o==="creative-professional"?u.jsx("div",{className:"grid grid-cols-2 gap-3",children:l.skills.slice(0,2).map((c,h)=>u.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-purple-200",children:[u.jsxs("div",{className:`${s.itemTitle} text-purple-600 mb-2`,children:["🎨 ",c.category]}),u.jsx("div",{className:"flex flex-wrap gap-1",children:c.items.slice(0,3).map((p,g)=>u.jsx("span",{className:"bg-gradient-to-r from-purple-100 to-pink-100 text-purple-700 px-2 py-1 rounded-full text-xs",children:p},g))})]},h))}):o==="modern-minimalist"?u.jsx("div",{className:"space-y-3",children:l.skills.slice(0,2).map((c,h)=>u.jsxs("div",{className:"border-l-2 border-green-400 pl-3",children:[u.jsx("div",{className:s.itemTitle,children:c.category}),u.jsx("div",{className:s.description,children:c.items.slice(0,3).join(" • ")})]},h))}):u.jsx("div",{className:"grid grid-cols-1 gap-2",children:l.skills.slice(0,2).map((c,h)=>u.jsxs("div",{children:[u.jsxs("span",{className:s.itemTitle,children:[c.category,": "]}),u.jsx("span",{className:s.description,children:c.items.slice(0,3).join(", ")})]},h))})]}),u.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs(bn,{variant:"outline",className:"text-xs",children:["ATS Score: ",e.atsScore,"%"]}),u.jsx("span",{className:"text-xs text-gray-500",children:e.name})]})})]})}function aG({resumeId:t,templateId:e,onSave:n}){const{user:r,firebaseUser:s}=Fn(),{toast:o}=pa(),[l,c]=_.useState(!1),[h,p]=_.useState(!1),[g,v]=_.useState(null),[x,b]=_.useState({name:"My Resume",templateId:e,personalInfo:{fullName:r.name||"",email:r.email||"",phone:"",location:"",website:r.website||"",linkedin:r.linkedin||"",github:r.github||""},summary:r.bio||"",experience:[],education:[],skills:[],projects:[],certifications:[]});_.useEffect(()=>{},[t]),_.useEffect(()=>{const $=Ku.subscribeToTemplates(z=>{const q=z.find(R=>R.id===e);v(q||null)});return()=>$()},[e]);const S=async()=>{if(!s){o({variant:"destructive",title:"Error",description:"You must be logged in to save a resume."});return}c(!0);try{const $={...x,userId:s.uid};let z;t?(await Hu.updateResume(t,$),z=t):z=await Hu.createResume($),o({title:"Success",description:"Resume saved successfully!"}),n?.(z)}catch{o({variant:"destructive",title:"Error",description:"Failed to save resume. Please try again."})}finally{c(!1)}},C=($="html")=>{const z=x;if(!z.personalInfo?.fullName){o({variant:"destructive",title:"Error",description:"Please add your name before downloading."});return}try{$==="pdf"?(oj(z,g||void 0),o({title:"Opening Print Dialog",description:"Your resume is ready for printing or saving as PDF."})):(ij(z,g||void 0),o({title:"Download Started",description:"Your resume is being downloaded as HTML file."}))}catch{o({variant:"destructive",title:"Download Failed",description:"There was an error downloading your resume."})}},I=()=>{b($=>({...$,experience:[...$.experience||[],{id:Date.now().toString(),company:"",position:"",startDate:"",endDate:"",current:!1,description:"",achievements:[]}]}))},j=()=>{b($=>({...$,education:[...$.education||[],{id:Date.now().toString(),institution:"",degree:"",field:"",startDate:"",endDate:"",gpa:"",achievements:[]}]}))},L=()=>{b($=>({...$,skills:[...$.skills||[],{category:"",items:[]}]}))},O=()=>{b($=>({...$,projects:[...$.projects||[],{id:Date.now().toString(),name:"",description:"",technologies:[],link:"",github:""}]}))};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"text-2xl font-bold",children:"Resume Editor"}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs(ge,{onClick:()=>p(!h),variant:h?"default":"outline",children:[u.jsx(Ws,{className:"h-4 w-4 mr-2"}),h?"Hide Preview":"Show Preview"]}),u.jsxs(ge,{onClick:()=>C("html"),variant:"outline",children:[u.jsx(qN,{className:"h-4 w-4 mr-2"}),"Download HTML"]}),u.jsxs(ge,{onClick:()=>C("pdf"),variant:"outline",children:[u.jsx(XN,{className:"h-4 w-4 mr-2"}),"Print/PDF"]}),u.jsxs(ge,{onClick:S,disabled:l,children:[u.jsx(XU,{className:"h-4 w-4 mr-2"}),l?"Saving...":"Save"]})]})]}),u.jsxs("div",{className:`grid gap-6 ${h?"grid-cols-1 lg:grid-cols-2":"grid-cols-1"}`,children:[u.jsxs("div",{className:"space-y-6",children:[u.jsxs(tt,{className:"p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(pd,{className:"h-5 w-5 text-primary"}),u.jsx("h3",{className:"text-lg font-semibold",children:"Personal Information"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx(Ze,{htmlFor:"fullName",children:"Full Name"}),u.jsx(rt,{id:"fullName",value:x.personalInfo?.fullName||"",onChange:$=>b(z=>({...z,personalInfo:{...z.personalInfo,fullName:$.target.value}}))})]}),u.jsxs("div",{children:[u.jsx(Ze,{htmlFor:"email",children:"Email"}),u.jsx(rt,{id:"email",type:"email",value:x.personalInfo?.email||"",onChange:$=>b(z=>({...z,personalInfo:{...z.personalInfo,email:$.target.value}}))})]}),u.jsxs("div",{children:[u.jsx(Ze,{htmlFor:"phone",children:"Phone"}),u.jsx(rt,{id:"phone",value:x.personalInfo?.phone||"",onChange:$=>b(z=>({...z,personalInfo:{...z.personalInfo,phone:$.target.value}}))})]}),u.jsxs("div",{children:[u.jsx(Ze,{htmlFor:"location",children:"Location"}),u.jsx(rt,{id:"location",value:x.personalInfo?.location||"",onChange:$=>b(z=>({...z,personalInfo:{...z.personalInfo,location:$.target.value}}))})]}),u.jsxs("div",{children:[u.jsx(Ze,{htmlFor:"linkedin",children:"LinkedIn"}),u.jsx(rt,{id:"linkedin",value:x.personalInfo?.linkedin||"",onChange:$=>b(z=>({...z,personalInfo:{...z.personalInfo,linkedin:$.target.value}}))})]}),u.jsxs("div",{children:[u.jsx(Ze,{htmlFor:"github",children:"GitHub"}),u.jsx(rt,{id:"github",value:x.personalInfo?.github||"",onChange:$=>b(z=>({...z,personalInfo:{...z.personalInfo,github:$.target.value}}))})]})]})]}),u.jsxs(tt,{className:"p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(Du,{className:"h-5 w-5 text-primary"}),u.jsx("h3",{className:"text-lg font-semibold",children:"Professional Summary"})]}),u.jsx(Qp,{value:x.summary||"",onChange:$=>b(z=>({...z,summary:$.target.value})),placeholder:"Write a brief professional summary...",rows:4})]}),u.jsxs(tt,{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(J6,{className:"h-5 w-5 text-primary"}),u.jsx("h3",{className:"text-lg font-semibold",children:"Experience"})]}),u.jsxs(ge,{onClick:I,size:"sm",children:[u.jsx(qo,{className:"h-4 w-4 mr-2"}),"Add Experience"]})]}),x.experience?.length===0&&u.jsx("p",{className:"text-muted-foreground text-center py-8",children:'No experience added yet. Click "Add Experience" to get started.'})]}),u.jsxs(tt,{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(GN,{className:"h-5 w-5 text-primary"}),u.jsx("h3",{className:"text-lg font-semibold",children:"Education"})]}),u.jsxs(ge,{onClick:j,size:"sm",children:[u.jsx(qo,{className:"h-4 w-4 mr-2"}),"Add Education"]})]}),x.education?.length===0&&u.jsx("p",{className:"text-muted-foreground text-center py-8",children:'No education added yet. Click "Add Education" to get started.'})]}),u.jsxs(tt,{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(mU,{className:"h-5 w-5 text-primary"}),u.jsx("h3",{className:"text-lg font-semibold",children:"Skills"})]}),u.jsxs(ge,{onClick:L,size:"sm",children:[u.jsx(qo,{className:"h-4 w-4 mr-2"}),"Add Skill Group"]})]}),x.skills?.length===0&&u.jsx("p",{className:"text-muted-foreground text-center py-8",children:'No skills added yet. Click "Add Skill Group" to get started.'})]}),u.jsxs(tt,{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(q6,{className:"h-5 w-5 text-primary"}),u.jsx("h3",{className:"text-lg font-semibold",children:"Projects"})]}),u.jsxs(ge,{onClick:O,size:"sm",children:[u.jsx(qo,{className:"h-4 w-4 mr-2"}),"Add Project"]})]}),x.projects?.length===0&&u.jsx("p",{className:"text-muted-foreground text-center py-8",children:'No projects added yet. Click "Add Project" to get started.'})]})]}),h&&g&&u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"sticky top-6",children:[u.jsx("div",{className:"bg-muted px-4 py-2 rounded-t-lg",children:u.jsxs("h3",{className:"font-semibold text-sm",children:["Live Preview - ",g.name]})}),u.jsx("div",{className:"border border-t-0 rounded-b-lg overflow-hidden",children:u.jsx("div",{className:"max-h-[80vh] overflow-y-auto",children:u.jsx(fw,{resumeData:x,template:g,className:"border-0 shadow-none"})})})]})})]})]})}var lj=_.forwardRef((t,e)=>{const{children:n,...r}=t,s=_.Children.toArray(n),o=s.find(cG);if(o){const l=o.props.children,c=s.map(h=>h===o?_.Children.count(l)>1?_.Children.only(null):_.isValidElement(l)?l.props.children:null:h);return u.jsx(Ky,{...r,ref:e,children:_.isValidElement(l)?_.cloneElement(l,void 0,c):null})}return u.jsx(Ky,{...r,ref:e,children:n})});lj.displayName="Slot";var Ky=_.forwardRef((t,e)=>{const{children:n,...r}=t;if(_.isValidElement(n)){const s=dG(n),o=uG(r,n.props);return n.type!==_.Fragment&&(o.ref=e?ua(e,s):s),_.cloneElement(n,o)}return _.Children.count(n)>1?_.Children.only(null):null});Ky.displayName="SlotClone";var lG=({children:t})=>u.jsx(u.Fragment,{children:t});function cG(t){return _.isValidElement(t)&&t.type===lG}function uG(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...c)=>{o(...c),s(...c)}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function dG(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var pw="Dialog",[cj,XG]=xs(pw),[hG,Ur]=cj(pw),uj=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:l=!0}=t,c=_.useRef(null),h=_.useRef(null),[p=!1,g]=hd({prop:r,defaultProp:s,onChange:o});return u.jsx(hG,{scope:e,triggerRef:c,contentRef:h,contentId:Xo(),titleId:Xo(),descriptionId:Xo(),open:p,onOpenChange:g,onOpenToggle:_.useCallback(()=>g(v=>!v),[g]),modal:l,children:n})};uj.displayName=pw;var dj="DialogTrigger",hj=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ur(dj,n),o=$t(e,s.triggerRef);return u.jsx(He.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":vw(s.open),...r,ref:o,onClick:Me(t.onClick,s.onOpenToggle)})});hj.displayName=dj;var mw="DialogPortal",[fG,fj]=cj(mw,{forceMount:void 0}),pj=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,o=Ur(mw,e);return u.jsx(fG,{scope:e,forceMount:n,children:_.Children.map(r,l=>u.jsx(ws,{present:n||o.open,children:u.jsx(Up,{asChild:!0,container:s,children:l})}))})};pj.displayName=mw;var cp="DialogOverlay",mj=_.forwardRef((t,e)=>{const n=fj(cp,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=Ur(cp,t.__scopeDialog);return o.modal?u.jsx(ws,{present:r||o.open,children:u.jsx(pG,{...s,ref:e})}):null});mj.displayName=cp;var pG=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ur(cp,n);return u.jsx(Jx,{as:lj,allowPinchZoom:!0,shards:[s.contentRef],children:u.jsx(He.div,{"data-state":vw(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),ra="DialogContent",gj=_.forwardRef((t,e)=>{const n=fj(ra,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=Ur(ra,t.__scopeDialog);return u.jsx(ws,{present:r||o.open,children:o.modal?u.jsx(mG,{...s,ref:e}):u.jsx(gG,{...s,ref:e})})});gj.displayName=ra;var mG=_.forwardRef((t,e)=>{const n=Ur(ra,t.__scopeDialog),r=_.useRef(null),s=$t(e,n.contentRef,r);return _.useEffect(()=>{const o=r.current;if(o)return UR(o)},[]),u.jsx(vj,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Me(t.onCloseAutoFocus,o=>{o.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Me(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&o.preventDefault()}),onFocusOutside:Me(t.onFocusOutside,o=>o.preventDefault())})}),gG=_.forwardRef((t,e)=>{const n=Ur(ra,t.__scopeDialog),r=_.useRef(!1),s=_.useRef(!1);return u.jsx(vj,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{t.onCloseAutoFocus?.(o),o.defaultPrevented||(r.current||n.triggerRef.current?.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{t.onInteractOutside?.(o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=o.target;n.triggerRef.current?.contains(l)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),vj=_.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...l}=t,c=Ur(ra,n),h=_.useRef(null),p=$t(e,h);return mR(),u.jsxs(u.Fragment,{children:[u.jsx(Bx,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:u.jsx(Fp,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":vw(c.open),...l,ref:p,onDismiss:()=>c.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(vG,{titleId:c.titleId}),u.jsx(xG,{contentRef:h,descriptionId:c.descriptionId})]})]})}),gw="DialogTitle",yj=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ur(gw,n);return u.jsx(He.h2,{id:s.titleId,...r,ref:e})});yj.displayName=gw;var xj="DialogDescription",wj=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ur(xj,n);return u.jsx(He.p,{id:s.descriptionId,...r,ref:e})});wj.displayName=xj;var _j="DialogClose",Ej=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ur(_j,n);return u.jsx(He.button,{type:"button",...r,ref:e,onClick:Me(t.onClick,()=>s.onOpenChange(!1))})});Ej.displayName=_j;function vw(t){return t?"open":"closed"}var bj="DialogTitleWarning",[JG,Tj]=Y5(bj,{contentName:ra,titleName:gw,docsSlug:"dialog"}),vG=({titleId:t})=>{const e=Tj(bj),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return _.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},yG="DialogDescriptionWarning",xG=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Tj(yG).contentName}}.`;return _.useEffect(()=>{const s=t.current?.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},wG=uj,_G=hj,EG=pj,Sj=mj,Cj=gj,Ij=yj,Nj=wj,bG=Ej;const Aj=wG,Pj=_G,TG=EG,Rj=_.forwardRef(({className:t,...e},n)=>u.jsx(Sj,{ref:n,className:Ue("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Rj.displayName=Sj.displayName;const yw=_.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(TG,{children:[u.jsx(Rj,{}),u.jsxs(Cj,{ref:r,className:Ue("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,u.jsxs(bG,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(zp,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));yw.displayName=Cj.displayName;const xw=({className:t,...e})=>u.jsx("div",{className:Ue("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});xw.displayName="DialogHeader";const kj=({className:t,...e})=>u.jsx("div",{className:Ue("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});kj.displayName="DialogFooter";const ww=_.forwardRef(({className:t,...e},n)=>u.jsx(Ij,{ref:n,className:Ue("text-lg font-semibold leading-none tracking-tight",t),...e}));ww.displayName=Ij.displayName;const _w=_.forwardRef(({className:t,...e},n)=>u.jsx(Nj,{ref:n,className:Ue("text-sm text-muted-foreground",t),...e}));_w.displayName=Nj.displayName;function SG({template:t,onSelectTemplate:e,userResumeData:n}){const{user:r}=Fn(),[s,o]=_.useState(!1),l=()=>n||{personalInfo:{fullName:r.name||"John Doe",email:r.email||"john.doe@email.com",phone:"+1 (555) 123-4567",location:"New York, NY",linkedin:r.linkedin||"linkedin.com/in/johndoe",github:r.github||"github.com/johndoe",website:r.website||"johndoe.com"},summary:r.bio||"Experienced professional with expertise in modern technologies and a passion for creating innovative solutions. Proven track record of delivering high-quality projects and collaborating effectively with cross-functional teams.",experience:[{id:"1",company:"Tech Innovations Inc.",position:"Senior Software Engineer",startDate:"2022",endDate:"Present",current:!0,description:"Led development of scalable web applications serving 100K+ users daily. Architected microservices infrastructure and implemented CI/CD pipelines.",achievements:["Improved application performance by 40% through optimization","Mentored 3 junior developers and conducted code reviews","Implemented automated testing reducing bugs by 60%"]},{id:"2",company:"Digital Solutions LLC",position:"Software Developer",startDate:"2020",endDate:"2022",current:!1,description:"Developed and maintained full-stack applications using modern frameworks. Collaborated with design and product teams to deliver user-centric solutions.",achievements:["Built responsive web applications with React and Node.js","Integrated third-party APIs and payment systems","Participated in agile development processes"]}],education:[{id:"1",institution:r.college||"University of Technology",degree:"Bachelor of Science",field:"Computer Science",startDate:"2016",endDate:"2020",gpa:"3.8",achievements:["Magna Cum Laude","Dean's List for 6 semesters","Computer Science Honor Society"]}],skills:[{category:"Programming Languages",items:["JavaScript","TypeScript","Python","Java","Go"]},{category:"Frontend Technologies",items:["React","Vue.js","HTML5","CSS3","Tailwind CSS"]},{category:"Backend Technologies",items:["Node.js","Express","Django","PostgreSQL","MongoDB"]},{category:"Tools & Platforms",items:["Git","Docker","AWS","Firebase","Vercel"]}],projects:[{id:"1",name:"E-Commerce Platform",description:"Full-stack e-commerce solution with real-time inventory management, payment processing, and admin dashboard.",technologies:["React","Node.js","PostgreSQL","Stripe API"],link:"https://ecommerce-demo.com",github:"https://github.com/johndoe/ecommerce-platform"},{id:"2",name:"Task Management App",description:"Collaborative task management application with real-time updates, file sharing, and team communication features.",technologies:["Vue.js","Firebase","WebSocket","PWA"],link:"https://taskmanager-demo.com",github:"https://github.com/johndoe/task-manager"}],certifications:[{id:"1",name:"AWS Certified Solutions Architect",issuer:"Amazon Web Services",date:"2023",link:"https://aws.amazon.com/certification/"},{id:"2",name:"Google Cloud Professional Developer",issuer:"Google Cloud",date:"2022",link:"https://cloud.google.com/certification"}]},c=()=>{e(t.id),o(!1)};return u.jsxs(Aj,{open:s,onOpenChange:o,children:[u.jsx(Pj,{asChild:!0,children:u.jsxs(ge,{variant:"outline",size:"sm",className:"w-full",children:[u.jsx(Ws,{className:"h-3 w-3 mr-2"}),"Preview"]})}),u.jsxs(yw,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[u.jsxs(xw,{children:[u.jsxs(ww,{className:"flex items-center gap-3",children:[u.jsx(Du,{className:"h-5 w-5"}),t.name," Template Preview",t.atsScore>=90&&u.jsxs(bn,{className:"bg-green-600",children:[u.jsx(ZN,{className:"h-3 w-3 mr-1"}),"Recommended"]})]}),u.jsxs(_w,{children:[t.description," • ATS Score: ",t.atsScore,"%"]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold mb-2",children:"Template Features"}),u.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[u.jsx("li",{children:"• ATS-friendly formatting"}),u.jsx("li",{children:"• Professional typography"}),u.jsx("li",{children:"• Clean, readable layout"}),u.jsx("li",{children:"• Print-optimized design"}),u.jsx("li",{children:"• Mobile-responsive preview"})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold mb-2",children:"ATS Compatibility"}),u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("div",{className:"flex-1 bg-muted rounded-full h-2 relative overflow-hidden",children:u.jsx("div",{className:`h-2 rounded-full absolute left-0 top-0 ${t.atsScore>=90?"bg-green-600":t.atsScore>=80?"bg-yellow-600":"bg-red-600"} ${t.atsScore>=95?"w-full":t.atsScore>=90?"w-11/12":t.atsScore>=85?"w-5/6":t.atsScore>=80?"w-4/5":t.atsScore>=75?"w-3/4":t.atsScore>=60?"w-3/5":"w-1/2"}`})}),u.jsxs("span",{className:"text-sm font-medium",children:[t.atsScore,"%"]})]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:t.atsScore>=90?"Excellent ATS compatibility":t.atsScore>=80?"Good ATS compatibility":"Fair ATS compatibility"})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold mb-2",children:"Best For"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:t.category==="professional"?"Corporate roles, business positions, traditional industries":t.category==="technical"?"Software engineering, IT roles, technical positions":t.category==="academic"?"Research positions, academic roles, PhD applications":t.category==="creative"?"Design roles, marketing positions, creative industries":"General purpose, versatile for most positions"})]})]}),u.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[u.jsx("div",{className:"bg-muted px-3 py-2 text-sm font-medium",children:"Live Preview"}),u.jsx("div",{className:"max-h-96 overflow-y-auto",children:u.jsx(fw,{resumeData:l(),template:t,className:"border-0 shadow-none"})})]})]}),u.jsxs(kj,{children:[u.jsx(ge,{variant:"outline",onClick:()=>o(!1),children:"Close"}),u.jsx(ge,{onClick:c,children:"Use This Template"})]})]})]})}function CG({resume:t}){const[e,n]=_.useState(!1),[r,s]=_.useState(null);return _.useEffect(()=>{if(e){const o=Ku.subscribeToTemplates(l=>{const c=l.find(h=>h.id===t.templateId);s(c||null)});return()=>o()}},[e,t.templateId]),u.jsxs(Aj,{open:e,onOpenChange:n,children:[u.jsx(Pj,{asChild:!0,children:u.jsx(ge,{size:"sm",variant:"outline",title:"Quick Preview",children:u.jsx(Ws,{className:"h-3 w-3"})})}),u.jsxs(yw,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[u.jsxs(xw,{children:[u.jsxs(ww,{children:[t.name," - Preview"]}),u.jsx(_w,{children:r?`${r.name} Template • ATS Score: ${r.atsScore}%`:"Loading template..."})]}),u.jsx("div",{className:"mt-4",children:r?u.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[u.jsx("div",{className:"bg-muted px-3 py-2 text-sm font-medium",children:"Resume Preview"}),u.jsx("div",{className:"max-h-96 overflow-y-auto",children:u.jsx(fw,{resumeData:t,template:r,className:"border-0 shadow-none"})})]}):u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),u.jsx("p",{className:"text-muted-foreground",children:"Loading preview..."})]})})})]})]})}function IG(){const{user:t,firebaseUser:e}=Fn(),{toast:n}=pa(),[r,s]=_.useState("list"),[o,l]=_.useState(""),[c,h]=_.useState(""),[p,g]=_.useState([]),[v,x]=_.useState([]),[b,S]=_.useState(!1);_.useEffect(()=>{if(!e)return;const q=Hu.subscribeToUserResumes(e.uid,A=>{g(A)}),R=Ku.subscribeToTemplates(A=>{x(A)});return()=>{q(),R()}},[e]);const C=async()=>{if(v.length===0){S(!0);try{await Ku.addDefaultTemplates(),n({title:"Success",description:"Default templates added successfully!"})}catch{n({variant:"destructive",title:"Error",description:"Failed to add default templates."})}finally{S(!1)}}},I=q=>{l(q),h(""),s("editor")},j=q=>{const R=p.find(A=>A.id===q);R&&(l(R.templateId),h(q),s("editor"))},L=async q=>{if(confirm("Are you sure you want to delete this resume?"))try{await Hu.deleteResume(q),n({title:"Success",description:"Resume deleted successfully!"})}catch{n({variant:"destructive",title:"Error",description:"Failed to delete resume."})}},O=(q,R="html")=>{try{const A=v.find(D=>D.id===q.templateId);R==="pdf"?(oj(q,A),n({title:"Opening Print Dialog",description:"Your resume is ready for printing or saving as PDF."})):(ij(q,A),n({title:"Download Started",description:"Your resume is being downloaded as HTML file."}))}catch{n({variant:"destructive",title:"Download Failed",description:"There was an error downloading your resume."})}},z=(()=>{const q=[{name:"Personal Info",completed:!!(t.name&&t.email)},{name:"Education",completed:!!t.college},{name:"Bio/Summary",completed:!!t.bio},{name:"Skills",completed:t.skills&&t.skills.length>0},{name:"Experience",completed:!!t.experience},{name:"Projects",completed:!!t.projects}],R=q.filter(A=>A.completed).length;return{percentage:Math.round(R/q.length*100),sections:q}})();return r==="editor"?u.jsx(qs,{children:u.jsxs("div",{className:"p-6",children:[u.jsx("div",{className:"flex items-center gap-3 mb-6",children:u.jsxs(ge,{variant:"outline",size:"sm",onClick:()=>s("list"),children:[u.jsx(ju,{className:"h-4 w-4 mr-2"}),"Back to Resumes"]})}),u.jsx(aG,{resumeId:c||void 0,templateId:o,onSave:q=>{s("list"),n({title:"Success",description:"Resume saved successfully!"})}})]})}):u.jsx(qs,{children:u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Resume Builder"}),u.jsx("p",{className:"text-muted-foreground mt-2",children:"Create and manage your professional resumes with real-time templates."})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs(ge,{variant:"outline",onClick:()=>s("templates"),children:[u.jsx(qo,{className:"h-4 w-4 mr-2"}),"Create Resume"]}),v.length===0&&u.jsxs(ge,{onClick:C,disabled:b,children:[u.jsx(qo,{className:"h-4 w-4 mr-2"}),b?"Adding...":"Add Templates"]})]})]}),r==="templates"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsxs(ge,{variant:"outline",size:"sm",onClick:()=>s("list"),children:[u.jsx(ju,{className:"h-4 w-4 mr-2"}),"Back"]}),u.jsx("h2",{className:"text-xl font-semibold",children:"Choose a Template"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(q=>u.jsx(tt,{className:"p-4 hover:shadow-md transition-shadow cursor-pointer group",children:u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-full h-40 bg-muted rounded border flex items-center justify-center group-hover:bg-muted/80 transition-colors",children:u.jsx(Du,{className:"h-12 w-12 text-muted-foreground"})}),u.jsx("div",{className:"absolute top-2 left-2 flex gap-1",children:q.atsScore>=90&&u.jsxs(bn,{className:"text-xs bg-green-600",children:[u.jsx(ZN,{className:"h-3 w-3 mr-1"}),"Recommended"]})}),u.jsx("div",{className:"absolute top-2 right-2",children:u.jsxs(bn,{variant:"outline",className:"text-xs",children:["ATS: ",q.atsScore,"%"]})})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium",children:q.name}),u.jsx("p",{className:"text-sm text-muted-foreground",children:q.description}),u.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[u.jsx("div",{className:"flex-1 bg-muted rounded-full h-2 relative overflow-hidden",children:u.jsx("div",{className:`h-2 rounded-full absolute left-0 top-0 ${q.atsScore>=90?"bg-green-600":q.atsScore>=80?"bg-yellow-600":"bg-red-600"} ${q.atsScore>=95?"w-full":q.atsScore>=90?"w-11/12":q.atsScore>=85?"w-5/6":q.atsScore>=80?"w-4/5":q.atsScore>=75?"w-3/4":q.atsScore>=60?"w-3/5":"w-1/2"}`})}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:[q.atsScore,"%"]})]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(SG,{template:q,onSelectTemplate:I}),u.jsx(ge,{size:"sm",className:"flex-1",onClick:()=>I(q.id),children:"Use Template"})]})]})},q.id))})]}),r==="list"&&u.jsxs(u.Fragment,{children:[u.jsxs(tt,{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Your Resumes"}),u.jsxs(bn,{variant:"secondary",children:[p.length," resumes"]})]}),p.length>0?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:p.map(q=>u.jsx(tt,{className:"p-4 hover:shadow-md transition-shadow",children:u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"flex items-start justify-between",children:u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-medium truncate",children:q.name}),u.jsx("p",{className:"text-sm text-muted-foreground",children:v.find(R=>R.id===q.templateId)?.name||"Unknown Template"}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["Updated ",q.updatedAt?.toDate?.()?.toLocaleDateString()||"Recently"]})]})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(ge,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>j(q.id),children:[u.jsx(JN,{className:"h-3 w-3 mr-1"}),"Edit"]}),u.jsx(CG,{resume:q}),u.jsx(ge,{size:"sm",variant:"outline",onClick:()=>O(q,"html"),title:"Download as HTML",children:u.jsx(qN,{className:"h-3 w-3"})}),u.jsx(ge,{size:"sm",variant:"outline",onClick:()=>O(q,"pdf"),title:"Print/Save as PDF",children:u.jsx(XN,{className:"h-3 w-3"})}),u.jsx(ge,{size:"sm",variant:"outline",onClick:()=>L(q.id),title:"Delete resume",children:u.jsx(l9,{className:"h-3 w-3"})})]})]})},q.id))}):u.jsxs("div",{className:"text-center py-12",children:[u.jsx(Du,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No resumes yet"}),u.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first resume to get started with your job search."}),u.jsxs(ge,{onClick:()=>s("templates"),children:[u.jsx(qo,{className:"h-4 w-4 mr-2"}),"Create Your First Resume"]})]})]}),u.jsxs(tt,{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Profile Completion"}),u.jsxs("span",{className:"text-sm text-muted-foreground",children:[z.percentage,"% Complete"]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[u.jsx("span",{children:"Overall Completion"}),u.jsxs("span",{children:[z.percentage,"%"]})]}),u.jsx(sj,{value:z.percentage,className:"h-3"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:z.sections.map((q,R)=>u.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[q.completed?u.jsx(dy,{className:"h-4 w-4 text-green-600"}):u.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-muted"}),u.jsx("span",{className:"text-sm font-medium",children:q.name})]}),!q.completed&&u.jsx(ge,{size:"sm",variant:"outline",asChild:!0,children:u.jsx("a",{href:"/profile",children:"Add"})})]},R))})]})]})]}),r==="list"&&u.jsxs(tt,{className:"p-6 bg-green-50 border-green-200",children:[u.jsx("h3",{className:"font-semibold mb-3 text-green-800",children:"🎯 ATS Optimization Tips"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium mb-2 text-green-800",children:"Format Guidelines"}),u.jsxs("ul",{className:"space-y-1 text-green-700",children:[u.jsx("li",{children:"• Use standard fonts (Arial, Calibri, Times New Roman)"}),u.jsx("li",{children:"• Avoid images, graphics, and complex formatting"}),u.jsx("li",{children:"• Use standard section headings"}),u.jsx("li",{children:"• Save as .docx or .pdf format"})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium mb-2 text-green-800",children:"Content Tips"}),u.jsxs("ul",{className:"space-y-1 text-green-700",children:[u.jsx("li",{children:"• Include relevant keywords from job description"}),u.jsx("li",{children:"• Use bullet points for easy scanning"}),u.jsx("li",{children:"• Include contact information in header"}),u.jsx("li",{children:"• Use action verbs and quantify achievements"})]})]})]})]})]})})}class NG{constructor(){this.isUploading=!1,this.uploadComplete=!1,this.useMockFirebase=!1,this.useMockFirebase=this.shouldUseMockFirebase(),this.useMockFirebase&&console.log("🔧 Using mock Firebase service for development")}shouldUseMockFirebase(){try{return!Pe||!Pe.app?(console.log("⚠️ Firebase not properly initialized, using mock service"),!0):!1}catch(e){return console.log("⚠️ Firebase initialization error, using mock service:",e),!0}}fixOptionsFormat(e){return e.map((n,r)=>{let s={...n};if(s.id||(s.id=`q${r+1}`),s.options&&s.options.length===1&&typeof s.options[0]=="string"){const l=s.options[0].split(`
`).map(c=>c.replace(/^[A-D]\)\s*/,"").trim()).filter(c=>c.length>0);s.options=l}return s.difficulty||(s.difficulty="Medium"),s.correctAnswer&&!s.answer&&(s.answer=s.correctAnswer),s})}async checkIfDataExists(){try{if(this.useMockFirebase){const e=await Hy.getDocs("aptitude-subjects");return console.log("🔍 Checking existing data (mock). Found documents:",e.size),!e.empty}else{const e=Vn(ot(Pe,"aptitude-subjects")),n=await ns(e);return console.log("🔍 Checking existing data. Found documents:",n.size),!n.empty}}catch(e){return console.error("Error checking existing data:",e),!1}}async loadJsonFile(e){try{const n=await fetch(`/practice topics/${e}`);if(!n.ok)throw new Error(`Failed to load ${e}: ${n.status}`);const r=await n.json();return Array.isArray(r)?r:[r]}catch(n){throw console.error(`Error loading ${e}:`,n),n}}async uploadSubject(e,n){for(const r of e){const s=r.lessons.map((h,p)=>({id:h.id||`lesson-${p+1}`,title:h.title||h.name||`Lesson ${p+1}`,description:h.description||"",content:h.content||"",order:h.order!==void 0?h.order:p,questions:this.fixOptionsFormat(h.questions||[])})),o={name:r.name,category:r.category,description:r.description,lessons:s,createdBy:r.createdBy||"admin",createdAt:Rt(),updatedAt:Rt()};console.log("📤 Uploading subject data:",{name:r.name,category:r.category,lessonsCount:s.length,firstLesson:s[0]});let l;this.useMockFirebase?l=await Hy.addDoc("aptitude-subjects",o):l=await kr(ot(Pe,"aptitude-subjects"),o);const c=s.reduce((h,p)=>h+(p.questions?p.questions.length:0),0);console.log(`✅ Uploaded: "${r.name}" with ${s.length} lessons and ${c} questions - ID: ${l.id}`)}}async uploadAllData(){if(this.isUploading)return{success:!1,message:"Upload already in progress",totalQuestions:0};if(this.uploadComplete)return{success:!0,message:"Data already uploaded",totalQuestions:0};try{if(this.isUploading=!0,console.log("🚀 Starting automatic data upload..."),await this.checkIfDataExists())return console.log("📚 Data already exists in database"),this.uploadComplete=!0,{success:!0,message:"Practice data already exists in database",totalQuestions:0};const n=[{fileName:"logical_reasoning.json",displayName:"Logical Reasoning"},{fileName:"quantitative_aptitude.json",displayName:"Quantitative Aptitude"},{fileName:"verbal_ability.json",displayName:"Verbal Ability"}];let r=0,s=0;for(const l of n)try{console.log(`📚 Loading ${l.displayName}...`);const c=await this.loadJsonFile(l.fileName);await this.uploadSubject(c,l.displayName);const h=c.reduce((p,g)=>p+g.lessons.reduce((v,x)=>v+(x.questions?x.questions.length:0),0),0);r+=h,s++,console.log(`✅ ${l.displayName} uploaded successfully with ${h} questions`)}catch(c){console.error(`❌ Failed to upload ${l.displayName}:`,c);let h="";throw c instanceof Error?h=c.message:h=String(c),new Error(`Failed to upload ${l.displayName}: ${h}`)}this.uploadComplete=!0;const o=`Successfully uploaded ${s} subjects with ${r} total questions!`;return console.log(`🎉 ${o}`),{success:!0,message:o,totalQuestions:r}}catch(e){console.error("❌ Upload failed:",e);let n="";return e instanceof Error?n=e.message:n=String(e),{success:!1,message:`Upload failed: ${n}`,totalQuestions:0}}finally{this.isUploading=!1}}getUploadStatus(){return{isUploading:this.isUploading,uploadComplete:this.uploadComplete}}resetUploadStatus(){this.isUploading=!1,this.uploadComplete=!1}}const SS=new NG;function AG(){const{user:t,firebaseUser:e,loading:n}=Fn(),{toast:r}=pa(),[s,o]=_.useState([]),[l,c]=_.useState(null),[h,p]=_.useState(null),[g,v]=_.useState(0),[x,b]=_.useState({}),[S,C]=_.useState(!1),[I,j]=_.useState(""),[L,O]=_.useState(null),[$,z]=_.useState("subjects");_.useEffect(()=>{if(typeof window>"u")return;let K=null;return(async()=>{try{K=Xk.subscribeToAllSubjects(re=>{o(re),re.length>0&&I&&j("")});const Q=SS.getUploadStatus();if(!Q.uploadComplete&&!Q.isUploading){C(!0),j("Loading practice content...");const re=await SS.uploadAllData();re.success?(j(re.message),re.totalQuestions>0&&r({title:"Practice Content Loaded!",description:`Successfully loaded ${re.totalQuestions} questions across all subjects.`})):(j(re.message),r({variant:"destructive",title:"Upload Failed",description:re.message})),C(!1)}}catch(Q){console.error("Error initializing practice data:",Q);let re="";Q instanceof Error?re=Q.message:re=String(Q),O(`Failed to initialize practice data: ${re}`),C(!1)}})(),()=>{K&&K()}},[r]);const q=K=>{c(K),z("lessons")},R=K=>{p(K),v(0),b({}),z("practice")},A=()=>{c(null),p(null),z("subjects")},D=()=>{p(null),z("lessons")},V=()=>{z("results")},B=(K,F)=>{const Q=F.replace(/^[A-D]\)\s*/,"").trim();b(re=>({...re,[K]:Q}))},W=K=>{if(console.log("parseOptions input:",K),console.log("parseOptions input type:",typeof K),console.log("parseOptions input isArray:",Array.isArray(K)),Array.isArray(K))if(console.log("options.length:",K.length),console.log("options[0] type:",typeof K[0]),K.length===1&&typeof K[0]=="string"){const F=K[0];console.log("Parsing string format:",JSON.stringify(F));const Q=F.split(`
`).map(ve=>ve.trim()).filter(ve=>ve.length>0);console.log("Raw options after split:",Q);const re=Q.map((ve,ce)=>{console.log(`Cleaning option ${ce}: "${ve}"`);const fe=ve.replace(/^[A-Z]\)\s*/,"").trim();return console.log(`  Result: "${fe}"`),fe});return console.log("Final cleaned options:",re),re}else{console.log("Using normal array format:",K);const F=K.map(Q=>typeof Q=="string"?Q.replace(/^[A-Z]\)\s*/,"").trim():Q);return console.log("Cleaned normal array:",F),F}return console.log("Returning empty array"),[]},P=K=>{switch(K){case"quantitative-aptitude":return"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center";case"logical-reasoning":return"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center";case"verbal-ability":return"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center";default:return"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center"}},te=K=>{switch(K){case"quantitative-aptitude":return u.jsx(eU,{className:"h-6 w-6 text-blue-600"});case"logical-reasoning":return u.jsx(OU,{className:"h-6 w-6 text-green-600"});case"verbal-ability":return u.jsx(Q6,{className:"h-6 w-6 text-purple-600"});default:return u.jsx(OT,{className:"h-6 w-6 text-gray-600"})}};if(n)return u.jsx(qs,{children:u.jsx("div",{className:"p-6",children:u.jsx(tt,{className:"p-6",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin h-8 w-8 mx-auto mb-4 border-4 border-primary border-t-transparent rounded-full"}),u.jsx("p",{className:"text-muted-foreground",children:"Loading user data..."})]})})})});if(L)return u.jsx(qs,{children:u.jsx("div",{className:"p-6",children:u.jsx(tt,{className:"p-6",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-xl font-bold text-red-600 mb-4",children:"Error"}),u.jsx("p",{className:"text-muted-foreground mb-4",children:L}),u.jsx(ge,{onClick:()=>{O(null),window.location.reload()},children:"Retry"})]})})})});const ue=()=>{switch($){case"lessons":return Z();case"practice":return M();case"results":return Y();default:return ae()}},ae=()=>u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Practice Hub"}),u.jsx("p",{className:"text-muted-foreground mt-2",children:"Practice with Quantitative Aptitude, Logical Reasoning, and Verbal Ability questions."})]})}),s.length>0?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(K=>u.jsxs(tt,{className:"p-6 cursor-pointer hover:shadow-md transition-shadow",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:P(K.category),children:te(K.category)}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-lg",children:K.name}),u.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:K.category.replace("-"," ")})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Lessons"}),u.jsx(bn,{variant:"secondary",children:K.lessons.length})]}),u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Total Questions"}),u.jsx(bn,{variant:"secondary",children:K.lessons.reduce((F,Q)=>F+Q.questions.length,0)})]})]}),u.jsx("div",{className:"mt-4 flex items-center justify-center",children:u.jsx(ge,{variant:"outline",size:"sm",onClick:()=>q(K),children:"View Lessons →"})})]},K.id))}):u.jsx(tt,{className:"p-8",children:u.jsx("div",{className:"text-center",children:S?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"animate-spin h-16 w-16 mx-auto mb-4 border-4 border-primary border-t-transparent rounded-full"}),u.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Loading Practice Content..."}),u.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto mb-4",children:I||"Automatically loading your practice questions from the uploaded JSON files..."}),u.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[u.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-pulse"}),u.jsx("span",{children:"Processing Quantitative Aptitude, Logical Reasoning, and Verbal Ability"})]})]}):u.jsxs(u.Fragment,{children:[u.jsx(OT,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),u.jsx("h3",{className:"text-xl font-semibold mb-3",children:I?"Practice Content Ready!":"Loading Practice Content..."}),u.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:I||"Practice content will appear here once it's loaded from your JSON files."}),I&&u.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:u.jsx("p",{className:"text-green-800 text-sm",children:I})})]})})})]}),Z=()=>u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(ge,{variant:"outline",onClick:A,children:"← Back to Subjects"}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-foreground",children:l?.name}),u.jsxs("p",{className:"text-muted-foreground mt-2 capitalize",children:[l?.category.replace("-"," ")," • ",l?.lessons.length," Lessons"]})]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l?.lessons.map((K,F)=>u.jsxs(tt,{className:"p-6 cursor-pointer hover:shadow-md transition-shadow",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:u.jsx("span",{className:"text-primary font-bold text-lg",children:F+1})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-semibold text-lg",children:K.title}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:[K.questions.length," Questions"]})]})]}),u.jsx("div",{className:"mt-4 flex items-center justify-center",children:u.jsx(ge,{variant:"outline",size:"sm",onClick:()=>R(K),children:"Start Practice →"})})]},K.id))})]}),M=()=>{if(!h||!h.questions||h.questions.length===0)return u.jsx("div",{className:"p-6",children:u.jsxs(tt,{className:"p-6",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"No Questions Available"}),u.jsx("p",{children:"This lesson doesn't have any questions yet."}),u.jsx(ge,{onClick:D,className:"mt-4",children:"Back to Lessons"})]})});const K=h.questions[g],F=h.questions.length,Q=g===F-1,re=W(K.options);K.question.includes("BENEVOLENT")&&console.log("BENEVOLENT question options:",re);const ve=()=>{g<F-1&&v(g+1)},ce=()=>{g>0&&v(g-1)},fe=le=>{B(K.id,le)};return u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(ge,{variant:"outline",onClick:D,children:[u.jsx(ju,{className:"h-4 w-4 mr-2"}),"Back to Lessons"]}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-foreground",children:h.title}),u.jsxs("p",{className:"text-muted-foreground",children:["Question ",g+1," of ",F]})]})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-48 bg-muted rounded-full h-2",children:u.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${(g+1)/F*100}%`}})}),u.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round((g+1)/F*100),"%"]})]})]}),u.jsx(tt,{className:"p-8",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center text-white font-bold text-sm",children:g+1}),u.jsx(bn,{variant:"outline",className:"capitalize",children:K.difficulty||"Medium"})]}),u.jsx("h2",{className:"text-xl font-semibold leading-relaxed",children:K.question})]}),u.jsxs("div",{className:"mb-4 p-2 bg-gray-100 rounded text-sm",children:[u.jsxs("strong",{children:["Debug - Options (",re.length,"):"]}),u.jsx("ul",{children:re.map((le,xe)=>u.jsxs("li",{children:[xe,': "',le,'"']},xe))})]}),re.length>0?u.jsx("div",{className:"space-y-3",children:re.map((le,xe)=>{const Ae=String.fromCharCode(65+xe),Ke=x[K.id]===le;return u.jsx("button",{type:"button",onClick:()=>{console.log(`Clicked option ${xe}: "${le}"`),fe(le)},className:`w-full p-4 text-left rounded-lg border-2 transition-all hover:border-primary/50 ${Ke?"border-primary bg-primary/5 text-primary":"border-border hover:bg-muted/50"}`,children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center text-sm font-bold ${Ke?"border-primary bg-primary text-white":"border-muted-foreground"}`,children:Ae}),u.jsx("span",{className:"flex-1",children:le})]})},xe)})}):u.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:u.jsx("p",{className:"text-red-800",children:"No options available for this question."})}),u.jsxs("div",{className:"flex items-center justify-between pt-6 border-t",children:[u.jsxs(ge,{variant:"outline",onClick:ce,disabled:g===0,children:[u.jsx(ju,{className:"h-4 w-4 mr-2"}),"Previous"]}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsxs("span",{className:"text-sm text-muted-foreground",children:[Object.keys(x).length," of ",F," answered"]})}),Q?u.jsxs(ge,{onClick:V,className:"bg-green-600 hover:bg-green-700",children:[u.jsx(dy,{className:"h-4 w-4 mr-2"}),"Finish Test"]}):u.jsxs(ge,{onClick:ve,children:["Next",u.jsx(H6,{className:"h-4 w-4 ml-2"})]})]})]})})]})},Y=()=>{if(!h||!h.questions)return u.jsx("div",{className:"p-6",children:u.jsxs(tt,{className:"p-6",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"No Results Available"}),u.jsx(ge,{onClick:D,className:"mt-4",children:"Back to Lessons"})]})});const K=h.questions,F=K.length,Q=Object.keys(x).length;let re=0;K.forEach(ce=>{x[ce.id]===ce.answer&&re++});const ve=F>0?Math.round(re/F*100):0;return u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Test Results"}),u.jsx("p",{className:"text-muted-foreground mt-2",children:h.title})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(ge,{variant:"outline",onClick:D,children:"Back to Lessons"}),u.jsx(ge,{onClick:()=>{v(0),b({}),z("practice")},children:"Retake Test"})]})]}),u.jsx(tt,{className:"p-8",children:u.jsxs("div",{className:"text-center space-y-4",children:[u.jsx("div",{className:"w-24 h-24 mx-auto bg-primary/10 rounded-full flex items-center justify-center",children:u.jsxs("span",{className:"text-3xl font-bold text-primary",children:[ve,"%"]})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold",children:"Your Score"}),u.jsxs("p",{className:"text-muted-foreground",children:[re," out of ",F," questions correct"]})]}),u.jsxs("div",{className:"flex items-center justify-center gap-8 pt-4",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-green-600",children:re}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Correct"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-red-600",children:F-re}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Incorrect"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:F-Q}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Unanswered"})]})]})]})}),u.jsxs(tt,{className:"p-6",children:[u.jsx("h3",{className:"text-xl font-bold mb-6",children:"Detailed Review"}),u.jsx("div",{className:"space-y-6",children:K.map((ce,fe)=>{const le=x[ce.id],xe=le===ce.answer,Ae=!!le,Ke=W(ce.options);return u.jsx("div",{className:"border rounded-lg p-6",children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white font-bold text-sm ${xe?"bg-green-600":Ae?"bg-red-600":"bg-yellow-600"}`,children:fe+1}),u.jsxs("div",{className:"flex-1 space-y-4",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold text-lg",children:ce.question}),u.jsx(bn,{variant:"outline",className:"mt-2 capitalize",children:ce.difficulty||"Medium"})]}),Ke.length>0&&u.jsx("div",{className:"space-y-2",children:Ke.map((Gt,Un)=>{const vn=String.fromCharCode(65+Un),$r=le===Gt,Br=ce.answer===Gt;return u.jsx("div",{className:`p-3 rounded-lg border ${Br?"border-green-500 bg-green-50 text-green-800":$r?"border-red-500 bg-red-50 text-red-800":"border-gray-200"}`,children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("span",{className:"font-bold",children:[vn,")"]}),u.jsx("span",{children:Gt}),Br&&u.jsx(dy,{className:"h-4 w-4 text-green-600 ml-auto"}),$r&&!Br&&u.jsx("span",{className:"text-red-600 ml-auto",children:"Your answer"})]})},Un)})}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"font-semibold",children:"Status:"}),xe?u.jsx(bn,{className:"bg-green-600",children:"Correct"}):Ae?u.jsx(bn,{variant:"destructive",children:"Incorrect"}):u.jsx(bn,{variant:"secondary",children:"Not Answered"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[u.jsx("span",{className:"font-semibold text-gray-700",children:"Your Answer:"}),u.jsx("p",{className:"text-gray-800 mt-1",children:Ae?le:"Not answered"})]}),u.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:[u.jsx("span",{className:"font-semibold text-green-700",children:"Correct Answer:"}),u.jsx("p",{className:"text-green-800 mt-1",children:ce.answer})]})]}),ce.explanation&&u.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[u.jsx("span",{className:"font-semibold text-blue-800",children:"Explanation:"}),u.jsx("p",{className:"text-blue-700 mt-1",children:ce.explanation})]})]})]})]})},ce.id)})})]})]})};return u.jsx(qs,{children:ue()})}function jj(){const{user:t,firebaseUser:e}=Fn(),{toast:n}=pa(),r=to(),[s,o]=_.useState("public"),[l,c]=_.useState(""),[h,p]=_.useState(!1),[g,v]=_.useState(null),x=async()=>{if(!e||!l.trim()){n({variant:"destructive",title:"Error",description:"Please enter a room name and login."});return}p(!0);let b=!1;const S=setTimeout(()=>{b=!0,p(!1),n({variant:"destructive",title:"Network Timeout",description:"Room creation is taking too long. Please check your connection or try again later."})},8e3);try{let C;s==="private"&&(C=await Jk(),v(C));const I={name:l,description:`A ${s} study room`,type:s,topic:"General Study",hostId:e.uid,hostName:t.name||"Anonymous",maxParticipants:10,isActive:!0};C&&(I.roomKey=C);const j=await tn.createRoom(I);if(clearTimeout(S),b)return;n({title:"Room Created!",description:s==="private"?`Room Key: ${C}`:"Your room is now visible to everyone."}),r(`/rooms/${j}`)}catch{if(clearTimeout(S),b)return;n({variant:"destructive",title:"Error",description:"Failed to create room."})}finally{p(!1)}};return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:u.jsxs(tt,{className:"p-8 w-full max-w-md",children:[u.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Create a Room"}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block mb-2 font-medium",children:"Room Type"}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx(ge,{variant:s==="public"?"default":"outline",onClick:()=>o("public"),children:"Public"}),u.jsx(ge,{variant:s==="private"?"default":"outline",onClick:()=>o("private"),children:"Private"})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block mb-2 font-medium",children:"Room Name"}),u.jsx(rt,{value:l,onChange:b=>c(b.target.value),placeholder:"Enter room name"})]}),u.jsx(ge,{className:"w-full",onClick:x,disabled:h||!l.trim(),children:h?"Creating...":"Create Room"}),g&&u.jsx("div",{className:"mt-4 text-center",children:u.jsxs("span",{className:"font-mono bg-muted px-2 py-1 rounded",children:["Room Key: ",g]})})]})})}const PG="modulepreload",RG=function(t){return"/"+t},CS={},kG=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let p=function(g){return Promise.all(g.map(v=>Promise.resolve(v).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};var l=p;document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=c?.nonce||c?.getAttribute("nonce");s=p(n.map(g=>{if(g=RG(g),g in CS)return;CS[g]=!0;const v=g.endsWith(".css"),x=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${x}`))return;const b=document.createElement("link");if(b.rel=v?"stylesheet":PG,v||(b.as="script"),b.crossOrigin="",b.href=g,h&&b.setAttribute("nonce",h),document.head.appendChild(b),v)return new Promise((S,C)=>{b.addEventListener("load",S),b.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${g}`)))})}))}function o(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return s.then(c=>{for(const h of c||[])h.status==="rejected"&&o(h.reason);return e().catch(o)})},jG={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"},{urls:"stun:stun3.l.google.com:19302"},{urls:"stun:stun4.l.google.com:19302"},{urls:"stun:stun.services.mozilla.com"},{urls:"stun:stun.stunprotocol.org:3478"}],iceCandidatePoolSize:15,bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",iceTransportPolicy:"all"};function DG(t,e){const{user:n,firebaseUser:r}=Fn(),{toast:s}=Lp(),o=to(),[l,c]=_.useState([]),[h,p]=_.useState(!0),g=_.useRef(!1),v=8,x=_.useRef(new Map),b=_.useRef(new Map);_.useEffect(()=>{if(h&&t&&r&&!g.current){const P=setTimeout(()=>{h&&!g.current&&(console.warn("Connection setup taking longer than expected, but continuing..."),p(!1),s({title:"Room Ready",description:"You can now interact with the room. Connection may still be establishing in the background."}))},8e3);return()=>clearTimeout(P)}},[h,t,r,s]),_.useEffect(()=>{const P=setInterval(()=>{const te=Date.now(),ue=3e4;for(const[Z,M]of x.current.entries())if(te-M.lastActivity>ue&&M.quality!=="failed"){console.log(`⚠️ Stale connection detected for ${Z}, marking as poor`),x.current.set(Z,{...M,quality:"poor"});const Y=S.current.get(Z);Y&&Y.connectionState==="connected"&&Y.restartIce()}const ae=6e4;for(const[Z,M]of x.current.entries())if(M.quality==="failed"&&te-M.lastActivity>ae){console.log(`🧹 Cleaning up old failed connection for ${Z}`),x.current.delete(Z),b.current.delete(Z);const Y=S.current.get(Z);Y&&(Y.close(),S.current.delete(Z))}},1e4);return()=>clearInterval(P)},[]);const S=_.useRef(new Map),C=_.useRef([]),I=_.useRef(null),j=_.useRef(!1),L=_.useRef(!1),O=l.find(P=>P.uid===r?.uid);_.useEffect(()=>{const P=setInterval(()=>{c(te=>te.map(ue=>{if(!ue.stream)return{...ue,isSpeaking:!1};let ae=!1;try{if(ue.stream.getAudioTracks().length>0){const M=new(window.AudioContext||window.webkitAudioContext),Y=M.createAnalyser(),K=M.createMediaStreamSource(ue.stream);K.connect(Y);const F=new Uint8Array(Y.frequencyBinCount);Y.getByteFrequencyData(F),ae=F.reduce((re,ve)=>re+ve,0)/F.length>20,K.disconnect(),Y.disconnect(),M.close()}}catch{}return{...ue,isSpeaking:ae}}))},1e3);return()=>clearInterval(P)},[l]);const $=_.useCallback(async()=>{if(!r||j.current)return;j.current=!0,console.log("Leaving room:",t),e?.getTracks().forEach(ue=>ue.stop()),I.current?.getTracks().forEach(ue=>ue.stop()),C.current.forEach(ue=>ue()),C.current=[];const P=[],te=ot(Pe,"rooms",t,"signaling");S.current.forEach((ue,ae)=>{const Z={type:"participant-left",sender:r.uid,recipient:ae,payload:{},createdAt:Rt()};P.push(kr(te,Z)),ue.close()}),await Promise.all(P),S.current.clear();try{const{roomsService:ue}=await kG(async()=>{const{roomsService:ae}=await Promise.resolve().then(()=>zq);return{roomsService:ae}},void 0);await ue.leaveRoom(t,r.uid)}catch(ue){console.error("Error using enhanced leave room service:",ue);const ae=xt(Pe,"rooms",t,"participants",r.uid);try{await ku(ae)}catch(Z){console.error("Cleanup error: Could not delete participant doc.",Z)}}o("/rooms")},[t,r,e,o]),z=_.useCallback(P=>{if(!r||!e)return console.log("⚠️ Cannot create peer connection - missing firebaseUser or localStream"),null;if(S.current.has(P))return console.log(`♻️ Reusing existing peer connection for ${P}`),S.current.get(P);console.log(`🆕 Creating new peer connection for ${P}`);const te=new RTCPeerConnection(jG);S.current.set(P,te);const ae=l.find(Z=>Z.uid===r.uid)?.isSharingScreen&&I.current?I.current:e;return console.log(`🎵 Adding ${ae.getTracks().length} tracks to peer connection for ${P}`),ae.getTracks().forEach(Z=>{try{if(Z.kind==="video"){Z.enabled=O?.isCameraOn??!0;const M=l.length;if(M>4){const Y=Z;if(Y.getSettings){const K=Y.getSettings();console.log(`📹 Current video settings for ${M} participants:`,{width:K.width,height:K.height,frameRate:K.frameRate})}}}else Z.kind==="audio"&&(Z.enabled=!(O?.isMuted??!1));te.addTrack(Z,ae),console.log(`✅ Added ${Z.kind} track (enabled: ${Z.enabled}) for ${P}`)}catch(M){console.error(`❌ Error adding track for ${P}:`,M)}}),te.ontrack=Z=>{console.log(`🎥 Received remote stream from ${P}:`,Z.streams[0]);const M=Z.streams[0];if(M&&M.getTracks().length>0){console.log(`📺 Stream has ${M.getTracks().length} tracks:`,M.getTracks().map(F=>`${F.kind}: ${F.enabled}`));const Y=M.getVideoTracks(),K=M.getAudioTracks();console.log(`🎬 Video tracks: ${Y.length}, Audio tracks: ${K.length}`),c(F=>{const Q=F.map(re=>re.uid===P?(console.log(`✅ Updating participant ${re.name} with new stream`),{...re,stream:M}):re);return Q.find(re=>re.uid===P)||(console.log(`➕ Adding new participant with stream: ${P}`),Q.push({uid:P,name:`User ${P.slice(0,6)}`,avatarUrl:"",isMuted:!1,isCameraOn:!0,isSharingScreen:!1,stream:M})),console.log(`✅ Updated participants with stream for ${P}`),Q})}else console.warn(`⚠️ Received empty or invalid stream from ${P}`)},te.onicecandidate=Z=>{if(Z.candidate&&r){const M=ot(Pe,"rooms",t,"signaling"),Y={type:"iceCandidate",sender:r.uid,recipient:P,payload:Z.candidate.toJSON(),createdAt:Rt()};kr(M,Y)}},te.onconnectionstatechange=()=>{console.log(`🔗 Connection state for ${P}: ${te.connectionState}`);const Z=Date.now();if(te.connectionState==="connected")console.log(`✅ Successfully connected to ${P}`),x.current.set(P,{lastActivity:Z,quality:"good"}),b.current.delete(P);else if(te.connectionState==="connecting")x.current.set(P,{lastActivity:Z,quality:"poor"});else if(["disconnected","failed","closed"].includes(te.connectionState)){console.log(`❌ Connection lost with ${P}, cleaning up`),x.current.set(P,{lastActivity:Z,quality:"failed"});const M=b.current.get(P)||0;M<3&&l.length<=v?(console.log(`🔄 Attempting reconnection ${M+1}/3 for ${P}`),b.current.set(P,M+1),setTimeout(()=>{S.current.has(P)&&(S.current.get(P)?.close(),S.current.delete(P)),l.find(K=>K.uid===P)&&z(P)},Math.min(1e3*Math.pow(2,M),5e3))):(S.current.get(P)?.close(),S.current.delete(P),c(Y=>Y.filter(K=>K.uid!==P)))}},te.oniceconnectionstatechange=()=>{console.log(`🧊 ICE connection state for ${P}: ${te.iceConnectionState}`)},te},[r,e,t,n.name,n.avatarUrl,l]),q=_.useCallback(async P=>{if(!r||!e)return;console.log("🔗 Ensuring all peer connections are established...");const te=P.filter(ae=>ae.uid!==r.uid),ue=te.length;if(ue>v){console.log(`⚠️ Too many participants (${ue}), implementing selective connections`);const ae=te.sort((Z,M)=>{if(Z.isHost&&!M.isHost)return-1;if(!Z.isHost&&M.isHost)return 1;const Y=x.current.get(Z.uid)?.quality||"poor",K=x.current.get(M.uid)?.quality||"poor",F={good:3,poor:2,failed:1};return F[K]-F[Y]}).slice(0,v);for(const Z of ae)await R(Z,P)}else for(const ae of te)await R(ae,P)},[r,e,t,n.name,n.avatarUrl,z,v,x]),R=async(P,te)=>{if(!S.current.has(P.uid)){console.log(`🆕 Creating missing peer connection for ${P.name} (${P.uid})`);const ue=z(P.uid);ue&&ue.signalingState==="stable"&&setTimeout(async()=>{try{console.log(`📞 Creating offer for missing connection to ${P.uid}`);const ae=await ue.createOffer();await ue.setLocalDescription(ae);const Z=te.find(F=>F.uid===r?.uid),M={uid:r.uid,name:n.name||"Anonymous",avatarUrl:n.avatarUrl||"",isMuted:!e.getAudioTracks()[0]?.enabled,isCameraOn:e.getVideoTracks()[0]?.enabled,isSharingScreen:Z?.isSharingScreen??!1},Y={type:"offer",sender:r.uid,recipient:P.uid,payload:{offer:ue.localDescription.toJSON(),participantData:M},createdAt:Rt()},K=ot(Pe,"rooms",t,"signaling");await kr(K,Y),console.log(`📤 Sent offer for missing connection to ${P.uid}`)}catch(ae){console.error(`Error creating offer for missing connection to ${P.uid}:`,ae)}},200)}},A=_.useCallback(async()=>{if(!r||!e)return;console.log("🔄 Refreshing all peer connections...");const P=ot(Pe,"rooms",t,"participants"),te=await ns(P),ue=[];te.forEach(ae=>{const Z=ae.data(),M={uid:Z.uid||Z.userId,name:Z.name||Z.userName,avatarUrl:Z.avatarUrl||"",isMuted:Z.isMuted??!Z.micEnabled,isCameraOn:Z.isCameraOn??Z.cameraEnabled,isSharingScreen:Z.isSharingScreen??!1};M.uid!==r.uid&&ue.push(M)}),await q(ue)},[r,e,t,q]);_.useEffect(()=>{if(!r||!n.name||!t){console.log("⚠️ Skipping setup - missing basic requirements:",{firebaseUser:!!r,firebaseUserUid:r?.uid,userName:!!n.name,userNameValue:n.name,roomId:!!t,roomIdValue:t});return}if(!e){console.log("Waiting for local stream to be available...");return}if(L.current||g.current){console.log("Setup already in progress or complete, skipping...");return}console.log("🚀 Starting room setup for user:",n.name,"in room:",t),console.log("🔐 Firebase User:",{uid:r.uid,email:r.email,displayName:r.displayName}),L.current=!0;const P={uid:r.uid,name:n.name||"Anonymous",avatarUrl:n.avatarUrl||"",isMuted:!e.getAudioTracks()[0]?.enabled,isCameraOn:e.getVideoTracks()[0]?.enabled,isSharingScreen:!1,stream:e};c([P]),console.log("✅ Set local participant with stream:",{name:P.name,hasStream:!!P.stream,videoTracks:P.stream?.getVideoTracks().length||0,audioTracks:P.stream?.getAudioTracks().length||0});const te=()=>{if(!r)return null;const M=ot(Pe,"rooms",t,"signaling"),Y=Vn(M,Gn("recipient","==",r.uid));return jr(Y,async F=>{if(j.current)return;const Q=ff(Pe);for(const re of F.docChanges())if(re.type==="added"){const ve=re.doc.data(),ce=ve.sender;try{if(ve.type==="participant-left"){S.current.get(ce)?.close(),S.current.delete(ce),c(le=>le.filter(xe=>xe.uid!==ce)),Q.delete(re.doc.ref);continue}const fe=z(ce);if(!fe)continue;if(ve.type==="offer"){console.log(`📥 Received offer from ${ce}`);const le=ve.payload.participantData;c(Ae=>Ae.some(Ke=>Ke.uid===ce)?Ae.map(Ke=>Ke.uid===ce?{...Ke,...le}:Ke):(console.log(`➕ Adding new participant from offer: ${le.name}`),[...Ae,le]));const xe=r.uid>ce;if(fe.signalingState!=="stable"&&!xe){console.log("⚠️ Ignoring impolite offer from",ce);continue}try{await fe.setRemoteDescription(new RTCSessionDescription(ve.payload.offer));const Ae=await fe.createAnswer();await fe.setLocalDescription(Ae),console.log(`📤 Created answer for ${ce}`);const Ke={type:"answer",sender:r.uid,recipient:ce,payload:fe.localDescription.toJSON(),createdAt:Rt()};await kr(M,Ke),console.log(`✅ Sent answer to ${ce}`)}catch(Ae){console.error(`❌ Error handling offer from ${ce}:`,Ae)}}else if(ve.type==="answer"){console.log(`📥 Received answer from ${ce}`);try{fe.signalingState==="have-local-offer"?(await fe.setRemoteDescription(new RTCSessionDescription(ve.payload)),console.log(`✅ Set remote description for answer from ${ce}`)):console.log(`⚠️ Ignoring answer from ${ce} - wrong signaling state: ${fe.signalingState}`)}catch(le){console.error(`❌ Error handling answer from ${ce}:`,le)}}else if(ve.type==="iceCandidate"){console.log(`🧊 Received ICE candidate from ${ce}`);try{fe.remoteDescription?(await fe.addIceCandidate(new RTCIceCandidate(ve.payload)),console.log(`✅ Added ICE candidate from ${ce}`)):console.log(`⚠️ Cannot add ICE candidate - no remote description yet for ${ce}`)}catch(le){console.error(`❌ Error adding ICE candidate from ${ce}:`,le)}}}catch(fe){console.error(`Error processing signaling message from ${ce}:`,fe)}finally{Q.delete(re.doc.ref)}}F.empty||await Q.commit().catch(re=>console.error("Batch delete failed",re))},F=>{console.error("Signaling listener error:",F)})},ue=()=>{if(!r)return null;const M=ot(Pe,"rooms",t,"participants");return jr(M,K=>{if(j.current)return;console.log("👥 Participants snapshot received, total docs:",K.size);const F=new Set(l.map(ce=>ce.uid)),Q=new Set,re=[];K.forEach(ce=>{const fe=ce.data(),le=fe.uid||fe.userId;le&&(fe.uid=le,!fe.name&&fe.userName&&(fe.name=fe.userName),re.push(fe),Q.add(le),console.log("👤 Found participant:",fe.name,"uid:",le))}),Array.from(F).filter(ce=>!Q.has(ce)).forEach(ce=>{console.log("👋 Participant left:",ce);const fe=S.current.get(ce);fe&&(fe.close(),S.current.delete(ce))}),console.log("👥 Total participants found:",re.length),c(ce=>{const fe=[];return re.forEach(le=>{const xe=ce.find(Ae=>Ae.uid===le.uid);xe?fe.push({...le,stream:xe.stream}):fe.push(le)}),ce.forEach(le=>{fe.find(xe=>xe.uid===le.uid)||fe.push(le)}),console.log("👥 Merged participants:",fe.length,fe.map(le=>({name:le.name,uid:le.uid,hasStream:!!le.stream}))),q(fe),setTimeout(()=>{q(fe)},1e3),fe}),K.docChanges().forEach(async ce=>{const fe=ce.doc.data(),le=fe.uid||fe.userId;if(!le){console.warn("Participant data missing uid/userId:",fe);return}if(le!==r.uid)if(ce.type==="added"){console.log(`🆕 New participant added: ${fe.name} (${le})`);const xe=z(le);xe&&setTimeout(async()=>{if(xe.signalingState==="stable")try{console.log(`📞 Creating offer for new participant ${le}`);const Ae=await xe.createOffer();await xe.setLocalDescription(Ae);const Ke={uid:r.uid,name:n.name||"Anonymous",avatarUrl:n.avatarUrl||"",isMuted:!e.getAudioTracks()[0]?.enabled,isCameraOn:e.getVideoTracks()[0]?.enabled,isSharingScreen:O?.isSharingScreen??!1},Gt={type:"offer",sender:r.uid,recipient:le,payload:{offer:xe.localDescription.toJSON(),participantData:Ke},createdAt:Rt()},Un=ot(Pe,"rooms",t,"signaling");await kr(Un,Gt),console.log(`📤 Sent offer to new participant ${le}`)}catch(Ae){console.error(`Error creating offer for ${le}:`,Ae)}},100)}else ce.type==="removed"?(S.current.get(le)?.close(),S.current.delete(le),c(xe=>xe.filter(Ae=>Ae.uid!==le))):ce.type==="modified"&&c(xe=>xe.map(Ae=>Ae.uid===le?{...Ae,...fe}:Ae))})})};(async()=>{try{console.log("🚀 Setting up room connection for user:",n.name,"in room:",t),console.log("📄 Checking participant document in Firestore...");const M=xt(Pe,"rooms",t,"participants",r.uid),Y=await ru(M);console.log("📄 Participant document exists:",Y.exists()),Y.exists()?(console.log("🔄 Updating existing participant entry..."),await ss(M,{name:P.name,userName:P.name,avatarUrl:P.avatarUrl,isMuted:P.isMuted,isCameraOn:P.isCameraOn,isSharingScreen:P.isSharingScreen,micEnabled:!P.isMuted,cameraEnabled:P.isCameraOn})):(console.log("✅ Creating new participant entry..."),await bl(M,{uid:P.uid,userId:P.uid,name:P.name,userName:P.name,avatarUrl:P.avatarUrl,isMuted:P.isMuted,isCameraOn:P.isCameraOn,isSharingScreen:P.isSharingScreen,isHost:!1,micEnabled:!P.isMuted,cameraEnabled:P.isCameraOn,joinedAt:Rt()})),console.log("🔗 Setting up listeners...");const K=ue();K&&C.current.push(K);const F=te();F&&C.current.push(F),console.log("✅ Room setup complete, setting isJoining to false"),g.current=!0,p(!1),setTimeout(()=>{A()},2e3);const Q=setInterval(()=>{c(re=>{const ve=re.filter(ce=>ce.uid!==r.uid&&!ce.stream);return ve.length>0&&(console.log(`🔄 Found ${ve.length} participants without streams, refreshing connections...`),A()),re})},5e3);return()=>{clearInterval(Q)}}catch(M){console.error("Failed to setup room connection:",M),s({variant:"destructive",title:"Connection Error",description:"Failed to join the room. Please try again."}),g.current=!0,p(!1)}})();const Z=()=>{$()};return window.addEventListener("beforeunload",Z),()=>{window.removeEventListener("beforeunload",Z),(!r||!t)&&(g.current=!1,L.current=!1,$())}},[r,n.name,t,e]);const D=async(P,te)=>{if(!r||!e)return;const ue=O?.isSharingScreen??!1,ae=ue&&P==="audio"&&I.current?I.current:e,Z=P==="audio"?ae.getAudioTracks()[0]:e.getVideoTracks()[0];if(!Z||ue&&P==="video")return;const M=!Z.enabled;Z.enabled=M;const Y=!e.getAudioTracks()[0]?.enabled,K=e.getVideoTracks()[0]?.enabled;c(Q=>Q.map(re=>re.uid===r.uid?{...re,isMuted:Y,isCameraOn:K}:re));const F=xt(Pe,"rooms",t,"participants",r.uid);await ss(F,{isMuted:Y,isCameraOn:K,micEnabled:!Y,cameraEnabled:K}).catch(Q=>console.error("Failed to update media state in Firestore:",Q))},V=()=>D("audio"),B=()=>D("video"),W=async()=>{if(!r||!e)return;const P=O?.isSharingScreen??!1,te=xt(Pe,"rooms",t,"participants",r.uid);if(P){I.current?.getTracks().forEach(ae=>ae.stop()),I.current=null;const ue=e.getVideoTracks()[0];ue&&(ue.enabled=!0);for(const ae of S.current.values()){const Z=ae.getSenders().find(M=>M.track?.kind==="video");Z&&ue&&await Z.replaceTrack(ue)}c(ae=>ae.map(Z=>Z.uid===r.uid?{...Z,isSharingScreen:!1,isCameraOn:!0,stream:e}:Z)),await ss(te,{isSharingScreen:!1,isCameraOn:!0})}else try{const ue=await navigator.mediaDevices.getDisplayMedia({video:!0,audio:!0});I.current=ue;const ae=ue.getVideoTracks()[0];e.getVideoTracks()[0].enabled=!1,ae.onended=()=>{O?.isSharingScreen&&W()};for(const Z of S.current.values()){const M=Z.getSenders().find(Y=>Y.track?.kind==="video");M&&await M.replaceTrack(ae)}c(Z=>Z.map(M=>M.uid===r.uid?{...M,isSharingScreen:!0,isCameraOn:!1,stream:ue}:M)),await ss(te,{isSharingScreen:!0,isCameraOn:!1})}catch(ue){console.error("Screen sharing failed:",ue),e.getVideoTracks()[0].enabled=!0,s({variant:"destructive",title:"Error",description:"Could not start screen sharing."})}};return{participants:l,localParticipant:O,isJoining:h,toggleMute:V,toggleCamera:B,toggleScreenShare:W,leaveRoom:$}}function Cv({participant:t,room:e,isLocal:n=!1,localVideoRef:r,isMainView:s=!1}){const o=_.useRef(null);return _.useEffect(()=>{!n&&o.current&&t.stream?(o.current.srcObject=t.stream,o.current.play().catch(l=>console.log("Remote video autoplay prevented:",l))):n&&r?.current&&t.stream&&(r.current.srcObject=t.stream,r.current.play().catch(l=>console.log("Local video autoplay prevented:",l)))},[t.stream,n,r]),u.jsxs("div",{className:`relative bg-gray-900 rounded-xl overflow-hidden group transition-all duration-200 shadow-lg border border-gray-700/50 aspect-video ${t.isSpeaking?"ring-2 ring-green-400 ring-opacity-75 border-green-400/50":"hover:ring-1 hover:ring-blue-400 hover:ring-opacity-50 hover:border-blue-400/50"}`,children:[u.jsx("video",{ref:n?r:o,autoPlay:!0,playsInline:!0,muted:n,className:"w-full h-full object-cover"}),!t.isCameraOn&&u.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-gradient-to-br from-gray-800 to-gray-900",children:[u.jsx("div",{className:`${s?"w-24 h-24":"w-14 h-14"} bg-gradient-to-br from-gray-600 to-gray-700 rounded-full flex items-center justify-center mb-3 shadow-lg border border-gray-500/30`,children:u.jsx("span",{className:`${s?"text-3xl":"text-xl"} font-bold text-white`,children:(n?"You":t.name||"User").charAt(0).toUpperCase()})}),s&&u.jsx("span",{className:"text-gray-300 text-base font-medium",children:n?"You":t.name})]}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent p-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("div",{className:"bg-black/60 backdrop-blur-sm px-3 py-1.5 rounded-lg border border-white/10",children:u.jsxs("span",{className:`text-white font-medium truncate ${s?"text-base":"text-sm"}`,children:[n?"You":t.name,n&&u.jsx("span",{className:"ml-1 text-blue-400",children:"•"})]})}),t.uid===e?.hostId&&u.jsx("div",{className:"bg-yellow-500/20 backdrop-blur-sm p-1.5 rounded-lg border border-yellow-400/30",children:u.jsx(KN,{className:`${s?"h-4 w-4":"h-3 w-3"} text-yellow-400`})})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[t.isMuted?u.jsx("div",{className:"bg-red-500/90 backdrop-blur-sm p-1.5 rounded-lg border border-red-400/30",children:u.jsx(fy,{className:`${s?"h-3.5 w-3.5":"h-3 w-3"} text-white`})}):t.isSpeaking&&u.jsx("div",{className:"bg-green-500/90 backdrop-blur-sm p-1.5 rounded-lg border border-green-400/30 animate-pulse",children:u.jsx(py,{className:`${s?"h-3.5 w-3.5":"h-3 w-3"} text-white`})}),!t.isCameraOn&&u.jsx("div",{className:"bg-red-500/90 backdrop-blur-sm p-1.5 rounded-lg border border-red-400/30",children:u.jsx(my,{className:`${s?"h-3.5 w-3.5":"h-3 w-3"} text-white`})})]})]})}),t.isSpeaking&&u.jsx("div",{className:"absolute top-3 left-3",children:u.jsxs("div",{className:"flex items-center gap-1.5 bg-green-500/90 backdrop-blur-sm text-white px-3 py-1.5 rounded-lg text-xs font-medium border border-green-400/30",children:[u.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),"Speaking"]})}),u.jsx("div",{className:"absolute top-3 right-3",children:u.jsxs("div",{className:"flex gap-0.5 bg-black/50 backdrop-blur-sm px-2 py-1 rounded-lg",children:[u.jsx("div",{className:"w-1 h-2.5 bg-green-400 rounded-full"}),u.jsx("div",{className:"w-1 h-2.5 bg-green-400 rounded-full"}),u.jsx("div",{className:"w-1 h-2.5 bg-yellow-400 rounded-full"}),u.jsx("div",{className:"w-1 h-2.5 bg-gray-500 rounded-full"})]})}),!s&&u.jsx("div",{className:"absolute inset-0 bg-blue-500/0 group-hover:bg-blue-500/5 transition-all duration-200 rounded-xl"})]})}function MG({participants:t,localVideoRef:e,firebaseUser:n,room:r,sidebarOpen:s}){const[o,l]=_.useState(null),c=t.filter(v=>v.uid||v.userId),h=c.length;_.useEffect(()=>{const v=c.find(x=>x.isSpeaking);v&&v.uid!==o?.uid?l(v):!o&&c.length>0&&l(c[0])},[c,o]);const p=v=>v===1?{container:"flex items-center justify-center",grid:"w-full max-w-2xl",cols:"grid-cols-1"}:v===2?{container:"flex items-center justify-center",grid:"w-full max-w-6xl",cols:"grid-cols-1 lg:grid-cols-2"}:v===3?{container:"flex items-center justify-center",grid:"w-full max-w-5xl",cols:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3"}:v===4?{container:"flex items-center justify-center",grid:"w-full max-w-6xl",cols:"grid-cols-2 lg:grid-cols-2"}:v<=6?{container:"flex items-center justify-center",grid:"w-full max-w-7xl",cols:"grid-cols-2 md:grid-cols-3"}:v<=9?{container:"flex items-center justify-center",grid:"w-full max-w-7xl",cols:"grid-cols-2 md:grid-cols-3 lg:grid-cols-3"}:{container:"flex items-center justify-center",grid:"w-full max-w-7xl",cols:"grid-cols-2 md:grid-cols-3 lg:grid-cols-4"};if(h<=6){const v=p(h);return u.jsx("div",{className:`h-[calc(100vh-140px)] ${v.container} p-2 sm:p-4 lg:p-6 transition-all duration-300 ${s?"lg:mr-80":""}`,children:u.jsx("div",{className:`grid gap-4 ${v.grid} ${v.cols} ${h===1?"max-h-96":""}`,children:c.map(x=>{const b=x.uid===n?.uid;return u.jsx(Cv,{participant:x,room:r,isLocal:b,localVideoRef:b?e:void 0,isMainView:!0},x.uid||x.userId||"local")})})})}const g=c.filter(v=>v.uid!==o?.uid);return u.jsxs("div",{className:`h-[calc(100vh-140px)] flex flex-col transition-all duration-300 ${s?"lg:mr-80":""}`,children:[u.jsx("div",{className:"flex-1 flex items-center justify-center p-6 pb-2",children:u.jsx("div",{className:"w-full max-w-5xl",children:o&&u.jsx(Cv,{participant:o,room:r,isLocal:o.uid===n?.uid,localVideoRef:o.uid===n?.uid?e:void 0,isMainView:!0},o.uid||o.userId||"main")})}),g.length>0&&u.jsx("div",{className:"flex-shrink-0 px-6 pb-6",children:u.jsx("div",{className:"flex gap-3 justify-center overflow-x-auto pb-2",children:g.map(v=>{const x=v.uid===n?.uid;return u.jsx("div",{className:"flex-shrink-0 w-36 cursor-pointer transition-all duration-200 hover:scale-105 hover:shadow-lg",onClick:()=>l(v),children:u.jsx(Cv,{participant:v,room:r,isLocal:x,localVideoRef:x?e:void 0,isMainView:!1})},v.uid||v.userId||"thumb")})})})]})}function OG(){const{roomId:t}=TD(),e=to(),{user:n,firebaseUser:r}=Fn(),{toast:s}=pa(),[o,l]=_.useState(!1),[c,h]=_.useState(!1),[p,g]=_.useState(""),[v,x]=_.useState([]),[b,S]=_.useState(0),[C,I]=_.useState(null),[j,L]=_.useState(null),[O,$]=_.useState(!0),[z,q]=_.useState(!1),R=_.useRef(null),{participants:A,localParticipant:D,isJoining:V,toggleMute:B,toggleCamera:W,leaveRoom:P}=DG(t||"",C);_.useEffect(()=>{console.log("🔍 Room participants updated:",A.length,A.map(M=>({name:M.name,uid:M.uid})))},[A]),_.useEffect(()=>{if(!t||!r)return;const M=setTimeout(()=>{q(!0)},1e4);return(async()=>{try{console.log("Initializing room:",t);const K=await tn.getRoom(t);if(!K)throw new Error("Room not found");L(K),console.log("Getting user media with adaptive quality...");const Q=(()=>{const ve=j?.participants?.length||1;return ve<=2?{width:1280,height:720,frameRate:30}:ve<=4?{width:960,height:540,frameRate:24}:ve<=8?{width:640,height:360,frameRate:20}:{width:480,height:270,frameRate:15}})();console.log(`📹 Using video constraints for ${j?.participants?.length||1} participants:`,Q);const re=await navigator.mediaDevices.getUserMedia({video:{...Q,facingMode:"user"},audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,sampleRate:48e3}});if(I(re),R.current&&(R.current.srcObject=re,R.current.play().catch(ve=>console.log("Video autoplay prevented:",ve))),console.log("✅ Local stream initialized:",{videoTracks:re.getVideoTracks().length,audioTracks:re.getAudioTracks().length,videoEnabled:re.getVideoTracks()[0]?.enabled,audioEnabled:re.getAudioTracks()[0]?.enabled}),$(!1),typeof V<"u")try{typeof setIsJoining=="function"&&setIsJoining(!1)}catch{}clearTimeout(M)}catch(K){console.error("Error initializing room:",K),s({variant:"destructive",title:"Error",description:"Failed to initialize room. Please check your camera and microphone permissions."}),$(!1),clearTimeout(M)}})(),()=>{clearTimeout(M),C&&C.getTracks().forEach(K=>K.stop())}},[t,r,n.name,e,s]),_.useEffect(()=>{if(!t)return;let M=0,Y=!0;const K=tn.subscribeToRoomMessages(t,F=>{x(F),!Y&&F.length>M&&S(Q=>{if(!o){const re=F.length-M;return Q+re}return Q}),M=F.length,Y=!1});return()=>K()},[t,o]),_.useEffect(()=>{o&&S(0)},[o]);const te=async()=>{if(!(!p.trim()||!t||!r))try{await tn.sendMessage(t,r.uid,n.name||"Anonymous",p),g("")}catch(M){console.error("Error sending message:",M),s({variant:"destructive",title:"Error",description:"Failed to send message"})}},ue=()=>{j?.roomKey&&(navigator.clipboard.writeText(j.roomKey),s({title:"Copied!",description:"Room key copied to clipboard"}))},ae=async()=>{if(t&&r)try{await tn.clearRoomMessages(t),s({title:"Chat cleared!",description:"All chat messages have been cleared"})}catch(M){console.error("Error clearing chat:",M),s({title:"Error",description:"Failed to clear chat messages",variant:"destructive"})}},Z=async()=>{if(r&&t)try{await tn.leaveRoom(t,r.uid)}catch(M){console.error("Error leaving room:",M)}P(),e("/rooms")};return _.useEffect(()=>{const M=async()=>{if(r&&t)try{await tn.leaveRoom(t,r.uid)}catch(K){console.error("Error leaving room on unload:",K)}},Y=async()=>{if(document.visibilityState==="hidden"&&r&&t)try{await tn.leaveRoom(t,r.uid)}catch(K){console.error("Error leaving room on visibility change:",K)}};return window.addEventListener("beforeunload",M),document.addEventListener("visibilitychange",Y),()=>{window.removeEventListener("beforeunload",M),document.removeEventListener("visibilitychange",Y),r&&t&&tn.leaveRoom(t,r.uid).catch(K=>{console.error("Error leaving room on unmount:",K)})}},[r,t]),z?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"rounded-full h-8 w-8 border-b-2 border-red-500 mx-auto mb-4"}),u.jsx("p",{className:"text-red-500 font-semibold",children:"Unable to connect to room. Please check your network, Firestore index, or permissions."}),u.jsx(ge,{onClick:()=>e("/rooms"),className:"mt-4",children:"Back to Rooms"})]})}):O||V?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),u.jsx("p",{children:"Connecting to room..."})]})}):j?u.jsxs("div",{className:"min-h-screen bg-gray-900 flex flex-col",children:[u.jsx("div",{className:"flex-shrink-0 bg-gray-900 border-b border-gray-700",children:u.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-4 lg:px-6 py-3",children:[u.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 min-w-0 flex-1",children:[u.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>e("/rooms"),className:"text-gray-300 hover:text-white hover:bg-gray-800 p-2 flex-shrink-0",children:u.jsx(ju,{className:"h-4 w-4"})}),u.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0 flex-1",children:[u.jsx("h1",{className:"text-sm sm:text-lg font-medium text-white truncate",children:j?.name||"Loading..."}),u.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 flex-shrink-0",children:[u.jsx(bn,{variant:j?.type==="public"?"default":"secondary",className:"bg-gray-700 text-gray-200 text-xs hidden sm:inline-flex",children:j?.type==="public"?"Public":"Private"}),j?.roomKey&&u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"text-xs font-mono bg-gray-800 text-gray-300 px-1 sm:px-2 py-1 rounded",children:j.roomKey}),u.jsx(ge,{size:"sm",variant:"ghost",onClick:ue,className:"text-gray-400 hover:text-white p-1",children:u.jsx(vU,{className:"h-3 w-3"})})]})]})]})]}),u.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 flex-shrink-0",children:[u.jsx("div",{className:"text-xs sm:text-sm text-gray-400 hidden sm:block",children:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),u.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[u.jsxs("div",{className:"text-xs sm:text-sm text-gray-400",children:[A.length," participant",A.length!==1?"s":""]}),A.length>8&&u.jsx("div",{className:"px-1 sm:px-2 py-1 bg-yellow-500/20 text-yellow-400 text-xs rounded-full border border-yellow-500/30 hidden lg:block",children:"Large Room"}),A.length>15&&u.jsx("div",{className:"px-1 sm:px-2 py-1 bg-red-500/20 text-red-400 text-xs rounded-full border border-red-500/30 hidden lg:block",children:"Performance Mode"})]})]})]})}),u.jsxs("div",{className:"relative",children:[u.jsx(MG,{participants:A,localVideoRef:R,firebaseUser:r,room:j,sidebarOpen:c||o}),u.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-900 border-t border-gray-700",children:u.jsx("div",{className:"flex items-center justify-center py-3 sm:py-4 px-3 sm:px-6",children:u.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[u.jsx(ge,{variant:"ghost",size:"lg",onClick:B,className:`rounded-full w-10 h-10 sm:w-12 sm:h-12 transition-all duration-200 ${D?.isMuted?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-700 hover:bg-gray-600 text-white"}`,children:D?.isMuted?u.jsx(fy,{className:"h-4 w-4 sm:h-5 sm:w-5"}):u.jsx(py,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),u.jsx(ge,{variant:"ghost",size:"lg",onClick:W,className:`rounded-full w-10 h-10 sm:w-12 sm:h-12 transition-all duration-200 ${D?.isCameraOn?"bg-gray-700 hover:bg-gray-600 text-white":"bg-red-600 hover:bg-red-700 text-white"}`,children:D?.isCameraOn?u.jsx(Mu,{className:"h-4 w-4 sm:h-5 sm:w-5"}):u.jsx(my,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),u.jsx(ge,{variant:"ghost",size:"lg",onClick:Z,className:"rounded-full w-10 h-10 sm:w-12 sm:h-12 bg-red-600 hover:bg-red-700 text-white transition-all duration-200",children:u.jsx(qU,{className:"h-4 w-4 sm:h-5 sm:w-5 rotate-[135deg]"})}),u.jsx(ge,{variant:"ghost",size:"lg",onClick:()=>h(!c),className:`rounded-full w-10 h-10 sm:w-12 sm:h-12 transition-all duration-200 ${c?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-700 hover:bg-gray-600 text-white"}`,children:u.jsx(Qo,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),u.jsxs(ge,{variant:"ghost",size:"lg",onClick:()=>l(!o),className:`rounded-full w-10 h-10 sm:w-12 sm:h-12 relative transition-all duration-200 ${o?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-700 hover:bg-gray-600 text-white"}`,children:[u.jsx(Zg,{className:"h-4 w-4 sm:h-5 sm:w-5"}),b>0&&u.jsx("div",{className:"absolute -top-1 -right-1 sm:-top-2 sm:-right-2 bg-red-500 text-white rounded-full min-w-[16px] h-4 sm:min-w-[20px] sm:h-5 flex items-center justify-center text-xs font-bold animate-pulse border-2 border-gray-900",children:b>99?"99+":b})]})]})})}),c&&u.jsxs("div",{className:"fixed top-0 right-0 h-full w-80 bg-white border-l border-gray-200 shadow-xl z-50 flex flex-col",children:[u.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Qo,{className:"h-5 w-5 text-gray-600"}),u.jsxs("h3",{className:"font-medium text-gray-900",children:["People (",A.length,")"]})]}),u.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full w-8 h-8 p-0",children:"✕"})]}),u.jsx("div",{className:"flex-1 overflow-y-auto",children:u.jsx("div",{className:"p-2",children:A.map(M=>u.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-sm font-medium text-white",children:(M.name||"U").charAt(0).toUpperCase()})}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[M.name,M.uid===r?.uid&&" (You)"]}),M.uid===j?.hostId&&u.jsx(KN,{className:"h-3 w-3 text-yellow-500"})]}),M.uid===j?.hostId&&u.jsx("span",{className:"text-xs text-gray-500",children:"Host"})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[M.isMuted?u.jsx("div",{className:"p-1 rounded-full bg-red-100",children:u.jsx(fy,{className:"h-3 w-3 text-red-600"})}):u.jsx("div",{className:"p-1 rounded-full bg-green-100",children:u.jsx(py,{className:"h-3 w-3 text-green-600"})}),M.isCameraOn?u.jsx("div",{className:"p-1 rounded-full bg-green-100",children:u.jsx(Mu,{className:"h-3 w-3 text-green-600"})}):u.jsx("div",{className:"p-1 rounded-full bg-red-100",children:u.jsx(my,{className:"h-3 w-3 text-red-600"})})]})]},M.uid||M.userId||Math.random()))})})]}),o&&u.jsxs("div",{className:"fixed top-0 right-0 h-full w-80 bg-white/95 backdrop-blur-sm border-l border-gray-200/50 shadow-2xl z-50 flex flex-col","data-chat-open":"true",children:[u.jsxs("div",{className:"p-4 border-b border-gray-200/50 flex items-center justify-between bg-white/80 backdrop-blur-sm",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:u.jsx(Zg,{className:"h-5 w-5 text-blue-600"})}),u.jsx("h3",{className:"font-semibold text-gray-900",children:"Chat"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ge,{variant:"ghost",size:"sm",onClick:ae,className:"text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-full w-8 h-8 p-0 transition-colors",title:"Clear all messages",children:"🗑️"}),u.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full w-8 h-8 p-0 transition-colors",children:"✕"})]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:v.length===0?u.jsx("div",{className:"text-center text-gray-500 text-sm mt-12",children:u.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl mb-4",children:[u.jsx(Zg,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),u.jsx("p",{className:"font-medium text-gray-600 mb-1",children:"No messages yet"}),u.jsx("p",{className:"text-xs text-gray-500",children:"Start the conversation!"})]})}):v.map(M=>u.jsx("div",{className:"group",children:u.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-xl hover:bg-gray-50/50 transition-colors",children:[u.jsx("div",{className:"flex-shrink-0 mt-0.5",children:u.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsxs("span",{className:"text-sm font-semibold text-gray-900 truncate",children:[M.userName,M.userId===r?.uid&&u.jsx("span",{className:"ml-1 text-blue-600 font-normal",children:"(You)"})]}),u.jsx("span",{className:"text-xs text-gray-500 flex-shrink-0",children:M.timestamp?.toDate?.()?.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})||"now"})]}),u.jsx("div",{className:"text-sm text-gray-700 break-words leading-relaxed",children:M.message})]})]})},M.id))}),u.jsx("div",{className:"p-4 border-t border-gray-200/50 bg-white/80 backdrop-blur-sm",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx(rt,{value:p,onChange:M=>g(M.target.value),placeholder:"Send a message to everyone",onKeyDown:M=>M.key==="Enter"&&!M.shiftKey&&te(),className:"flex-1 border-gray-300 focus:border-blue-500 focus:ring-blue-500 bg-white/90 backdrop-blur-sm"}),u.jsx(ge,{size:"sm",onClick:te,disabled:!p.trim(),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 transition-colors",children:u.jsx(t9,{className:"h-4 w-4"})})]})})]})]})]}):u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-muted-foreground",children:"Room not found"}),u.jsx(ge,{onClick:()=>e("/rooms"),className:"mt-4",children:"Back to Rooms"})]})})}function Dj(){const[t,e]=hr.useState(""),[n,r]=hr.useState(!1),s=to(),{user:o,firebaseUser:l}=Fn(),{toast:c}=pa(),h=async()=>{if(!t.trim()){c({variant:"destructive",title:"Error",description:"Please enter a room key."});return}if(!l){c({variant:"destructive",title:"Error",description:"You must be logged in to join a room."});return}r(!0);try{const p=await tn.getRoomByKey(t.toUpperCase());p?(await tn.joinRoom(p.id,l.uid,o.name||"Anonymous"),s(`/rooms/${p.id}`),e("")):c({variant:"destructive",title:"Error",description:"Room not found. Please check the room key."})}catch{c({variant:"destructive",title:"Error",description:"Failed to join room. Please try again."})}finally{r(!1)}};return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:u.jsxs(tt,{className:"p-8 w-full max-w-md",children:[u.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Join Private Room"}),u.jsx(rt,{value:t,onChange:p=>e(p.target.value),placeholder:"Enter room key"}),u.jsx(ge,{className:"w-full mt-4",onClick:h,disabled:!t.trim()||n,children:n?"Joining...":"Join Room"})]})})}function VG(){const[t,e]=_.useState(!1),[n,r]=_.useState(null),[s,o]=_.useState(!0),[l,c]=_.useState(!0),[h,p]=_.useState(null),[g,v]=_.useState(!1);hr.useEffect(()=>{t?navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then(R=>p(R)).catch(()=>p(null)):h&&(h.getTracks().forEach(R=>R.stop()),p(null))},[t]);const x=R=>{r(R),e(!0)},b=async()=>{!C||!n||(e(!1),await tn.joinRoom(n.id,C.uid,S.name||"Anonymous"),I(`/rooms/${n.id}`))},{user:S,firebaseUser:C}=Fn();pa();const I=to(),[j,L]=_.useState(""),[O,$]=_.useState([]),[z,q]=_.useState(!1);return _.useEffect(()=>{if(!C)return;const R=tn.subscribeToPublicRooms(D=>{$(D)}),A=setInterval(async()=>{try{for(const D of O)await tn.cleanupStaleParticipants(D.id)}catch(D){console.warn("Error during periodic cleanup:",D)}},3e4);return()=>{R(),clearInterval(A)}},[C,O]),u.jsx(qs,{children:u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Study Rooms"}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx(ge,{onClick:()=>I("/create-room"),variant:"default",children:"Create Room"}),u.jsx(ge,{onClick:()=>I("/join-private-room"),variant:"outline",children:"Join Private Room"})]})]}),u.jsxs(tt,{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Public Rooms"}),u.jsxs(bn,{variant:"secondary",children:[O.length," active"]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:O.map(R=>u.jsx(tt,{className:"p-4 hover:shadow-md transition-shadow",children:u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"flex items-start justify-between",children:u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("h4",{className:"font-medium",children:R.name}),u.jsx(rx,{className:"h-4 w-4 text-green-600"})]}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Topic: ",R.topic]}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Host: ",R.hostName]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:R.description})]})}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Qo,{className:"h-4 w-4 text-muted-foreground"}),u.jsxs("span",{className:"text-sm text-muted-foreground",children:[R.participants.length,"/",R.maxParticipants]})]}),u.jsx(ge,{size:"sm",onClick:()=>x(R),disabled:R.participants.length>=R.maxParticipants,children:R.participants.length>=R.maxParticipants?"Full":"Join"}),t&&n&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",children:u.jsxs(tt,{className:"p-8 w-full max-w-md relative",children:[u.jsx("button",{className:"absolute top-4 right-4 text-muted-foreground",onClick:()=>e(!1),children:"✕"}),u.jsxs("h2",{className:"text-2xl font-bold mb-4",children:["Join Room: ",n.name]}),u.jsxs("div",{className:"mb-4 flex flex-col items-center",children:[h?u.jsx("video",{autoPlay:!0,playsInline:!0,muted:!0,className:"rounded-lg w-48 h-32 bg-black mb-2",ref:A=>{A&&h&&(A.srcObject=h)},style:{display:s?"block":"none"}}):u.jsx("div",{className:"w-48 h-32 bg-muted flex items-center justify-center rounded-lg mb-2",children:"No Camera"}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx(ge,{variant:s?"default":"outline",onClick:()=>o(A=>!A),children:s?"Camera On":"Camera Off"}),u.jsx(ge,{variant:l?"default":"outline",onClick:()=>c(A=>!A),children:l?"Mic On":"Mic Off"})]})]}),u.jsx(ge,{className:"w-full",onClick:b,children:"Enter Room"})]})})]})]})},R.id))}),O.length===0&&u.jsxs("div",{className:"text-center py-8",children:[u.jsx(Qo,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),u.jsx("p",{className:"text-muted-foreground",children:"No public rooms available. Create one to get started!"})]})]})]})})}function LG(){return u.jsxs($S,{children:[u.jsx(En,{path:"/",element:u.jsx(VG,{})}),u.jsx(En,{path:"/create-room",element:u.jsx(jj,{})}),u.jsx(En,{path:"/join-private-room",element:u.jsx(Dj,{})}),u.jsx(En,{path:":roomId",element:u.jsx(OG,{})})]})}function FG(){return u.jsx(H5,{children:u.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[u.jsxs($S,{children:[u.jsx(En,{path:"/",element:u.jsx($7,{})}),u.jsx(En,{path:"/auth",element:u.jsx(mW,{})}),u.jsx(En,{path:"/dashboard",element:u.jsx(Wq,{})}),u.jsx(En,{path:"/profile",element:u.jsx(Hq,{})}),u.jsx(En,{path:"/profile/settings",element:u.jsx(Kq,{})}),u.jsx(En,{path:"/resume/*",element:u.jsx(IG,{})}),u.jsx(En,{path:"/practice/*",element:u.jsx(AG,{})}),u.jsx(En,{path:"/rooms/*",element:u.jsx(LG,{})}),u.jsx(En,{path:"/create-room",element:u.jsx(jj,{})}),u.jsx(En,{path:"/join-private-room",element:u.jsx(Dj,{})})]}),u.jsx(s$,{})]})})}q2.createRoot(document.getElementById("root")).render(u.jsx(hr.StrictMode,{children:u.jsx(KD,{children:u.jsx(FG,{})})}));
