import{c as W,r,j as e,P as $,a as k,b as H,u as J,d as K,e as Q,f as X,g as F,s as Z,h as ee,i as se,k as ae,G as te,l as re}from"./index-CWgw_Ts5.js";import{B as I}from"./button-CcjTP62G.js";import{I as N}from"./input-rGQp_Yl5.js";import{L as f}from"./label-C7e2Xntc.js";import{C as ie}from"./card-BFUmA-gF.js";import{T as ne,a as oe,b as R,c as z}from"./tabs-D1YhixWu.js";import{B as le}from"./bg-gradient-u_7RAJ-x.js";import{m as T}from"./proxy-DB08e4Wh.js";import{A as ce}from"./arrow-left-FVbxGo1R.js";import{M as q}from"./mail-CVAJ67Yu.js";import{L as A}from"./lock-hYWKwE50.js";import{E as O}from"./eye-off-Bf5SBX0-.js";import{E as L}from"./eye-DpjMcnRG.js";import{U as de}from"./index-DUESD09M.js";import{G as ue}from"./graduation-cap-BRxXF1uU.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]],he=W("Chrome",me);var pe="Separator",B="horizontal",xe=["horizontal","vertical"],D=r.forwardRef((c,d)=>{const{decorative:h,orientation:i=B,...n}=c,y=fe(i)?i:B,v=h?{role:"none"}:{"aria-orientation":y==="vertical"?y:void 0,role:"separator"};return e.jsx($.div,{"data-orientation":y,...v,...n,ref:d})});D.displayName=pe;function fe(c){return xe.includes(c)}var V=D;const G=r.forwardRef(({className:c,orientation:d="horizontal",decorative:h=!0,...i},n)=>e.jsx(V,{ref:n,decorative:h,orientation:d,className:k("shrink-0 bg-border",d==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",c),...i}));G.displayName=V.displayName;const ge=({starDensity:c=15e-5,allStarsTwinkle:d=!0,twinkleProbability:h=.7,minTwinkleSpeed:i=.5,maxTwinkleSpeed:n=1,className:y})=>{const[P,v]=r.useState([]),p=r.useRef(null),[u,C]=r.useState(!1);r.useEffect(()=>{C(!0)},[]);const w=r.useCallback((m,t)=>{const o=m*t,b=Math.floor(o*c);return Array.from({length:b},()=>{const l=d||Math.random()<h;return{x:Math.random()*m,y:Math.random()*t,radius:Math.random()*.05+.5,opacity:Math.random()*.5+.5,twinkleSpeed:l?i+Math.random()*(n-i):null}})},[c,d,h,i,n]);return r.useEffect(()=>{if(!u)return;const m=()=>{if(p.current){const o=p.current;if(!o.getContext("2d"))return;const{width:l,height:g}=o.getBoundingClientRect();o.width=l,o.height=g,v(w(l,g))}};m();const t=new ResizeObserver(m);return p.current&&t.observe(p.current),()=>{p.current&&t.unobserve(p.current)}},[u,c,d,h,i,n,w]),r.useEffect(()=>{if(!u)return;const m=p.current;if(!m)return;const t=m.getContext("2d");if(!t)return;let o;const b=()=>{t.clearRect(0,0,m.width,m.height),P.forEach(l=>{t.beginPath(),t.arc(l.x,l.y,l.radius,0,Math.PI*2),t.fillStyle=`rgba(255, 255, 255, ${l.opacity})`,t.fill(),l.twinkleSpeed!==null&&(l.opacity=.5+Math.abs(Math.sin(Date.now()*.001/l.twinkleSpeed)*.5))}),o=requestAnimationFrame(b)};return b(),()=>{cancelAnimationFrame(o)}},[P,u]),u?e.jsx("canvas",{ref:p,className:k("h-full w-full absolute inset-0 -z-10",y)}):null},ve=H("flex gap-4 items-center justify-center",{variants:{messagePlacement:{bottom:"flex-col",top:"flex-col-reverse",right:"flex-row",left:"flex-row-reverse"}},defaultVariants:{messagePlacement:"bottom"}});function Ne({className:c,message:d,messagePlacement:h,...i}){return e.jsxs("div",{className:k(ve({messagePlacement:h})),children:[e.jsxs("div",{className:k("relative w-16 h-16",c),...i,children:[e.jsx(T.div,{className:"absolute inset-0 border-2 border-transparent border-t-primary rounded-full",animate:{rotate:360},transition:{duration:1,repeat:Number.POSITIVE_INFINITY,ease:"linear"}}),e.jsx(T.div,{className:"absolute inset-2 border-2 border-transparent border-t-primary rounded-full",animate:{rotate:-360},transition:{duration:1.5,repeat:Number.POSITIVE_INFINITY,ease:"linear"}}),e.jsx(T.div,{className:"absolute inset-4 border-2 border-transparent border-t-primary rounded-full",animate:{rotate:360},transition:{duration:.8,repeat:Number.POSITIVE_INFINITY,ease:"linear"}})]}),d&&e.jsx("div",{className:"text-muted-foreground",children:d})]})}const Me=()=>{const c="signin",d="Welcome",h="Sign in to your account or create a new one",i=J(),{toast:n}=K(),{firebaseUser:y,loading:P}=Q(),[v,p]=r.useState(c),[u,C]=r.useState(!1),[w,m]=r.useState(!1),[t,o]=r.useState(!1),[b,l]=r.useState(!1);r.useEffect(()=>{l(!0)},[]);const[g,M]=r.useState({email:"",password:""}),[a,S]=r.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",college:""}),U=async(s,E)=>{if(s.preventDefault(),o(!0),E==="signup"){if(a.password!==a.confirmPassword){n({variant:"destructive",title:"Error",description:"Passwords do not match."}),o(!1);return}try{const x=(await X(F,a.email,a.password)).user,_={name:`${a.firstName} ${a.lastName}`,email:a.email,college:a.college||"",bio:"",avatarUrl:"",github:"",linkedin:"",website:"",skills:[],experience:[],projects:[],certifications:[],title:"",location:"",phone:""};await Z(ee(se,"users",x.uid),_),n({variant:"success",title:"Success",description:"Your account has been created."}),i("/dashboard")}catch(j){let x="An unexpected error occurred. Please try again.";switch(j.code){case"auth/email-already-in-use":x="An account with this email already exists.";break;case"auth/invalid-email":x="The email address is not valid.";break;case"auth/weak-password":x="The password is too weak. Please choose a stronger password.";break}n({variant:"destructive",title:"Sign-up Failed",description:x})}}else try{await ae(F,g.email,g.password),n({variant:"success",title:"Success",description:"You've been signed in."}),i("/dashboard")}catch(j){let x="An unexpected error occurred. Please try again.";switch(j.code){case"auth/user-not-found":case"auth/wrong-password":case"auth/invalid-credential":x="Invalid credentials. Please check your email and password.";break;case"auth/invalid-email":x="The email address is not valid.";break;case"auth/user-disabled":x="This user account has been disabled.";break}n({variant:"destructive",title:"Sign-in Failed",description:x})}o(!1)},Y=async s=>{o(!0);const E=new te;try{const j=await re(F,E);n({variant:"success",title:"Success",description:"You've been signed in."}),i("/dashboard")}catch(j){n({variant:"destructive",title:"Authentication Failed",description:j.message})}o(!1)};return P?e.jsx("div",{className:"flex h-screen w-full items-center justify-center bg-background",children:e.jsx(Ne,{message:"Loading..."})}):b?e.jsxs("div",{className:"min-h-screen bg-background flex items-center justify-center p-4 relative",children:[e.jsx(ge,{}),e.jsx(le,{gradientFrom:"rgba(99, 102, 241, 0.1)",gradientTo:"rgba(168, 85, 247, 0.05)",gradientSize:"120% 120%",gradientPosition:"30% 20%",className:"opacity-60"}),e.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>i("/"),className:"absolute top-4 left-4 z-20 flex items-center gap-2 text-muted-foreground hover:text-foreground",children:[e.jsx(ce,{className:"h-4 w-4"}),"Back to Home"]}),e.jsxs("div",{className:"w-full max-w-md space-y-6 z-10",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:d}),e.jsx("p",{className:"text-muted-foreground",children:h})]}),e.jsxs(ie,{className:"p-6 border-border bg-card/80 backdrop-blur-sm",children:[e.jsxs(ne,{value:v,onValueChange:s=>p(s),children:[e.jsxs(oe,{className:"grid w-full grid-cols-2 mb-6",children:[e.jsx(R,{value:"signin",children:"Sign In"}),e.jsx(R,{value:"signup",children:"Sign Up"})]}),e.jsx(z,{value:"signin",className:"space-y-4",children:e.jsxs("form",{onSubmit:s=>U(s,"signin"),className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"signin-email",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(q,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(N,{id:"signin-email",type:"email",placeholder:"Enter your email",className:"pl-10",value:g.email,onChange:s=>M({...g,email:s.target.value}),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"signin-password",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(A,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(N,{id:"signin-password",type:u?"text":"password",placeholder:"Enter your password",className:"pl-10 pr-10",value:g.password,onChange:s=>M({...g,password:s.target.value}),required:!0}),e.jsx("button",{type:"button",onClick:()=>C(!u),className:"absolute right-3 top-3 text-muted-foreground hover:text-foreground",children:u?e.jsx(O,{className:"h-4 w-4"}):e.jsx(L,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"remember",className:"rounded border-border"}),e.jsx(f,{htmlFor:"remember",className:"text-sm",children:"Remember me"})]}),e.jsx("button",{type:"button",className:"text-sm text-primary hover:underline",children:"Forgot password?"})]}),e.jsx(I,{type:"submit",className:"w-full",disabled:t,children:t?"Signing in...":"Sign In"})]})}),e.jsx(z,{value:"signup",className:"space-y-4",children:e.jsxs("form",{onSubmit:s=>U(s,"signup"),className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"firstName",children:"First Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(de,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(N,{id:"firstName",type:"text",placeholder:"First name",className:"pl-10",value:a.firstName??"",onChange:s=>S({...a,firstName:s.target.value}),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"lastName",children:"Last Name"}),e.jsx(N,{id:"lastName",type:"text",placeholder:"Last name",value:a.lastName??"",onChange:s=>S({...a,lastName:s.target.value}),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"signup-email",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(q,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(N,{id:"signup-email",type:"email",placeholder:"Enter your email",className:"pl-10",value:a.email,onChange:s=>S({...a,email:s.target.value}),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"college",children:"University Name (Optional)"}),e.jsxs("div",{className:"relative",children:[e.jsx(ue,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(N,{id:"college",type:"text",placeholder:"e.g. University of Technology",className:"pl-10",value:a.college??"",onChange:s=>S({...a,college:s.target.value})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"signup-password",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(A,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(N,{id:"signup-password",type:u?"text":"password",placeholder:"Create a password",className:"pl-10 pr-10",value:a.password,onChange:s=>S({...a,password:s.target.value}),required:!0}),e.jsx("button",{type:"button",onClick:()=>C(!u),className:"absolute right-3 top-3 text-muted-foreground hover:text-foreground",children:u?e.jsx(O,{className:"h-4 w-4"}):e.jsx(L,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"confirmPassword",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(A,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(N,{id:"confirmPassword",type:w?"text":"password",placeholder:"Confirm your password",className:"pl-10 pr-10",value:a.confirmPassword??"",onChange:s=>S({...a,confirmPassword:s.target.value}),required:!0}),e.jsx("button",{type:"button",onClick:()=>m(!w),className:"absolute right-3 top-3 text-muted-foreground hover:text-foreground",children:w?e.jsx(O,{className:"h-4 w-4"}):e.jsx(L,{className:"h-4"})})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"terms",className:"rounded border-border",required:!0}),e.jsxs(f,{htmlFor:"terms",className:"text-sm",children:["I agree to the"," ",e.jsx("button",{type:"button",className:"text-primary hover:underline",children:"Terms of Service"})," ","and"," ",e.jsx("button",{type:"button",className:"text-primary hover:underline",children:"Privacy Policy"})]})]}),e.jsx(I,{type:"submit",className:"w-full",disabled:t,children:t?"Creating account...":"Create Account"})]})})]}),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative my-6",children:[e.jsx(G,{}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("span",{className:"bg-card/80 px-2 text-xs text-muted-foreground",children:"Or continue with"})})]}),e.jsx("div",{className:"grid grid-cols-1",children:e.jsxs(I,{variant:"outline",onClick:()=>Y(),className:"w-full",disabled:t,children:[e.jsx(he,{className:"mr-2 h-4 w-4"}),"Google"]})})]})]}),e.jsx("div",{className:"text-center text-sm text-muted-foreground",children:e.jsxs("p",{children:[v==="signin"?"Don't have an account? ":"Already have an account? ",e.jsx("button",{type:"button",onClick:()=>p(v==="signin"?"signup":"signin"),className:"text-primary hover:underline font-medium",children:v==="signin"?"Sign up":"Sign in"})]})})]})]}):null};export{Me as default};
