const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomePage-Cv_WN_hh.js","assets/button-CcjTP62G.js","assets/bg-gradient-u_7RAJ-x.js","assets/logo-CmdS9hhj.js","assets/proxy-DB08e4Wh.js","assets/AuthPage-9Ql1JN3-.js","assets/input-rGQp_Yl5.js","assets/label-C7e2Xntc.js","assets/card-BFUmA-gF.js","assets/tabs-D1YhixWu.js","assets/index-DUESD09M.js","assets/arrow-left-FVbxGo1R.js","assets/mail-CVAJ67Yu.js","assets/lock-hYWKwE50.js","assets/eye-off-Bf5SBX0-.js","assets/eye-DpjMcnRG.js","assets/graduation-cap-BRxXF1uU.js","assets/DashboardPage-DJCQ0nWP.js","assets/DashboardLayout-BhgelqLG.js","assets/badge-C9UY-Rnr.js","assets/enhanced-practice-service-BNFGFTJx.js","assets/progress-aLML1go0.js","assets/brain-Bga7oGXV.js","assets/calendar-DNBNtxm-.js","assets/globe-CL3V9On-.js","assets/ProfilePage-Dht6VaWv.js","assets/textarea-C7haGcOW.js","assets/use-toast-DBaDvaQK.js","assets/plus-C_ZeD9qF.js","assets/square-pen-DcJS-h6i.js","assets/phone-B9oNUqqs.js","assets/SettingsPage-CI_aOjxt.js","assets/ResumePage-BVnj5AUq.js","assets/circle-check-big-CXs-udWh.js","assets/PracticePage-BdwZU1xj.js","assets/RoomsPage-D05MgZTT.js","assets/CreateRoomPage-B9nwTkq6.js","assets/bg-gradient-demo-e3AaGKpD.js"])))=>i.map(i=>d[i]);
function WI(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const a=Object.getOwnPropertyDescriptor(i,o);a&&Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();const HI="modulepreload",qI=function(n){return"/"+n},By={},Tn=function(e,t,i){let o=Promise.resolve();if(t&&t.length>0){let p=function(y){return Promise.all(y.map(_=>Promise.resolve(_).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");o=p(t.map(y=>{if(y=qI(y),y in By)return;By[y]=!0;const _=y.endsWith(".css"),E=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${E}`))return;const I=document.createElement("link");if(I.rel=_?"stylesheet":HI,_||(I.as="script"),I.crossOrigin="",I.href=y,d&&I.setAttribute("nonce",d),document.head.appendChild(I),_)return new Promise((D,F)=>{I.addEventListener("load",D),I.addEventListener("error",()=>F(new Error(`Unable to preload CSS for ${y}`)))})}))}function a(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return o.then(c=>{for(const d of c||[])d.status==="rejected"&&a(d.reason);return e().catch(a)})};function Ip(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var df={exports:{}},cl={},ff={exports:{}},Oe={},$y;function KI(){if($y)return Oe;$y=1;/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.iterator;function I(L){return L===null||typeof L!="object"?null:(L=E&&L[E]||L["@@iterator"],typeof L=="function"?L:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,M={};function P(L,H,pe){this.props=L,this.context=H,this.refs=M,this.updater=pe||D}P.prototype.isReactComponent={},P.prototype.setState=function(L,H){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,H,"setState")},P.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function J(){}J.prototype=P.prototype;function Q(L,H,pe){this.props=L,this.context=H,this.refs=M,this.updater=pe||D}var Y=Q.prototype=new J;Y.constructor=Q,F(Y,P.prototype),Y.isPureReactComponent=!0;var ne=Array.isArray,ve=Object.prototype.hasOwnProperty,ae={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(L,H,pe){var Ae,xe={},be=null,Le=null;if(H!=null)for(Ae in H.ref!==void 0&&(Le=H.ref),H.key!==void 0&&(be=""+H.key),H)ve.call(H,Ae)&&!k.hasOwnProperty(Ae)&&(xe[Ae]=H[Ae]);var ze=arguments.length-2;if(ze===1)xe.children=pe;else if(1<ze){for(var Ke=Array(ze),Rt=0;Rt<ze;Rt++)Ke[Rt]=arguments[Rt+2];xe.children=Ke}if(L&&L.defaultProps)for(Ae in ze=L.defaultProps,ze)xe[Ae]===void 0&&(xe[Ae]=ze[Ae]);return{$$typeof:n,type:L,key:be,ref:Le,props:xe,_owner:ae.current}}function C(L,H){return{$$typeof:n,type:L.type,key:H,ref:L.ref,props:L.props,_owner:L._owner}}function b(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function O(L){var H={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(pe){return H[pe]})}var U=/\/+/g;function A(L,H){return typeof L=="object"&&L!==null&&L.key!=null?O(""+L.key):H.toString(36)}function oe(L,H,pe,Ae,xe){var be=typeof L;(be==="undefined"||be==="boolean")&&(L=null);var Le=!1;if(L===null)Le=!0;else switch(be){case"string":case"number":Le=!0;break;case"object":switch(L.$$typeof){case n:case e:Le=!0}}if(Le)return Le=L,xe=xe(Le),L=Ae===""?"."+A(Le,0):Ae,ne(xe)?(pe="",L!=null&&(pe=L.replace(U,"$&/")+"/"),oe(xe,H,pe,"",function(Rt){return Rt})):xe!=null&&(b(xe)&&(xe=C(xe,pe+(!xe.key||Le&&Le.key===xe.key?"":(""+xe.key).replace(U,"$&/")+"/")+L)),H.push(xe)),1;if(Le=0,Ae=Ae===""?".":Ae+":",ne(L))for(var ze=0;ze<L.length;ze++){be=L[ze];var Ke=Ae+A(be,ze);Le+=oe(be,H,pe,Ke,xe)}else if(Ke=I(L),typeof Ke=="function")for(L=Ke.call(L),ze=0;!(be=L.next()).done;)be=be.value,Ke=Ae+A(be,ze++),Le+=oe(be,H,pe,Ke,xe);else if(be==="object")throw H=String(L),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return Le}function Ve(L,H,pe){if(L==null)return L;var Ae=[],xe=0;return oe(L,Ae,"","",function(be){return H.call(pe,be,xe++)}),Ae}function je(L){if(L._status===-1){var H=L._result;H=H(),H.then(function(pe){(L._status===0||L._status===-1)&&(L._status=1,L._result=pe)},function(pe){(L._status===0||L._status===-1)&&(L._status=2,L._result=pe)}),L._status===-1&&(L._status=0,L._result=H)}if(L._status===1)return L._result.default;throw L._result}var ke={current:null},K={transition:null},ge={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:K,ReactCurrentOwner:ae};function ie(){throw Error("act(...) is not supported in production builds of React.")}return Oe.Children={map:Ve,forEach:function(L,H,pe){Ve(L,function(){H.apply(this,arguments)},pe)},count:function(L){var H=0;return Ve(L,function(){H++}),H},toArray:function(L){return Ve(L,function(H){return H})||[]},only:function(L){if(!b(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Oe.Component=P,Oe.Fragment=t,Oe.Profiler=o,Oe.PureComponent=Q,Oe.StrictMode=i,Oe.Suspense=p,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,Oe.act=ie,Oe.cloneElement=function(L,H,pe){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var Ae=F({},L.props),xe=L.key,be=L.ref,Le=L._owner;if(H!=null){if(H.ref!==void 0&&(be=H.ref,Le=ae.current),H.key!==void 0&&(xe=""+H.key),L.type&&L.type.defaultProps)var ze=L.type.defaultProps;for(Ke in H)ve.call(H,Ke)&&!k.hasOwnProperty(Ke)&&(Ae[Ke]=H[Ke]===void 0&&ze!==void 0?ze[Ke]:H[Ke])}var Ke=arguments.length-2;if(Ke===1)Ae.children=pe;else if(1<Ke){ze=Array(Ke);for(var Rt=0;Rt<Ke;Rt++)ze[Rt]=arguments[Rt+2];Ae.children=ze}return{$$typeof:n,type:L.type,key:xe,ref:be,props:Ae,_owner:Le}},Oe.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:a,_context:L},L.Consumer=L},Oe.createElement=S,Oe.createFactory=function(L){var H=S.bind(null,L);return H.type=L,H},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(L){return{$$typeof:d,render:L}},Oe.isValidElement=b,Oe.lazy=function(L){return{$$typeof:_,_payload:{_status:-1,_result:L},_init:je}},Oe.memo=function(L,H){return{$$typeof:y,type:L,compare:H===void 0?null:H}},Oe.startTransition=function(L){var H=K.transition;K.transition={};try{L()}finally{K.transition=H}},Oe.unstable_act=ie,Oe.useCallback=function(L,H){return ke.current.useCallback(L,H)},Oe.useContext=function(L){return ke.current.useContext(L)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(L){return ke.current.useDeferredValue(L)},Oe.useEffect=function(L,H){return ke.current.useEffect(L,H)},Oe.useId=function(){return ke.current.useId()},Oe.useImperativeHandle=function(L,H,pe){return ke.current.useImperativeHandle(L,H,pe)},Oe.useInsertionEffect=function(L,H){return ke.current.useInsertionEffect(L,H)},Oe.useLayoutEffect=function(L,H){return ke.current.useLayoutEffect(L,H)},Oe.useMemo=function(L,H){return ke.current.useMemo(L,H)},Oe.useReducer=function(L,H,pe){return ke.current.useReducer(L,H,pe)},Oe.useRef=function(L){return ke.current.useRef(L)},Oe.useState=function(L){return ke.current.useState(L)},Oe.useSyncExternalStore=function(L,H,pe){return ke.current.useSyncExternalStore(L,H,pe)},Oe.useTransition=function(){return ke.current.useTransition()},Oe.version="18.3.1",Oe}var Wy;function Sp(){return Wy||(Wy=1,ff.exports=KI()),ff.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hy;function GI(){if(Hy)return cl;Hy=1;var n=Sp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(d,p,y){var _,E={},I=null,D=null;y!==void 0&&(I=""+y),p.key!==void 0&&(I=""+p.key),p.ref!==void 0&&(D=p.ref);for(_ in p)i.call(p,_)&&!a.hasOwnProperty(_)&&(E[_]=p[_]);if(d&&d.defaultProps)for(_ in p=d.defaultProps,p)E[_]===void 0&&(E[_]=p[_]);return{$$typeof:e,type:d,key:I,ref:D,props:E,_owner:o.current}}return cl.Fragment=t,cl.jsx=c,cl.jsxs=c,cl}var qy;function QI(){return qy||(qy=1,df.exports=GI()),df.exports}var ee=QI(),N=Sp();const er=Ip(N),YI=WI({__proto__:null,default:er},[N]);var gc={},pf={exports:{}},cn={},mf={exports:{}},gf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ky;function XI(){return Ky||(Ky=1,(function(n){function e(K,ge){var ie=K.length;K.push(ge);e:for(;0<ie;){var L=ie-1>>>1,H=K[L];if(0<o(H,ge))K[L]=ge,K[ie]=H,ie=L;else break e}}function t(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var ge=K[0],ie=K.pop();if(ie!==ge){K[0]=ie;e:for(var L=0,H=K.length,pe=H>>>1;L<pe;){var Ae=2*(L+1)-1,xe=K[Ae],be=Ae+1,Le=K[be];if(0>o(xe,ie))be<H&&0>o(Le,xe)?(K[L]=Le,K[be]=ie,L=be):(K[L]=xe,K[Ae]=ie,L=Ae);else if(be<H&&0>o(Le,ie))K[L]=Le,K[be]=ie,L=be;else break e}}return ge}function o(K,ge){var ie=K.sortIndex-ge.sortIndex;return ie!==0?ie:K.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],y=[],_=1,E=null,I=3,D=!1,F=!1,M=!1,P=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Y(K){for(var ge=t(y);ge!==null;){if(ge.callback===null)i(y);else if(ge.startTime<=K)i(y),ge.sortIndex=ge.expirationTime,e(p,ge);else break;ge=t(y)}}function ne(K){if(M=!1,Y(K),!F)if(t(p)!==null)F=!0,je(ve);else{var ge=t(y);ge!==null&&ke(ne,ge.startTime-K)}}function ve(K,ge){F=!1,M&&(M=!1,J(S),S=-1),D=!0;var ie=I;try{for(Y(ge),E=t(p);E!==null&&(!(E.expirationTime>ge)||K&&!O());){var L=E.callback;if(typeof L=="function"){E.callback=null,I=E.priorityLevel;var H=L(E.expirationTime<=ge);ge=n.unstable_now(),typeof H=="function"?E.callback=H:E===t(p)&&i(p),Y(ge)}else i(p);E=t(p)}if(E!==null)var pe=!0;else{var Ae=t(y);Ae!==null&&ke(ne,Ae.startTime-ge),pe=!1}return pe}finally{E=null,I=ie,D=!1}}var ae=!1,k=null,S=-1,C=5,b=-1;function O(){return!(n.unstable_now()-b<C)}function U(){if(k!==null){var K=n.unstable_now();b=K;var ge=!0;try{ge=k(!0,K)}finally{ge?A():(ae=!1,k=null)}}else ae=!1}var A;if(typeof Q=="function")A=function(){Q(U)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,Ve=oe.port2;oe.port1.onmessage=U,A=function(){Ve.postMessage(null)}}else A=function(){P(U,0)};function je(K){k=K,ae||(ae=!0,A())}function ke(K,ge){S=P(function(){K(n.unstable_now())},ge)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_continueExecution=function(){F||D||(F=!0,je(ve))},n.unstable_forceFrameRate=function(K){0>K||125<K||(C=0<K?Math.floor(1e3/K):5)},n.unstable_getCurrentPriorityLevel=function(){return I},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(K){switch(I){case 1:case 2:case 3:var ge=3;break;default:ge=I}var ie=I;I=ge;try{return K()}finally{I=ie}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(K,ge){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ie=I;I=K;try{return ge()}finally{I=ie}},n.unstable_scheduleCallback=function(K,ge,ie){var L=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?L+ie:L):ie=L,K){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=ie+H,K={id:_++,callback:ge,priorityLevel:K,startTime:ie,expirationTime:H,sortIndex:-1},ie>L?(K.sortIndex=ie,e(y,K),t(p)===null&&K===t(y)&&(M?(J(S),S=-1):M=!0,ke(ne,ie-L))):(K.sortIndex=H,e(p,K),F||D||(F=!0,je(ve))),K},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(K){var ge=I;return function(){var ie=I;I=ge;try{return K.apply(this,arguments)}finally{I=ie}}}})(gf)),gf}var Gy;function JI(){return Gy||(Gy=1,mf.exports=XI()),mf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qy;function ZI(){if(Qy)return cn;Qy=1;var n=Sp(),e=JI();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},E={};function I(r){return p.call(E,r)?!0:p.call(_,r)?!1:y.test(r)?E[r]=!0:(_[r]=!0,!1)}function D(r,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function F(r,s,l,h){if(s===null||typeof s>"u"||D(r,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function M(r,s,l,h,f,g,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=f,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=w}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){P[r]=new M(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];P[s]=new M(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){P[r]=new M(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){P[r]=new M(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){P[r]=new M(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){P[r]=new M(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){P[r]=new M(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){P[r]=new M(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){P[r]=new M(r,5,!1,r.toLowerCase(),null,!1,!1)});var J=/[\-:]([a-z])/g;function Q(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(J,Q);P[s]=new M(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(J,Q);P[s]=new M(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(J,Q);P[s]=new M(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){P[r]=new M(r,1,!1,r.toLowerCase(),null,!1,!1)}),P.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){P[r]=new M(r,1,!1,r.toLowerCase(),null,!0,!0)});function Y(r,s,l,h){var f=P.hasOwnProperty(s)?P[s]:null;(f!==null?f.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(F(s,l,f,h)&&(l=null),h||f===null?I(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):f.mustUseProperty?r[f.propertyName]=l===null?f.type===3?!1:"":l:(s=f.attributeName,h=f.attributeNamespace,l===null?r.removeAttribute(s):(f=f.type,l=f===3||f===4&&l===!0?"":""+l,h?r.setAttributeNS(h,s,l):r.setAttribute(s,l))))}var ne=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ve=Symbol.for("react.element"),ae=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),O=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),Ve=Symbol.for("react.memo"),je=Symbol.for("react.lazy"),ke=Symbol.for("react.offscreen"),K=Symbol.iterator;function ge(r){return r===null||typeof r!="object"?null:(r=K&&r[K]||r["@@iterator"],typeof r=="function"?r:null)}var ie=Object.assign,L;function H(r){if(L===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);L=s&&s[1]||""}return`
`+L+r}var pe=!1;function Ae(r,s){if(!r||pe)return"";pe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch($){var h=$}Reflect.construct(r,[],s)}else{try{s.call()}catch($){h=$}r.call(s.prototype)}else{try{throw Error()}catch($){h=$}r()}}catch($){if($&&h&&typeof $.stack=="string"){for(var f=$.stack.split(`
`),g=h.stack.split(`
`),w=f.length-1,R=g.length-1;1<=w&&0<=R&&f[w]!==g[R];)R--;for(;1<=w&&0<=R;w--,R--)if(f[w]!==g[R]){if(w!==1||R!==1)do if(w--,R--,0>R||f[w]!==g[R]){var x=`
`+f[w].replace(" at new "," at ");return r.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",r.displayName)),x}while(1<=w&&0<=R);break}}}finally{pe=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?H(r):""}function xe(r){switch(r.tag){case 5:return H(r.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return r=Ae(r.type,!1),r;case 11:return r=Ae(r.type.render,!1),r;case 1:return r=Ae(r.type,!0),r;default:return""}}function be(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case k:return"Fragment";case ae:return"Portal";case C:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case oe:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case O:return(r.displayName||"Context")+".Consumer";case b:return(r._context.displayName||"Context")+".Provider";case U:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ve:return s=r.displayName||null,s!==null?s:be(r.type)||"Memo";case je:s=r._payload,r=r._init;try{return be(r(s))}catch{}}return null}function Le(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(s);case 8:return s===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ze(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ke(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Rt(r){var s=Ke(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,g=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(w){h=""+w,g.call(this,w)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(w){h=""+w},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Ar(r){r._valueTracker||(r._valueTracker=Rt(r))}function qs(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return r&&(h=Ke(r)?r.checked?"true":"false":r.value),r=h,r!==l?(s.setValue(r),!0):!1}function ri(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function ns(r,s){var l=s.checked;return ie({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function Ks(r,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=ze(s.value!=null?s.value:l),r._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ga(r,s){s=s.checked,s!=null&&Y(r,"checked",s,!1)}function ya(r,s){ga(r,s);var l=ze(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Gs(r,s.type,l):s.hasOwnProperty("defaultValue")&&Gs(r,s.type,ze(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function tu(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function Gs(r,s,l){(s!=="number"||ri(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var Cr=Array.isArray;function Pr(r,s,l,h){if(r=r.options,s){s={};for(var f=0;f<l.length;f++)s["$"+l[f]]=!0;for(l=0;l<r.length;l++)f=s.hasOwnProperty("$"+r[l].value),r[l].selected!==f&&(r[l].selected=f),f&&h&&(r[l].defaultSelected=!0)}else{for(l=""+ze(l),s=null,f=0;f<r.length;f++){if(r[f].value===l){r[f].selected=!0,h&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function va(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return ie({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Qs(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(Cr(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:ze(l)}}function Ys(r,s){var l=ze(s.value),h=ze(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),h!=null&&(r.defaultValue=""+h)}function _a(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function vt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _t(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?vt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var kr,wa=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,f){MSApp.execUnsafeLocalFunction(function(){return r(s,l,h,f)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(kr=kr||document.createElement("div"),kr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=kr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function ii(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var rs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},is=["Webkit","ms","Moz","O"];Object.keys(rs).forEach(function(r){is.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),rs[s]=rs[r]})});function Ea(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||rs.hasOwnProperty(r)&&rs[r]?(""+s).trim():s+"px"}function Ta(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,f=Ea(l,s[l],h);l==="float"&&(l="cssFloat"),h?r.setProperty(l,f):r[l]=f}}var Ia=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sa(r,s){if(s){if(Ia[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Ra(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ss=null;function Xs(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Js=null,In=null,sr=null;function Zs(r){if(r=Qa(r)){if(typeof Js!="function")throw Error(t(280));var s=r.stateNode;s&&(s=Nu(s),Js(r.stateNode,r.type,s))}}function or(r){In?sr?sr.push(r):sr=[r]:In=r}function Aa(){if(In){var r=In,s=sr;if(sr=In=null,Zs(r),s)for(r=0;r<s.length;r++)Zs(s[r])}}function os(r,s){return r(s)}function Ca(){}var xr=!1;function Pa(r,s,l){if(xr)return r(s,l);xr=!0;try{return os(r,s,l)}finally{xr=!1,(In!==null||sr!==null)&&(Ca(),Aa())}}function ut(r,s){var l=r.stateNode;if(l===null)return null;var h=Nu(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var eo=!1;if(d)try{var Mn={};Object.defineProperty(Mn,"passive",{get:function(){eo=!0}}),window.addEventListener("test",Mn,Mn),window.removeEventListener("test",Mn,Mn)}catch{eo=!1}function as(r,s,l,h,f,g,w,R,x){var $=Array.prototype.slice.call(arguments,3);try{s.apply(l,$)}catch(Z){this.onError(Z)}}var ls=!1,to=null,Fn=!1,ka=null,jh={onError:function(r){ls=!0,to=r}};function no(r,s,l,h,f,g,w,R,x){ls=!1,to=null,as.apply(jh,arguments)}function nu(r,s,l,h,f,g,w,R,x){if(no.apply(this,arguments),ls){if(ls){var $=to;ls=!1,to=null}else throw Error(t(198));Fn||(Fn=!0,ka=$)}}function Un(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function us(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function jn(r){if(Un(r)!==r)throw Error(t(188))}function ru(r){var s=r.alternate;if(!s){if(s=Un(r),s===null)throw Error(t(188));return s!==r?null:r}for(var l=r,h=s;;){var f=l.return;if(f===null)break;var g=f.alternate;if(g===null){if(h=f.return,h!==null){l=h;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===l)return jn(f),r;if(g===h)return jn(f),s;g=g.sibling}throw Error(t(188))}if(l.return!==h.return)l=f,h=g;else{for(var w=!1,R=f.child;R;){if(R===l){w=!0,l=f,h=g;break}if(R===h){w=!0,h=f,l=g;break}R=R.sibling}if(!w){for(R=g.child;R;){if(R===l){w=!0,l=g,h=f;break}if(R===h){w=!0,h=g,l=f;break}R=R.sibling}if(!w)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:s}function xa(r){return r=ru(r),r!==null?ro(r):null}function ro(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=ro(r);if(s!==null)return s;r=r.sibling}return null}var io=e.unstable_scheduleCallback,Na=e.unstable_cancelCallback,iu=e.unstable_shouldYield,zh=e.unstable_requestPaint,Xe=e.unstable_now,su=e.unstable_getCurrentPriorityLevel,cs=e.unstable_ImmediatePriority,si=e.unstable_UserBlockingPriority,Sn=e.unstable_NormalPriority,ba=e.unstable_LowPriority,ou=e.unstable_IdlePriority,hs=null,fn=null;function au(r){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(hs,r,void 0,(r.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:uu,Da=Math.log,lu=Math.LN2;function uu(r){return r>>>=0,r===0?32:31-(Da(r)/lu|0)|0}var so=64,oo=4194304;function oi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function ds(r,s){var l=r.pendingLanes;if(l===0)return 0;var h=0,f=r.suspendedLanes,g=r.pingedLanes,w=l&268435455;if(w!==0){var R=w&~f;R!==0?h=oi(R):(g&=w,g!==0&&(h=oi(g)))}else w=l&~f,w!==0?h=oi(w):g!==0&&(h=oi(g));if(h===0)return 0;if(s!==0&&s!==h&&(s&f)===0&&(f=h&-h,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if((h&4)!==0&&(h|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)l=31-Qt(s),f=1<<l,h|=r[l],s&=~f;return h}function Bh(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nr(r,s){for(var l=r.suspendedLanes,h=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var w=31-Qt(g),R=1<<w,x=f[w];x===-1?((R&l)===0||(R&h)!==0)&&(f[w]=Bh(R,s)):x<=s&&(r.expiredLanes|=R),g&=~R}}function pn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function fs(){var r=so;return so<<=1,(so&4194240)===0&&(so=64),r}function ai(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function li(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Qt(s),r[s]=l}function Ye(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<l;){var f=31-Qt(l),g=1<<f;s[f]=0,h[f]=-1,r[f]=-1,l&=~g}}function ui(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var h=31-Qt(l),f=1<<h;f&s|r[h]&s&&(r[h]|=s),l&=~f}}var Be=0;function ci(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var cu,ao,hu,du,fu,Oa=!1,ar=[],bt=null,zn=null,Bn=null,hi=new Map,Rn=new Map,lr=[],$h="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pu(r,s){switch(r){case"focusin":case"focusout":bt=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":Bn=null;break;case"pointerover":case"pointerout":hi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rn.delete(s.pointerId)}}function nn(r,s,l,h,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:g,targetContainers:[f]},s!==null&&(s=Qa(s),s!==null&&ao(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function Wh(r,s,l,h,f){switch(s){case"focusin":return bt=nn(bt,r,s,l,h,f),!0;case"dragenter":return zn=nn(zn,r,s,l,h,f),!0;case"mouseover":return Bn=nn(Bn,r,s,l,h,f),!0;case"pointerover":var g=f.pointerId;return hi.set(g,nn(hi.get(g)||null,r,s,l,h,f)),!0;case"gotpointercapture":return g=f.pointerId,Rn.set(g,nn(Rn.get(g)||null,r,s,l,h,f)),!0}return!1}function mu(r){var s=vs(r.target);if(s!==null){var l=Un(s);if(l!==null){if(s=l.tag,s===13){if(s=us(l),s!==null){r.blockedOn=s,fu(r.priority,function(){hu(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function br(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=lo(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var h=new l.constructor(l.type,l);ss=h,l.target.dispatchEvent(h),ss=null}else return s=Qa(l),s!==null&&ao(s),r.blockedOn=l,!1;s.shift()}return!0}function ps(r,s,l){br(r)&&l.delete(s)}function gu(){Oa=!1,bt!==null&&br(bt)&&(bt=null),zn!==null&&br(zn)&&(zn=null),Bn!==null&&br(Bn)&&(Bn=null),hi.forEach(ps),Rn.forEach(ps)}function $n(r,s){r.blockedOn===s&&(r.blockedOn=null,Oa||(Oa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,gu)))}function Wn(r){function s(f){return $n(f,r)}if(0<ar.length){$n(ar[0],r);for(var l=1;l<ar.length;l++){var h=ar[l];h.blockedOn===r&&(h.blockedOn=null)}}for(bt!==null&&$n(bt,r),zn!==null&&$n(zn,r),Bn!==null&&$n(Bn,r),hi.forEach(s),Rn.forEach(s),l=0;l<lr.length;l++)h=lr[l],h.blockedOn===r&&(h.blockedOn=null);for(;0<lr.length&&(l=lr[0],l.blockedOn===null);)mu(l),l.blockedOn===null&&lr.shift()}var Dr=ne.ReactCurrentBatchConfig,di=!0;function rt(r,s,l,h){var f=Be,g=Dr.transition;Dr.transition=null;try{Be=1,Va(r,s,l,h)}finally{Be=f,Dr.transition=g}}function Hh(r,s,l,h){var f=Be,g=Dr.transition;Dr.transition=null;try{Be=4,Va(r,s,l,h)}finally{Be=f,Dr.transition=g}}function Va(r,s,l,h){if(di){var f=lo(r,s,l,h);if(f===null)nd(r,s,h,ms,l),pu(r,h);else if(Wh(f,r,s,l,h))h.stopPropagation();else if(pu(r,h),s&4&&-1<$h.indexOf(r)){for(;f!==null;){var g=Qa(f);if(g!==null&&cu(g),g=lo(r,s,l,h),g===null&&nd(r,s,h,ms,l),g===f)break;f=g}f!==null&&h.stopPropagation()}else nd(r,s,h,null,l)}}var ms=null;function lo(r,s,l,h){if(ms=null,r=Xs(h),r=vs(r),r!==null)if(s=Un(r),s===null)r=null;else if(l=s.tag,l===13){if(r=us(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return ms=r,null}function La(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(su()){case cs:return 1;case si:return 4;case Sn:case ba:return 16;case ou:return 536870912;default:return 16}default:return 16}}var mn=null,uo=null,rn=null;function Ma(){if(rn)return rn;var r,s=uo,l=s.length,h,f="value"in mn?mn.value:mn.textContent,g=f.length;for(r=0;r<l&&s[r]===f[r];r++);var w=l-r;for(h=1;h<=w&&s[l-h]===f[g-h];h++);return rn=f.slice(r,1<h?1-h:void 0)}function co(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function ur(){return!0}function Fa(){return!1}function Dt(r){function s(l,h,f,g,w){this._reactName=l,this._targetInst=f,this.type=h,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(l=r[R],this[R]=l?l(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ur:Fa,this.isPropagationStopped=Fa,this}return ie(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ur)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ur)},persist:function(){},isPersistent:ur}),s}var Hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ho=Dt(Hn),cr=ie({},Hn,{view:0,detail:0}),qh=Dt(cr),fo,Or,fi,gs=ie({},cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==fi&&(fi&&r.type==="mousemove"?(fo=r.screenX-fi.screenX,Or=r.screenY-fi.screenY):Or=fo=0,fi=r),fo)},movementY:function(r){return"movementY"in r?r.movementY:Or}}),po=Dt(gs),Ua=ie({},gs,{dataTransfer:0}),yu=Dt(Ua),mo=ie({},cr,{relatedTarget:0}),go=Dt(mo),vu=ie({},Hn,{animationName:0,elapsedTime:0,pseudoElement:0}),Vr=Dt(vu),_u=ie({},Hn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),wu=Dt(_u),Eu=ie({},Hn,{data:0}),ja=Dt(Eu),yo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Iu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Tu[r])?!!s[r]:!1}function hr(){return Iu}var u=ie({},cr,{key:function(r){if(r.key){var s=yo[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=co(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Yt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hr,charCode:function(r){return r.type==="keypress"?co(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?co(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=Dt(u),v=ie({},gs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T=Dt(v),j=ie({},cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hr}),W=Dt(j),se=ie({},Hn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qe=Dt(se),wt=ie({},gs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),$e=Dt(wt),At=[9,13,27,32],ft=d&&"CompositionEvent"in window,An=null;d&&"documentMode"in document&&(An=document.documentMode);var gn=d&&"TextEvent"in window&&!An,ys=d&&(!ft||An&&8<An&&11>=An),vo=" ",Lm=!1;function Mm(r,s){switch(r){case"keyup":return At.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var _o=!1;function z0(r,s){switch(r){case"compositionend":return Fm(s);case"keypress":return s.which!==32?null:(Lm=!0,vo);case"textInput":return r=s.data,r===vo&&Lm?null:r;default:return null}}function B0(r,s){if(_o)return r==="compositionend"||!ft&&Mm(r,s)?(r=Ma(),rn=uo=mn=null,_o=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ys&&s.locale!=="ko"?null:s.data;default:return null}}var $0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Um(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!$0[r.type]:s==="textarea"}function jm(r,s,l,h){or(h),s=Pu(s,"onChange"),0<s.length&&(l=new ho("onChange","change",null,l,h),r.push({event:l,listeners:s}))}var za=null,Ba=null;function W0(r){ig(r,0)}function Su(r){var s=So(r);if(qs(s))return r}function H0(r,s){if(r==="change")return s}var zm=!1;if(d){var Kh;if(d){var Gh="oninput"in document;if(!Gh){var Bm=document.createElement("div");Bm.setAttribute("oninput","return;"),Gh=typeof Bm.oninput=="function"}Kh=Gh}else Kh=!1;zm=Kh&&(!document.documentMode||9<document.documentMode)}function $m(){za&&(za.detachEvent("onpropertychange",Wm),Ba=za=null)}function Wm(r){if(r.propertyName==="value"&&Su(Ba)){var s=[];jm(s,Ba,r,Xs(r)),Pa(W0,s)}}function q0(r,s,l){r==="focusin"?($m(),za=s,Ba=l,za.attachEvent("onpropertychange",Wm)):r==="focusout"&&$m()}function K0(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Su(Ba)}function G0(r,s){if(r==="click")return Su(s)}function Q0(r,s){if(r==="input"||r==="change")return Su(s)}function Y0(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var qn=typeof Object.is=="function"?Object.is:Y0;function $a(r,s){if(qn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var f=l[h];if(!p.call(s,f)||!qn(r[f],s[f]))return!1}return!0}function Hm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function qm(r,s){var l=Hm(r);r=0;for(var h;l;){if(l.nodeType===3){if(h=r+l.textContent.length,r<=s&&h>=s)return{node:l,offset:s-r};r=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Hm(l)}}function Km(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Km(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Gm(){for(var r=window,s=ri();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=ri(r.document)}return s}function Qh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function X0(r){var s=Gm(),l=r.focusedElem,h=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&Km(l.ownerDocument.documentElement,l)){if(h!==null&&Qh(l)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=l.textContent.length,g=Math.min(h.start,f);h=h.end===void 0?g:Math.min(h.end,f),!r.extend&&g>h&&(f=h,h=g,g=f),f=qm(l,g);var w=qm(l,h);f&&w&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),g>h?(r.addRange(s),r.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var J0=d&&"documentMode"in document&&11>=document.documentMode,wo=null,Yh=null,Wa=null,Xh=!1;function Qm(r,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Xh||wo==null||wo!==ri(h)||(h=wo,"selectionStart"in h&&Qh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Wa&&$a(Wa,h)||(Wa=h,h=Pu(Yh,"onSelect"),0<h.length&&(s=new ho("onSelect","select",null,s,l),r.push({event:s,listeners:h}),s.target=wo)))}function Ru(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var Eo={animationend:Ru("Animation","AnimationEnd"),animationiteration:Ru("Animation","AnimationIteration"),animationstart:Ru("Animation","AnimationStart"),transitionend:Ru("Transition","TransitionEnd")},Jh={},Ym={};d&&(Ym=document.createElement("div").style,"AnimationEvent"in window||(delete Eo.animationend.animation,delete Eo.animationiteration.animation,delete Eo.animationstart.animation),"TransitionEvent"in window||delete Eo.transitionend.transition);function Au(r){if(Jh[r])return Jh[r];if(!Eo[r])return r;var s=Eo[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in Ym)return Jh[r]=s[l];return r}var Xm=Au("animationend"),Jm=Au("animationiteration"),Zm=Au("animationstart"),eg=Au("transitionend"),tg=new Map,ng="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pi(r,s){tg.set(r,s),a(s,[r])}for(var Zh=0;Zh<ng.length;Zh++){var ed=ng[Zh],Z0=ed.toLowerCase(),eI=ed[0].toUpperCase()+ed.slice(1);pi(Z0,"on"+eI)}pi(Xm,"onAnimationEnd"),pi(Jm,"onAnimationIteration"),pi(Zm,"onAnimationStart"),pi("dblclick","onDoubleClick"),pi("focusin","onFocus"),pi("focusout","onBlur"),pi(eg,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ha="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ha));function rg(r,s,l){var h=r.type||"unknown-event";r.currentTarget=l,nu(h,s,void 0,r),r.currentTarget=null}function ig(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var h=r[l],f=h.event;h=h.listeners;e:{var g=void 0;if(s)for(var w=h.length-1;0<=w;w--){var R=h[w],x=R.instance,$=R.currentTarget;if(R=R.listener,x!==g&&f.isPropagationStopped())break e;rg(f,R,$),g=x}else for(w=0;w<h.length;w++){if(R=h[w],x=R.instance,$=R.currentTarget,R=R.listener,x!==g&&f.isPropagationStopped())break e;rg(f,R,$),g=x}}}if(Fn)throw r=ka,Fn=!1,ka=null,r}function et(r,s){var l=s[ld];l===void 0&&(l=s[ld]=new Set);var h=r+"__bubble";l.has(h)||(sg(s,r,2,!1),l.add(h))}function td(r,s,l){var h=0;s&&(h|=4),sg(l,r,h,s)}var Cu="_reactListening"+Math.random().toString(36).slice(2);function qa(r){if(!r[Cu]){r[Cu]=!0,i.forEach(function(l){l!=="selectionchange"&&(tI.has(l)||td(l,!1,r),td(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Cu]||(s[Cu]=!0,td("selectionchange",!1,s))}}function sg(r,s,l,h){switch(La(s)){case 1:var f=rt;break;case 4:f=Hh;break;default:f=Va}l=f.bind(null,s,l,r),f=void 0,!eo||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),h?f!==void 0?r.addEventListener(s,l,{capture:!0,passive:f}):r.addEventListener(s,l,!0):f!==void 0?r.addEventListener(s,l,{passive:f}):r.addEventListener(s,l,!1)}function nd(r,s,l,h,f){var g=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var w=h.tag;if(w===3||w===4){var R=h.stateNode.containerInfo;if(R===f||R.nodeType===8&&R.parentNode===f)break;if(w===4)for(w=h.return;w!==null;){var x=w.tag;if((x===3||x===4)&&(x=w.stateNode.containerInfo,x===f||x.nodeType===8&&x.parentNode===f))return;w=w.return}for(;R!==null;){if(w=vs(R),w===null)return;if(x=w.tag,x===5||x===6){h=g=w;continue e}R=R.parentNode}}h=h.return}Pa(function(){var $=g,Z=Xs(l),te=[];e:{var X=tg.get(r);if(X!==void 0){var le=ho,me=r;switch(r){case"keypress":if(co(l)===0)break e;case"keydown":case"keyup":le=m;break;case"focusin":me="focus",le=go;break;case"focusout":me="blur",le=go;break;case"beforeblur":case"afterblur":le=go;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=po;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=yu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=W;break;case Xm:case Jm:case Zm:le=Vr;break;case eg:le=Qe;break;case"scroll":le=qh;break;case"wheel":le=$e;break;case"copy":case"cut":case"paste":le=wu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=T}var ye=(s&4)!==0,ct=!ye&&r==="scroll",z=ye?X!==null?X+"Capture":null:X;ye=[];for(var V=$,B;V!==null;){B=V;var re=B.stateNode;if(B.tag===5&&re!==null&&(B=re,z!==null&&(re=ut(V,z),re!=null&&ye.push(Ka(V,re,B)))),ct)break;V=V.return}0<ye.length&&(X=new le(X,me,null,l,Z),te.push({event:X,listeners:ye}))}}if((s&7)===0){e:{if(X=r==="mouseover"||r==="pointerover",le=r==="mouseout"||r==="pointerout",X&&l!==ss&&(me=l.relatedTarget||l.fromElement)&&(vs(me)||me[Lr]))break e;if((le||X)&&(X=Z.window===Z?Z:(X=Z.ownerDocument)?X.defaultView||X.parentWindow:window,le?(me=l.relatedTarget||l.toElement,le=$,me=me?vs(me):null,me!==null&&(ct=Un(me),me!==ct||me.tag!==5&&me.tag!==6)&&(me=null)):(le=null,me=$),le!==me)){if(ye=po,re="onMouseLeave",z="onMouseEnter",V="mouse",(r==="pointerout"||r==="pointerover")&&(ye=T,re="onPointerLeave",z="onPointerEnter",V="pointer"),ct=le==null?X:So(le),B=me==null?X:So(me),X=new ye(re,V+"leave",le,l,Z),X.target=ct,X.relatedTarget=B,re=null,vs(Z)===$&&(ye=new ye(z,V+"enter",me,l,Z),ye.target=B,ye.relatedTarget=ct,re=ye),ct=re,le&&me)t:{for(ye=le,z=me,V=0,B=ye;B;B=To(B))V++;for(B=0,re=z;re;re=To(re))B++;for(;0<V-B;)ye=To(ye),V--;for(;0<B-V;)z=To(z),B--;for(;V--;){if(ye===z||z!==null&&ye===z.alternate)break t;ye=To(ye),z=To(z)}ye=null}else ye=null;le!==null&&og(te,X,le,ye,!1),me!==null&&ct!==null&&og(te,ct,me,ye,!0)}}e:{if(X=$?So($):window,le=X.nodeName&&X.nodeName.toLowerCase(),le==="select"||le==="input"&&X.type==="file")var _e=H0;else if(Um(X))if(zm)_e=Q0;else{_e=K0;var Ee=q0}else(le=X.nodeName)&&le.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(_e=G0);if(_e&&(_e=_e(r,$))){jm(te,_e,l,Z);break e}Ee&&Ee(r,X,$),r==="focusout"&&(Ee=X._wrapperState)&&Ee.controlled&&X.type==="number"&&Gs(X,"number",X.value)}switch(Ee=$?So($):window,r){case"focusin":(Um(Ee)||Ee.contentEditable==="true")&&(wo=Ee,Yh=$,Wa=null);break;case"focusout":Wa=Yh=wo=null;break;case"mousedown":Xh=!0;break;case"contextmenu":case"mouseup":case"dragend":Xh=!1,Qm(te,l,Z);break;case"selectionchange":if(J0)break;case"keydown":case"keyup":Qm(te,l,Z)}var Te;if(ft)e:{switch(r){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else _o?Mm(r,l)&&(Re="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Re="onCompositionStart");Re&&(ys&&l.locale!=="ko"&&(_o||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&_o&&(Te=Ma()):(mn=Z,uo="value"in mn?mn.value:mn.textContent,_o=!0)),Ee=Pu($,Re),0<Ee.length&&(Re=new ja(Re,r,null,l,Z),te.push({event:Re,listeners:Ee}),Te?Re.data=Te:(Te=Fm(l),Te!==null&&(Re.data=Te)))),(Te=gn?z0(r,l):B0(r,l))&&($=Pu($,"onBeforeInput"),0<$.length&&(Z=new ja("onBeforeInput","beforeinput",null,l,Z),te.push({event:Z,listeners:$}),Z.data=Te))}ig(te,s)})}function Ka(r,s,l){return{instance:r,listener:s,currentTarget:l}}function Pu(r,s){for(var l=s+"Capture",h=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=ut(r,l),g!=null&&h.unshift(Ka(r,g,f)),g=ut(r,s),g!=null&&h.push(Ka(r,g,f))),r=r.return}return h}function To(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function og(r,s,l,h,f){for(var g=s._reactName,w=[];l!==null&&l!==h;){var R=l,x=R.alternate,$=R.stateNode;if(x!==null&&x===h)break;R.tag===5&&$!==null&&(R=$,f?(x=ut(l,g),x!=null&&w.unshift(Ka(l,x,R))):f||(x=ut(l,g),x!=null&&w.push(Ka(l,x,R)))),l=l.return}w.length!==0&&r.push({event:s,listeners:w})}var nI=/\r\n?/g,rI=/\u0000|\uFFFD/g;function ag(r){return(typeof r=="string"?r:""+r).replace(nI,`
`).replace(rI,"")}function ku(r,s,l){if(s=ag(s),ag(r)!==s&&l)throw Error(t(425))}function xu(){}var rd=null,id=null;function sd(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var od=typeof setTimeout=="function"?setTimeout:void 0,iI=typeof clearTimeout=="function"?clearTimeout:void 0,lg=typeof Promise=="function"?Promise:void 0,sI=typeof queueMicrotask=="function"?queueMicrotask:typeof lg<"u"?function(r){return lg.resolve(null).then(r).catch(oI)}:od;function oI(r){setTimeout(function(){throw r})}function ad(r,s){var l=s,h=0;do{var f=l.nextSibling;if(r.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(h===0){r.removeChild(f),Wn(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=f}while(l);Wn(s)}function mi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function ug(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var Io=Math.random().toString(36).slice(2),dr="__reactFiber$"+Io,Ga="__reactProps$"+Io,Lr="__reactContainer$"+Io,ld="__reactEvents$"+Io,aI="__reactListeners$"+Io,lI="__reactHandles$"+Io;function vs(r){var s=r[dr];if(s)return s;for(var l=r.parentNode;l;){if(s=l[Lr]||l[dr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=ug(r);r!==null;){if(l=r[dr])return l;r=ug(r)}return s}r=l,l=r.parentNode}return null}function Qa(r){return r=r[dr]||r[Lr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function So(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Nu(r){return r[Ga]||null}var ud=[],Ro=-1;function gi(r){return{current:r}}function tt(r){0>Ro||(r.current=ud[Ro],ud[Ro]=null,Ro--)}function Je(r,s){Ro++,ud[Ro]=r.current,r.current=s}var yi={},jt=gi(yi),sn=gi(!1),_s=yi;function Ao(r,s){var l=r.type.contextTypes;if(!l)return yi;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in l)f[g]=s[g];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function on(r){return r=r.childContextTypes,r!=null}function bu(){tt(sn),tt(jt)}function cg(r,s,l){if(jt.current!==yi)throw Error(t(168));Je(jt,s),Je(sn,l)}function hg(r,s,l){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var f in h)if(!(f in s))throw Error(t(108,Le(r)||"Unknown",f));return ie({},l,h)}function Du(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||yi,_s=jt.current,Je(jt,r),Je(sn,sn.current),!0}function dg(r,s,l){var h=r.stateNode;if(!h)throw Error(t(169));l?(r=hg(r,s,_s),h.__reactInternalMemoizedMergedChildContext=r,tt(sn),tt(jt),Je(jt,r)):tt(sn),Je(sn,l)}var Mr=null,Ou=!1,cd=!1;function fg(r){Mr===null?Mr=[r]:Mr.push(r)}function uI(r){Ou=!0,fg(r)}function vi(){if(!cd&&Mr!==null){cd=!0;var r=0,s=Be;try{var l=Mr;for(Be=1;r<l.length;r++){var h=l[r];do h=h(!0);while(h!==null)}Mr=null,Ou=!1}catch(f){throw Mr!==null&&(Mr=Mr.slice(r+1)),io(cs,vi),f}finally{Be=s,cd=!1}}return null}var Co=[],Po=0,Vu=null,Lu=0,Cn=[],Pn=0,ws=null,Fr=1,Ur="";function Es(r,s){Co[Po++]=Lu,Co[Po++]=Vu,Vu=r,Lu=s}function pg(r,s,l){Cn[Pn++]=Fr,Cn[Pn++]=Ur,Cn[Pn++]=ws,ws=r;var h=Fr;r=Ur;var f=32-Qt(h)-1;h&=~(1<<f),l+=1;var g=32-Qt(s)+f;if(30<g){var w=f-f%5;g=(h&(1<<w)-1).toString(32),h>>=w,f-=w,Fr=1<<32-Qt(s)+f|l<<f|h,Ur=g+r}else Fr=1<<g|l<<f|h,Ur=r}function hd(r){r.return!==null&&(Es(r,1),pg(r,1,0))}function dd(r){for(;r===Vu;)Vu=Co[--Po],Co[Po]=null,Lu=Co[--Po],Co[Po]=null;for(;r===ws;)ws=Cn[--Pn],Cn[Pn]=null,Ur=Cn[--Pn],Cn[Pn]=null,Fr=Cn[--Pn],Cn[Pn]=null}var yn=null,vn=null,it=!1,Kn=null;function mg(r,s){var l=bn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function gg(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,yn=r,vn=mi(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,yn=r,vn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=ws!==null?{id:Fr,overflow:Ur}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=bn(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,yn=r,vn=null,!0):!1;default:return!1}}function fd(r){return(r.mode&1)!==0&&(r.flags&128)===0}function pd(r){if(it){var s=vn;if(s){var l=s;if(!gg(r,s)){if(fd(r))throw Error(t(418));s=mi(l.nextSibling);var h=yn;s&&gg(r,s)?mg(h,l):(r.flags=r.flags&-4097|2,it=!1,yn=r)}}else{if(fd(r))throw Error(t(418));r.flags=r.flags&-4097|2,it=!1,yn=r}}}function yg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;yn=r}function Mu(r){if(r!==yn)return!1;if(!it)return yg(r),it=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!sd(r.type,r.memoizedProps)),s&&(s=vn)){if(fd(r))throw vg(),Error(t(418));for(;s;)mg(r,s),s=mi(s.nextSibling)}if(yg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){vn=mi(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}vn=null}}else vn=yn?mi(r.stateNode.nextSibling):null;return!0}function vg(){for(var r=vn;r;)r=mi(r.nextSibling)}function ko(){vn=yn=null,it=!1}function md(r){Kn===null?Kn=[r]:Kn.push(r)}var cI=ne.ReactCurrentBatchConfig;function Ya(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,r));var f=h,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(w){var R=f.refs;w===null?delete R[g]:R[g]=w},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function Fu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function _g(r){var s=r._init;return s(r._payload)}function wg(r){function s(z,V){if(r){var B=z.deletions;B===null?(z.deletions=[V],z.flags|=16):B.push(V)}}function l(z,V){if(!r)return null;for(;V!==null;)s(z,V),V=V.sibling;return null}function h(z,V){for(z=new Map;V!==null;)V.key!==null?z.set(V.key,V):z.set(V.index,V),V=V.sibling;return z}function f(z,V){return z=Ai(z,V),z.index=0,z.sibling=null,z}function g(z,V,B){return z.index=B,r?(B=z.alternate,B!==null?(B=B.index,B<V?(z.flags|=2,V):B):(z.flags|=2,V)):(z.flags|=1048576,V)}function w(z){return r&&z.alternate===null&&(z.flags|=2),z}function R(z,V,B,re){return V===null||V.tag!==6?(V=of(B,z.mode,re),V.return=z,V):(V=f(V,B),V.return=z,V)}function x(z,V,B,re){var _e=B.type;return _e===k?Z(z,V,B.props.children,re,B.key):V!==null&&(V.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===je&&_g(_e)===V.type)?(re=f(V,B.props),re.ref=Ya(z,V,B),re.return=z,re):(re=lc(B.type,B.key,B.props,null,z.mode,re),re.ref=Ya(z,V,B),re.return=z,re)}function $(z,V,B,re){return V===null||V.tag!==4||V.stateNode.containerInfo!==B.containerInfo||V.stateNode.implementation!==B.implementation?(V=af(B,z.mode,re),V.return=z,V):(V=f(V,B.children||[]),V.return=z,V)}function Z(z,V,B,re,_e){return V===null||V.tag!==7?(V=ks(B,z.mode,re,_e),V.return=z,V):(V=f(V,B),V.return=z,V)}function te(z,V,B){if(typeof V=="string"&&V!==""||typeof V=="number")return V=of(""+V,z.mode,B),V.return=z,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case ve:return B=lc(V.type,V.key,V.props,null,z.mode,B),B.ref=Ya(z,null,V),B.return=z,B;case ae:return V=af(V,z.mode,B),V.return=z,V;case je:var re=V._init;return te(z,re(V._payload),B)}if(Cr(V)||ge(V))return V=ks(V,z.mode,B,null),V.return=z,V;Fu(z,V)}return null}function X(z,V,B,re){var _e=V!==null?V.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return _e!==null?null:R(z,V,""+B,re);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case ve:return B.key===_e?x(z,V,B,re):null;case ae:return B.key===_e?$(z,V,B,re):null;case je:return _e=B._init,X(z,V,_e(B._payload),re)}if(Cr(B)||ge(B))return _e!==null?null:Z(z,V,B,re,null);Fu(z,B)}return null}function le(z,V,B,re,_e){if(typeof re=="string"&&re!==""||typeof re=="number")return z=z.get(B)||null,R(V,z,""+re,_e);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case ve:return z=z.get(re.key===null?B:re.key)||null,x(V,z,re,_e);case ae:return z=z.get(re.key===null?B:re.key)||null,$(V,z,re,_e);case je:var Ee=re._init;return le(z,V,B,Ee(re._payload),_e)}if(Cr(re)||ge(re))return z=z.get(B)||null,Z(V,z,re,_e,null);Fu(V,re)}return null}function me(z,V,B,re){for(var _e=null,Ee=null,Te=V,Re=V=0,kt=null;Te!==null&&Re<B.length;Re++){Te.index>Re?(kt=Te,Te=null):kt=Te.sibling;var qe=X(z,Te,B[Re],re);if(qe===null){Te===null&&(Te=kt);break}r&&Te&&qe.alternate===null&&s(z,Te),V=g(qe,V,Re),Ee===null?_e=qe:Ee.sibling=qe,Ee=qe,Te=kt}if(Re===B.length)return l(z,Te),it&&Es(z,Re),_e;if(Te===null){for(;Re<B.length;Re++)Te=te(z,B[Re],re),Te!==null&&(V=g(Te,V,Re),Ee===null?_e=Te:Ee.sibling=Te,Ee=Te);return it&&Es(z,Re),_e}for(Te=h(z,Te);Re<B.length;Re++)kt=le(Te,z,Re,B[Re],re),kt!==null&&(r&&kt.alternate!==null&&Te.delete(kt.key===null?Re:kt.key),V=g(kt,V,Re),Ee===null?_e=kt:Ee.sibling=kt,Ee=kt);return r&&Te.forEach(function(Ci){return s(z,Ci)}),it&&Es(z,Re),_e}function ye(z,V,B,re){var _e=ge(B);if(typeof _e!="function")throw Error(t(150));if(B=_e.call(B),B==null)throw Error(t(151));for(var Ee=_e=null,Te=V,Re=V=0,kt=null,qe=B.next();Te!==null&&!qe.done;Re++,qe=B.next()){Te.index>Re?(kt=Te,Te=null):kt=Te.sibling;var Ci=X(z,Te,qe.value,re);if(Ci===null){Te===null&&(Te=kt);break}r&&Te&&Ci.alternate===null&&s(z,Te),V=g(Ci,V,Re),Ee===null?_e=Ci:Ee.sibling=Ci,Ee=Ci,Te=kt}if(qe.done)return l(z,Te),it&&Es(z,Re),_e;if(Te===null){for(;!qe.done;Re++,qe=B.next())qe=te(z,qe.value,re),qe!==null&&(V=g(qe,V,Re),Ee===null?_e=qe:Ee.sibling=qe,Ee=qe);return it&&Es(z,Re),_e}for(Te=h(z,Te);!qe.done;Re++,qe=B.next())qe=le(Te,z,Re,qe.value,re),qe!==null&&(r&&qe.alternate!==null&&Te.delete(qe.key===null?Re:qe.key),V=g(qe,V,Re),Ee===null?_e=qe:Ee.sibling=qe,Ee=qe);return r&&Te.forEach(function($I){return s(z,$I)}),it&&Es(z,Re),_e}function ct(z,V,B,re){if(typeof B=="object"&&B!==null&&B.type===k&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case ve:e:{for(var _e=B.key,Ee=V;Ee!==null;){if(Ee.key===_e){if(_e=B.type,_e===k){if(Ee.tag===7){l(z,Ee.sibling),V=f(Ee,B.props.children),V.return=z,z=V;break e}}else if(Ee.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===je&&_g(_e)===Ee.type){l(z,Ee.sibling),V=f(Ee,B.props),V.ref=Ya(z,Ee,B),V.return=z,z=V;break e}l(z,Ee);break}else s(z,Ee);Ee=Ee.sibling}B.type===k?(V=ks(B.props.children,z.mode,re,B.key),V.return=z,z=V):(re=lc(B.type,B.key,B.props,null,z.mode,re),re.ref=Ya(z,V,B),re.return=z,z=re)}return w(z);case ae:e:{for(Ee=B.key;V!==null;){if(V.key===Ee)if(V.tag===4&&V.stateNode.containerInfo===B.containerInfo&&V.stateNode.implementation===B.implementation){l(z,V.sibling),V=f(V,B.children||[]),V.return=z,z=V;break e}else{l(z,V);break}else s(z,V);V=V.sibling}V=af(B,z.mode,re),V.return=z,z=V}return w(z);case je:return Ee=B._init,ct(z,V,Ee(B._payload),re)}if(Cr(B))return me(z,V,B,re);if(ge(B))return ye(z,V,B,re);Fu(z,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,V!==null&&V.tag===6?(l(z,V.sibling),V=f(V,B),V.return=z,z=V):(l(z,V),V=of(B,z.mode,re),V.return=z,z=V),w(z)):l(z,V)}return ct}var xo=wg(!0),Eg=wg(!1),Uu=gi(null),ju=null,No=null,gd=null;function yd(){gd=No=ju=null}function vd(r){var s=Uu.current;tt(Uu),r._currentValue=s}function _d(r,s,l){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===l)break;r=r.return}}function bo(r,s){ju=r,gd=No=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(an=!0),r.firstContext=null)}function kn(r){var s=r._currentValue;if(gd!==r)if(r={context:r,memoizedValue:s,next:null},No===null){if(ju===null)throw Error(t(308));No=r,ju.dependencies={lanes:0,firstContext:r}}else No=No.next=r;return s}var Ts=null;function wd(r){Ts===null?Ts=[r]:Ts.push(r)}function Tg(r,s,l,h){var f=s.interleaved;return f===null?(l.next=l,wd(s)):(l.next=f.next,f.next=l),s.interleaved=l,jr(r,h)}function jr(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var _i=!1;function Ed(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ig(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function zr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function wi(r,s,l){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(He&2)!==0){var f=h.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),h.pending=s,jr(r,l)}return f=h.interleaved,f===null?(s.next=s,wd(h)):(s.next=f.next,f.next=s),h.interleaved=s,jr(r,l)}function zu(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,ui(r,l)}}function Sg(r,s){var l=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var f=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var w={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};g===null?f=g=w:g=g.next=w,l=l.next}while(l!==null);g===null?f=g=s:g=g.next=s}else f=g=s;l={baseState:h.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:h.shared,effects:h.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function Bu(r,s,l,h){var f=r.updateQueue;_i=!1;var g=f.firstBaseUpdate,w=f.lastBaseUpdate,R=f.shared.pending;if(R!==null){f.shared.pending=null;var x=R,$=x.next;x.next=null,w===null?g=$:w.next=$,w=x;var Z=r.alternate;Z!==null&&(Z=Z.updateQueue,R=Z.lastBaseUpdate,R!==w&&(R===null?Z.firstBaseUpdate=$:R.next=$,Z.lastBaseUpdate=x))}if(g!==null){var te=f.baseState;w=0,Z=$=x=null,R=g;do{var X=R.lane,le=R.eventTime;if((h&X)===X){Z!==null&&(Z=Z.next={eventTime:le,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var me=r,ye=R;switch(X=s,le=l,ye.tag){case 1:if(me=ye.payload,typeof me=="function"){te=me.call(le,te,X);break e}te=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ye.payload,X=typeof me=="function"?me.call(le,te,X):me,X==null)break e;te=ie({},te,X);break e;case 2:_i=!0}}R.callback!==null&&R.lane!==0&&(r.flags|=64,X=f.effects,X===null?f.effects=[R]:X.push(R))}else le={eventTime:le,lane:X,tag:R.tag,payload:R.payload,callback:R.callback,next:null},Z===null?($=Z=le,x=te):Z=Z.next=le,w|=X;if(R=R.next,R===null){if(R=f.shared.pending,R===null)break;X=R,R=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);if(Z===null&&(x=te),f.baseState=x,f.firstBaseUpdate=$,f.lastBaseUpdate=Z,s=f.shared.interleaved,s!==null){f=s;do w|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);Rs|=w,r.lanes=w,r.memoizedState=te}}function Rg(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],f=h.callback;if(f!==null){if(h.callback=null,h=l,typeof f!="function")throw Error(t(191,f));f.call(h)}}}var Xa={},fr=gi(Xa),Ja=gi(Xa),Za=gi(Xa);function Is(r){if(r===Xa)throw Error(t(174));return r}function Td(r,s){switch(Je(Za,s),Je(Ja,r),Je(fr,Xa),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:_t(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=_t(s,r)}tt(fr),Je(fr,s)}function Do(){tt(fr),tt(Ja),tt(Za)}function Ag(r){Is(Za.current);var s=Is(fr.current),l=_t(s,r.type);s!==l&&(Je(Ja,r),Je(fr,l))}function Id(r){Ja.current===r&&(tt(fr),tt(Ja))}var st=gi(0);function $u(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Sd=[];function Rd(){for(var r=0;r<Sd.length;r++)Sd[r]._workInProgressVersionPrimary=null;Sd.length=0}var Wu=ne.ReactCurrentDispatcher,Ad=ne.ReactCurrentBatchConfig,Ss=0,ot=null,Et=null,Ct=null,Hu=!1,el=!1,tl=0,hI=0;function zt(){throw Error(t(321))}function Cd(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!qn(r[l],s[l]))return!1;return!0}function Pd(r,s,l,h,f,g){if(Ss=g,ot=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Wu.current=r===null||r.memoizedState===null?mI:gI,r=l(h,f),el){g=0;do{if(el=!1,tl=0,25<=g)throw Error(t(301));g+=1,Ct=Et=null,s.updateQueue=null,Wu.current=yI,r=l(h,f)}while(el)}if(Wu.current=Gu,s=Et!==null&&Et.next!==null,Ss=0,Ct=Et=ot=null,Hu=!1,s)throw Error(t(300));return r}function kd(){var r=tl!==0;return tl=0,r}function pr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?ot.memoizedState=Ct=r:Ct=Ct.next=r,Ct}function xn(){if(Et===null){var r=ot.alternate;r=r!==null?r.memoizedState:null}else r=Et.next;var s=Ct===null?ot.memoizedState:Ct.next;if(s!==null)Ct=s,Et=r;else{if(r===null)throw Error(t(310));Et=r,r={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},Ct===null?ot.memoizedState=Ct=r:Ct=Ct.next=r}return Ct}function nl(r,s){return typeof s=="function"?s(r):s}function xd(r){var s=xn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var h=Et,f=h.baseQueue,g=l.pending;if(g!==null){if(f!==null){var w=f.next;f.next=g.next,g.next=w}h.baseQueue=f=g,l.pending=null}if(f!==null){g=f.next,h=h.baseState;var R=w=null,x=null,$=g;do{var Z=$.lane;if((Ss&Z)===Z)x!==null&&(x=x.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),h=$.hasEagerState?$.eagerState:r(h,$.action);else{var te={lane:Z,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};x===null?(R=x=te,w=h):x=x.next=te,ot.lanes|=Z,Rs|=Z}$=$.next}while($!==null&&$!==g);x===null?w=h:x.next=R,qn(h,s.memoizedState)||(an=!0),s.memoizedState=h,s.baseState=w,s.baseQueue=x,l.lastRenderedState=h}if(r=l.interleaved,r!==null){f=r;do g=f.lane,ot.lanes|=g,Rs|=g,f=f.next;while(f!==r)}else f===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Nd(r){var s=xn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var h=l.dispatch,f=l.pending,g=s.memoizedState;if(f!==null){l.pending=null;var w=f=f.next;do g=r(g,w.action),w=w.next;while(w!==f);qn(g,s.memoizedState)||(an=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,h]}function Cg(){}function Pg(r,s){var l=ot,h=xn(),f=s(),g=!qn(h.memoizedState,f);if(g&&(h.memoizedState=f,an=!0),h=h.queue,bd(Ng.bind(null,l,h,r),[r]),h.getSnapshot!==s||g||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,rl(9,xg.bind(null,l,h,f,s),void 0,null),Pt===null)throw Error(t(349));(Ss&30)!==0||kg(l,s,f)}return f}function kg(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=ot.updateQueue,s===null?(s={lastEffect:null,stores:null},ot.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function xg(r,s,l,h){s.value=l,s.getSnapshot=h,bg(s)&&Dg(r)}function Ng(r,s,l){return l(function(){bg(s)&&Dg(r)})}function bg(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!qn(r,l)}catch{return!0}}function Dg(r){var s=jr(r,1);s!==null&&Xn(s,r,1,-1)}function Og(r){var s=pr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nl,lastRenderedState:r},s.queue=r,r=r.dispatch=pI.bind(null,ot,r),[s.memoizedState,r]}function rl(r,s,l,h){return r={tag:r,create:s,destroy:l,deps:h,next:null},s=ot.updateQueue,s===null?(s={lastEffect:null,stores:null},ot.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(h=l.next,l.next=r,r.next=h,s.lastEffect=r)),r}function Vg(){return xn().memoizedState}function qu(r,s,l,h){var f=pr();ot.flags|=r,f.memoizedState=rl(1|s,l,void 0,h===void 0?null:h)}function Ku(r,s,l,h){var f=xn();h=h===void 0?null:h;var g=void 0;if(Et!==null){var w=Et.memoizedState;if(g=w.destroy,h!==null&&Cd(h,w.deps)){f.memoizedState=rl(s,l,g,h);return}}ot.flags|=r,f.memoizedState=rl(1|s,l,g,h)}function Lg(r,s){return qu(8390656,8,r,s)}function bd(r,s){return Ku(2048,8,r,s)}function Mg(r,s){return Ku(4,2,r,s)}function Fg(r,s){return Ku(4,4,r,s)}function Ug(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function jg(r,s,l){return l=l!=null?l.concat([r]):null,Ku(4,4,Ug.bind(null,s,r),l)}function Dd(){}function zg(r,s){var l=xn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Cd(s,h[1])?h[0]:(l.memoizedState=[r,s],r)}function Bg(r,s){var l=xn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Cd(s,h[1])?h[0]:(r=r(),l.memoizedState=[r,s],r)}function $g(r,s,l){return(Ss&21)===0?(r.baseState&&(r.baseState=!1,an=!0),r.memoizedState=l):(qn(l,s)||(l=fs(),ot.lanes|=l,Rs|=l,r.baseState=!0),s)}function dI(r,s){var l=Be;Be=l!==0&&4>l?l:4,r(!0);var h=Ad.transition;Ad.transition={};try{r(!1),s()}finally{Be=l,Ad.transition=h}}function Wg(){return xn().memoizedState}function fI(r,s,l){var h=Si(r);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},Hg(r))qg(s,l);else if(l=Tg(r,s,l,h),l!==null){var f=Jt();Xn(l,r,h,f),Kg(l,s,h)}}function pI(r,s,l){var h=Si(r),f={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(Hg(r))qg(s,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var w=s.lastRenderedState,R=g(w,l);if(f.hasEagerState=!0,f.eagerState=R,qn(R,w)){var x=s.interleaved;x===null?(f.next=f,wd(s)):(f.next=x.next,x.next=f),s.interleaved=f;return}}catch{}finally{}l=Tg(r,s,f,h),l!==null&&(f=Jt(),Xn(l,r,h,f),Kg(l,s,h))}}function Hg(r){var s=r.alternate;return r===ot||s!==null&&s===ot}function qg(r,s){el=Hu=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function Kg(r,s,l){if((l&4194240)!==0){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,ui(r,l)}}var Gu={readContext:kn,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},mI={readContext:kn,useCallback:function(r,s){return pr().memoizedState=[r,s===void 0?null:s],r},useContext:kn,useEffect:Lg,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,qu(4194308,4,Ug.bind(null,s,r),l)},useLayoutEffect:function(r,s){return qu(4194308,4,r,s)},useInsertionEffect:function(r,s){return qu(4,2,r,s)},useMemo:function(r,s){var l=pr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var h=pr();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=fI.bind(null,ot,r),[h.memoizedState,r]},useRef:function(r){var s=pr();return r={current:r},s.memoizedState=r},useState:Og,useDebugValue:Dd,useDeferredValue:function(r){return pr().memoizedState=r},useTransition:function(){var r=Og(!1),s=r[0];return r=dI.bind(null,r[1]),pr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var h=ot,f=pr();if(it){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),Pt===null)throw Error(t(349));(Ss&30)!==0||kg(h,s,l)}f.memoizedState=l;var g={value:l,getSnapshot:s};return f.queue=g,Lg(Ng.bind(null,h,g,r),[r]),h.flags|=2048,rl(9,xg.bind(null,h,g,l,s),void 0,null),l},useId:function(){var r=pr(),s=Pt.identifierPrefix;if(it){var l=Ur,h=Fr;l=(h&~(1<<32-Qt(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=tl++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=hI++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},gI={readContext:kn,useCallback:zg,useContext:kn,useEffect:bd,useImperativeHandle:jg,useInsertionEffect:Mg,useLayoutEffect:Fg,useMemo:Bg,useReducer:xd,useRef:Vg,useState:function(){return xd(nl)},useDebugValue:Dd,useDeferredValue:function(r){var s=xn();return $g(s,Et.memoizedState,r)},useTransition:function(){var r=xd(nl)[0],s=xn().memoizedState;return[r,s]},useMutableSource:Cg,useSyncExternalStore:Pg,useId:Wg,unstable_isNewReconciler:!1},yI={readContext:kn,useCallback:zg,useContext:kn,useEffect:bd,useImperativeHandle:jg,useInsertionEffect:Mg,useLayoutEffect:Fg,useMemo:Bg,useReducer:Nd,useRef:Vg,useState:function(){return Nd(nl)},useDebugValue:Dd,useDeferredValue:function(r){var s=xn();return Et===null?s.memoizedState=r:$g(s,Et.memoizedState,r)},useTransition:function(){var r=Nd(nl)[0],s=xn().memoizedState;return[r,s]},useMutableSource:Cg,useSyncExternalStore:Pg,useId:Wg,unstable_isNewReconciler:!1};function Gn(r,s){if(r&&r.defaultProps){s=ie({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function Od(r,s,l,h){s=r.memoizedState,l=l(h,s),l=l==null?s:ie({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Qu={isMounted:function(r){return(r=r._reactInternals)?Un(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var h=Jt(),f=Si(r),g=zr(h,f);g.payload=s,l!=null&&(g.callback=l),s=wi(r,g,f),s!==null&&(Xn(s,r,f,h),zu(s,r,f))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var h=Jt(),f=Si(r),g=zr(h,f);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=wi(r,g,f),s!==null&&(Xn(s,r,f,h),zu(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=Jt(),h=Si(r),f=zr(l,h);f.tag=2,s!=null&&(f.callback=s),s=wi(r,f,h),s!==null&&(Xn(s,r,h,l),zu(s,r,h))}};function Gg(r,s,l,h,f,g,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,g,w):s.prototype&&s.prototype.isPureReactComponent?!$a(l,h)||!$a(f,g):!0}function Qg(r,s,l){var h=!1,f=yi,g=s.contextType;return typeof g=="object"&&g!==null?g=kn(g):(f=on(s)?_s:jt.current,h=s.contextTypes,g=(h=h!=null)?Ao(r,f):yi),s=new s(l,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Qu,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),s}function Yg(r,s,l,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==r&&Qu.enqueueReplaceState(s,s.state,null)}function Vd(r,s,l,h){var f=r.stateNode;f.props=l,f.state=r.memoizedState,f.refs={},Ed(r);var g=s.contextType;typeof g=="object"&&g!==null?f.context=kn(g):(g=on(s)?_s:jt.current,f.context=Ao(r,g)),f.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Od(r,s,g,l),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&Qu.enqueueReplaceState(f,f.state,null),Bu(r,l,f,h),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function Oo(r,s){try{var l="",h=s;do l+=xe(h),h=h.return;while(h);var f=l}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:f,digest:null}}function Ld(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function pO(r,s){}var vI=typeof WeakMap=="function"?WeakMap:Map;function Xg(r,s,l){l=zr(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){nc||(nc=!0,Xd=h)},l}function Jg(r,s,l){l=zr(-1,l),l.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=s.value;l.payload=function(){return h(f)},l.callback=function(){}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(l.callback=function(){typeof h!="function"&&(Ti===null?Ti=new Set([this]):Ti.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),l}function Zg(r,s,l){var h=r.pingCache;if(h===null){h=r.pingCache=new vI;var f=new Set;h.set(s,f)}else f=h.get(s),f===void 0&&(f=new Set,h.set(s,f));f.has(l)||(f.add(l),r=bI.bind(null,r,s,l),s.then(r,r))}function ey(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function ty(r,s,l,h,f){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=zr(-1,1),s.tag=2,wi(l,s,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=f,r)}var _I=ne.ReactCurrentOwner,an=!1;function Xt(r,s,l,h){s.child=r===null?Eg(s,null,l,h):xo(s,r.child,l,h)}function ny(r,s,l,h,f){l=l.render;var g=s.ref;return bo(s,f),h=Pd(r,s,l,h,g,f),l=kd(),r!==null&&!an?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,Br(r,s,f)):(it&&l&&hd(s),s.flags|=1,Xt(r,s,h,f),s.child)}function ry(r,s,l,h,f){if(r===null){var g=l.type;return typeof g=="function"&&!sf(g)&&g.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=g,iy(r,s,g,h,f)):(r=lc(l.type,null,h,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,(r.lanes&f)===0){var w=g.memoizedProps;if(l=l.compare,l=l!==null?l:$a,l(w,h)&&r.ref===s.ref)return Br(r,s,f)}return s.flags|=1,r=Ai(g,h),r.ref=s.ref,r.return=s,s.child=r}function iy(r,s,l,h,f){if(r!==null){var g=r.memoizedProps;if($a(g,h)&&r.ref===s.ref)if(an=!1,s.pendingProps=h=g,(r.lanes&f)!==0)(r.flags&131072)!==0&&(an=!0);else return s.lanes=r.lanes,Br(r,s,f)}return Md(r,s,l,h,f)}function sy(r,s,l){var h=s.pendingProps,f=h.children,g=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(Lo,_n),_n|=l;else{if((l&1073741824)===0)return r=g!==null?g.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Je(Lo,_n),_n|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:l,Je(Lo,_n),_n|=h}else g!==null?(h=g.baseLanes|l,s.memoizedState=null):h=l,Je(Lo,_n),_n|=h;return Xt(r,s,f,l),s.child}function oy(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Md(r,s,l,h,f){var g=on(l)?_s:jt.current;return g=Ao(s,g),bo(s,f),l=Pd(r,s,l,h,g,f),h=kd(),r!==null&&!an?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,Br(r,s,f)):(it&&h&&hd(s),s.flags|=1,Xt(r,s,l,f),s.child)}function ay(r,s,l,h,f){if(on(l)){var g=!0;Du(s)}else g=!1;if(bo(s,f),s.stateNode===null)Xu(r,s),Qg(s,l,h),Vd(s,l,h,f),h=!0;else if(r===null){var w=s.stateNode,R=s.memoizedProps;w.props=R;var x=w.context,$=l.contextType;typeof $=="object"&&$!==null?$=kn($):($=on(l)?_s:jt.current,$=Ao(s,$));var Z=l.getDerivedStateFromProps,te=typeof Z=="function"||typeof w.getSnapshotBeforeUpdate=="function";te||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(R!==h||x!==$)&&Yg(s,w,h,$),_i=!1;var X=s.memoizedState;w.state=X,Bu(s,h,w,f),x=s.memoizedState,R!==h||X!==x||sn.current||_i?(typeof Z=="function"&&(Od(s,l,Z,h),x=s.memoizedState),(R=_i||Gg(s,l,R,h,X,x,$))?(te||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=x),w.props=h,w.state=x,w.context=$,h=R):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{w=s.stateNode,Ig(r,s),R=s.memoizedProps,$=s.type===s.elementType?R:Gn(s.type,R),w.props=$,te=s.pendingProps,X=w.context,x=l.contextType,typeof x=="object"&&x!==null?x=kn(x):(x=on(l)?_s:jt.current,x=Ao(s,x));var le=l.getDerivedStateFromProps;(Z=typeof le=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(R!==te||X!==x)&&Yg(s,w,h,x),_i=!1,X=s.memoizedState,w.state=X,Bu(s,h,w,f);var me=s.memoizedState;R!==te||X!==me||sn.current||_i?(typeof le=="function"&&(Od(s,l,le,h),me=s.memoizedState),($=_i||Gg(s,l,$,h,X,me,x)||!1)?(Z||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,me,x),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,me,x)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||R===r.memoizedProps&&X===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&X===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=me),w.props=h,w.state=me,w.context=x,h=$):(typeof w.componentDidUpdate!="function"||R===r.memoizedProps&&X===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&X===r.memoizedState||(s.flags|=1024),h=!1)}return Fd(r,s,l,h,g,f)}function Fd(r,s,l,h,f,g){oy(r,s);var w=(s.flags&128)!==0;if(!h&&!w)return f&&dg(s,l,!1),Br(r,s,g);h=s.stateNode,_I.current=s;var R=w&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&w?(s.child=xo(s,r.child,null,g),s.child=xo(s,null,R,g)):Xt(r,s,R,g),s.memoizedState=h.state,f&&dg(s,l,!0),s.child}function ly(r){var s=r.stateNode;s.pendingContext?cg(r,s.pendingContext,s.pendingContext!==s.context):s.context&&cg(r,s.context,!1),Td(r,s.containerInfo)}function uy(r,s,l,h,f){return ko(),md(f),s.flags|=256,Xt(r,s,l,h),s.child}var Ud={dehydrated:null,treeContext:null,retryLane:0};function jd(r){return{baseLanes:r,cachePool:null,transitions:null}}function cy(r,s,l){var h=s.pendingProps,f=st.current,g=!1,w=(s.flags&128)!==0,R;if((R=w)||(R=r!==null&&r.memoizedState===null?!1:(f&2)!==0),R?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),Je(st,f&1),r===null)return pd(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(w=h.children,r=h.fallback,g?(h=s.mode,g=s.child,w={mode:"hidden",children:w},(h&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=w):g=uc(w,h,0,null),r=ks(r,h,l,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=jd(l),s.memoizedState=Ud,r):zd(s,w));if(f=r.memoizedState,f!==null&&(R=f.dehydrated,R!==null))return wI(r,s,w,h,R,f,l);if(g){g=h.fallback,w=s.mode,f=r.child,R=f.sibling;var x={mode:"hidden",children:h.children};return(w&1)===0&&s.child!==f?(h=s.child,h.childLanes=0,h.pendingProps=x,s.deletions=null):(h=Ai(f,x),h.subtreeFlags=f.subtreeFlags&14680064),R!==null?g=Ai(R,g):(g=ks(g,w,l,null),g.flags|=2),g.return=s,h.return=s,h.sibling=g,s.child=h,h=g,g=s.child,w=r.child.memoizedState,w=w===null?jd(l):{baseLanes:w.baseLanes|l,cachePool:null,transitions:w.transitions},g.memoizedState=w,g.childLanes=r.childLanes&~l,s.memoizedState=Ud,h}return g=r.child,r=g.sibling,h=Ai(g,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=l),h.return=s,h.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=h,s.memoizedState=null,h}function zd(r,s){return s=uc({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Yu(r,s,l,h){return h!==null&&md(h),xo(s,r.child,null,l),r=zd(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function wI(r,s,l,h,f,g,w){if(l)return s.flags&256?(s.flags&=-257,h=Ld(Error(t(422))),Yu(r,s,w,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=h.fallback,f=s.mode,h=uc({mode:"visible",children:h.children},f,0,null),g=ks(g,f,w,null),g.flags|=2,h.return=s,g.return=s,h.sibling=g,s.child=h,(s.mode&1)!==0&&xo(s,r.child,null,w),s.child.memoizedState=jd(w),s.memoizedState=Ud,g);if((s.mode&1)===0)return Yu(r,s,w,null);if(f.data==="$!"){if(h=f.nextSibling&&f.nextSibling.dataset,h)var R=h.dgst;return h=R,g=Error(t(419)),h=Ld(g,h,void 0),Yu(r,s,w,h)}if(R=(w&r.childLanes)!==0,an||R){if(h=Pt,h!==null){switch(w&-w){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(h.suspendedLanes|w))!==0?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,jr(r,f),Xn(h,r,f,-1))}return rf(),h=Ld(Error(t(421))),Yu(r,s,w,h)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=DI.bind(null,r),f._reactRetry=s,null):(r=g.treeContext,vn=mi(f.nextSibling),yn=s,it=!0,Kn=null,r!==null&&(Cn[Pn++]=Fr,Cn[Pn++]=Ur,Cn[Pn++]=ws,Fr=r.id,Ur=r.overflow,ws=s),s=zd(s,h.children),s.flags|=4096,s)}function hy(r,s,l){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),_d(r.return,s,l)}function Bd(r,s,l,h,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=l,g.tailMode=f)}function dy(r,s,l){var h=s.pendingProps,f=h.revealOrder,g=h.tail;if(Xt(r,s,h.children,l),h=st.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&hy(r,l,s);else if(r.tag===19)hy(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(Je(st,h),(s.mode&1)===0)s.memoizedState=null;else switch(f){case"forwards":for(l=s.child,f=null;l!==null;)r=l.alternate,r!==null&&$u(r)===null&&(f=l),l=l.sibling;l=f,l===null?(f=s.child,s.child=null):(f=l.sibling,l.sibling=null),Bd(s,!1,f,l,g);break;case"backwards":for(l=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&$u(r)===null){s.child=f;break}r=f.sibling,f.sibling=l,l=f,f=r}Bd(s,!0,l,null,g);break;case"together":Bd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Xu(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Br(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),Rs|=s.lanes,(l&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,l=Ai(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Ai(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function EI(r,s,l){switch(s.tag){case 3:ly(s),ko();break;case 5:Ag(s);break;case 1:on(s.type)&&Du(s);break;case 4:Td(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,f=s.memoizedProps.value;Je(Uu,h._currentValue),h._currentValue=f;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(Je(st,st.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?cy(r,s,l):(Je(st,st.current&1),r=Br(r,s,l),r!==null?r.sibling:null);Je(st,st.current&1);break;case 19:if(h=(l&s.childLanes)!==0,(r.flags&128)!==0){if(h)return dy(r,s,l);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Je(st,st.current),h)break;return null;case 22:case 23:return s.lanes=0,sy(r,s,l)}return Br(r,s,l)}var fy,$d,py,my;fy=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},$d=function(){},py=function(r,s,l,h){var f=r.memoizedProps;if(f!==h){r=s.stateNode,Is(fr.current);var g=null;switch(l){case"input":f=ns(r,f),h=ns(r,h),g=[];break;case"select":f=ie({},f,{value:void 0}),h=ie({},h,{value:void 0}),g=[];break;case"textarea":f=va(r,f),h=va(r,h),g=[];break;default:typeof f.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=xu)}Sa(l,h);var w;l=null;for($ in f)if(!h.hasOwnProperty($)&&f.hasOwnProperty($)&&f[$]!=null)if($==="style"){var R=f[$];for(w in R)R.hasOwnProperty(w)&&(l||(l={}),l[w]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(o.hasOwnProperty($)?g||(g=[]):(g=g||[]).push($,null));for($ in h){var x=h[$];if(R=f?.[$],h.hasOwnProperty($)&&x!==R&&(x!=null||R!=null))if($==="style")if(R){for(w in R)!R.hasOwnProperty(w)||x&&x.hasOwnProperty(w)||(l||(l={}),l[w]="");for(w in x)x.hasOwnProperty(w)&&R[w]!==x[w]&&(l||(l={}),l[w]=x[w])}else l||(g||(g=[]),g.push($,l)),l=x;else $==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,R=R?R.__html:void 0,x!=null&&R!==x&&(g=g||[]).push($,x)):$==="children"?typeof x!="string"&&typeof x!="number"||(g=g||[]).push($,""+x):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(o.hasOwnProperty($)?(x!=null&&$==="onScroll"&&et("scroll",r),g||R===x||(g=[])):(g=g||[]).push($,x))}l&&(g=g||[]).push("style",l);var $=g;(s.updateQueue=$)&&(s.flags|=4)}},my=function(r,s,l,h){l!==h&&(s.flags|=4)};function il(r,s){if(!it)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Bt(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,h=0;if(s)for(var f=r.child;f!==null;)l|=f.lanes|f.childLanes,h|=f.subtreeFlags&14680064,h|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)l|=f.lanes|f.childLanes,h|=f.subtreeFlags,h|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=h,r.childLanes=l,s}function TI(r,s,l){var h=s.pendingProps;switch(dd(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(s),null;case 1:return on(s.type)&&bu(),Bt(s),null;case 3:return h=s.stateNode,Do(),tt(sn),tt(jt),Rd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(Mu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Kn!==null&&(ef(Kn),Kn=null))),$d(r,s),Bt(s),null;case 5:Id(s);var f=Is(Za.current);if(l=s.type,r!==null&&s.stateNode!=null)py(r,s,l,h,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return Bt(s),null}if(r=Is(fr.current),Mu(s)){h=s.stateNode,l=s.type;var g=s.memoizedProps;switch(h[dr]=s,h[Ga]=g,r=(s.mode&1)!==0,l){case"dialog":et("cancel",h),et("close",h);break;case"iframe":case"object":case"embed":et("load",h);break;case"video":case"audio":for(f=0;f<Ha.length;f++)et(Ha[f],h);break;case"source":et("error",h);break;case"img":case"image":case"link":et("error",h),et("load",h);break;case"details":et("toggle",h);break;case"input":Ks(h,g),et("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},et("invalid",h);break;case"textarea":Qs(h,g),et("invalid",h)}Sa(l,g),f=null;for(var w in g)if(g.hasOwnProperty(w)){var R=g[w];w==="children"?typeof R=="string"?h.textContent!==R&&(g.suppressHydrationWarning!==!0&&ku(h.textContent,R,r),f=["children",R]):typeof R=="number"&&h.textContent!==""+R&&(g.suppressHydrationWarning!==!0&&ku(h.textContent,R,r),f=["children",""+R]):o.hasOwnProperty(w)&&R!=null&&w==="onScroll"&&et("scroll",h)}switch(l){case"input":Ar(h),tu(h,g,!0);break;case"textarea":Ar(h),_a(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=xu)}h=f,s.updateQueue=h,h!==null&&(s.flags|=4)}else{w=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=vt(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=w.createElement(l,{is:h.is}):(r=w.createElement(l),l==="select"&&(w=r,h.multiple?w.multiple=!0:h.size&&(w.size=h.size))):r=w.createElementNS(r,l),r[dr]=s,r[Ga]=h,fy(r,s,!1,!1),s.stateNode=r;e:{switch(w=Ra(l,h),l){case"dialog":et("cancel",r),et("close",r),f=h;break;case"iframe":case"object":case"embed":et("load",r),f=h;break;case"video":case"audio":for(f=0;f<Ha.length;f++)et(Ha[f],r);f=h;break;case"source":et("error",r),f=h;break;case"img":case"image":case"link":et("error",r),et("load",r),f=h;break;case"details":et("toggle",r),f=h;break;case"input":Ks(r,h),f=ns(r,h),et("invalid",r);break;case"option":f=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},f=ie({},h,{value:void 0}),et("invalid",r);break;case"textarea":Qs(r,h),f=va(r,h),et("invalid",r);break;default:f=h}Sa(l,f),R=f;for(g in R)if(R.hasOwnProperty(g)){var x=R[g];g==="style"?Ta(r,x):g==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&wa(r,x)):g==="children"?typeof x=="string"?(l!=="textarea"||x!=="")&&ii(r,x):typeof x=="number"&&ii(r,""+x):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?x!=null&&g==="onScroll"&&et("scroll",r):x!=null&&Y(r,g,x,w))}switch(l){case"input":Ar(r),tu(r,h,!1);break;case"textarea":Ar(r),_a(r);break;case"option":h.value!=null&&r.setAttribute("value",""+ze(h.value));break;case"select":r.multiple=!!h.multiple,g=h.value,g!=null?Pr(r,!!h.multiple,g,!1):h.defaultValue!=null&&Pr(r,!!h.multiple,h.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=xu)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Bt(s),null;case 6:if(r&&s.stateNode!=null)my(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(l=Is(Za.current),Is(fr.current),Mu(s)){if(h=s.stateNode,l=s.memoizedProps,h[dr]=s,(g=h.nodeValue!==l)&&(r=yn,r!==null))switch(r.tag){case 3:ku(h.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&ku(h.nodeValue,l,(r.mode&1)!==0)}g&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[dr]=s,s.stateNode=h}return Bt(s),null;case 13:if(tt(st),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(it&&vn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)vg(),ko(),s.flags|=98560,g=!1;else if(g=Mu(s),h!==null&&h.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[dr]=s}else ko(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Bt(s),g=!1}else Kn!==null&&(ef(Kn),Kn=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(st.current&1)!==0?Tt===0&&(Tt=3):rf())),s.updateQueue!==null&&(s.flags|=4),Bt(s),null);case 4:return Do(),$d(r,s),r===null&&qa(s.stateNode.containerInfo),Bt(s),null;case 10:return vd(s.type._context),Bt(s),null;case 17:return on(s.type)&&bu(),Bt(s),null;case 19:if(tt(st),g=s.memoizedState,g===null)return Bt(s),null;if(h=(s.flags&128)!==0,w=g.rendering,w===null)if(h)il(g,!1);else{if(Tt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(w=$u(r),w!==null){for(s.flags|=128,il(g,!1),h=w.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)g=l,r=h,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,r=w.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return Je(st,st.current&1|2),s.child}r=r.sibling}g.tail!==null&&Xe()>Mo&&(s.flags|=128,h=!0,il(g,!1),s.lanes=4194304)}else{if(!h)if(r=$u(w),r!==null){if(s.flags|=128,h=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),il(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!it)return Bt(s),null}else 2*Xe()-g.renderingStartTime>Mo&&l!==1073741824&&(s.flags|=128,h=!0,il(g,!1),s.lanes=4194304);g.isBackwards?(w.sibling=s.child,s.child=w):(l=g.last,l!==null?l.sibling=w:s.child=w,g.last=w)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Xe(),s.sibling=null,l=st.current,Je(st,h?l&1|2:l&1),s):(Bt(s),null);case 22:case 23:return nf(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(_n&1073741824)!==0&&(Bt(s),s.subtreeFlags&6&&(s.flags|=8192)):Bt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function II(r,s){switch(dd(s),s.tag){case 1:return on(s.type)&&bu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Do(),tt(sn),tt(jt),Rd(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return Id(s),null;case 13:if(tt(st),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));ko()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return tt(st),null;case 4:return Do(),null;case 10:return vd(s.type._context),null;case 22:case 23:return nf(),null;case 24:return null;default:return null}}var Ju=!1,$t=!1,SI=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Vo(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){lt(r,s,h)}else l.current=null}function Wd(r,s,l){try{l()}catch(h){lt(r,s,h)}}var gy=!1;function RI(r,s){if(rd=di,r=Gm(),Qh(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var f=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var w=0,R=-1,x=-1,$=0,Z=0,te=r,X=null;t:for(;;){for(var le;te!==l||f!==0&&te.nodeType!==3||(R=w+f),te!==g||h!==0&&te.nodeType!==3||(x=w+h),te.nodeType===3&&(w+=te.nodeValue.length),(le=te.firstChild)!==null;)X=te,te=le;for(;;){if(te===r)break t;if(X===l&&++$===f&&(R=w),X===g&&++Z===h&&(x=w),(le=te.nextSibling)!==null)break;te=X,X=te.parentNode}te=le}l=R===-1||x===-1?null:{start:R,end:x}}else l=null}l=l||{start:0,end:0}}else l=null;for(id={focusedElem:r,selectionRange:l},di=!1,fe=s;fe!==null;)if(s=fe,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,fe=r;else for(;fe!==null;){s=fe;try{var me=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var ye=me.memoizedProps,ct=me.memoizedState,z=s.stateNode,V=z.getSnapshotBeforeUpdate(s.elementType===s.type?ye:Gn(s.type,ye),ct);z.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var B=s.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(re){lt(s,s.return,re)}if(r=s.sibling,r!==null){r.return=s.return,fe=r;break}fe=s.return}return me=gy,gy=!1,me}function sl(r,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var f=h=h.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&Wd(s,l,g)}f=f.next}while(f!==h)}}function Zu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function Hd(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function yy(r){var s=r.alternate;s!==null&&(r.alternate=null,yy(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[dr],delete s[Ga],delete s[ld],delete s[aI],delete s[lI])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function vy(r){return r.tag===5||r.tag===3||r.tag===4}function _y(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||vy(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function qd(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=xu));else if(h!==4&&(r=r.child,r!==null))for(qd(r,s,l),r=r.sibling;r!==null;)qd(r,s,l),r=r.sibling}function Kd(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(Kd(r,s,l),r=r.sibling;r!==null;)Kd(r,s,l),r=r.sibling}var Ot=null,Qn=!1;function Ei(r,s,l){for(l=l.child;l!==null;)wy(r,s,l),l=l.sibling}function wy(r,s,l){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(hs,l)}catch{}switch(l.tag){case 5:$t||Vo(l,s);case 6:var h=Ot,f=Qn;Ot=null,Ei(r,s,l),Ot=h,Qn=f,Ot!==null&&(Qn?(r=Ot,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Ot.removeChild(l.stateNode));break;case 18:Ot!==null&&(Qn?(r=Ot,l=l.stateNode,r.nodeType===8?ad(r.parentNode,l):r.nodeType===1&&ad(r,l),Wn(r)):ad(Ot,l.stateNode));break;case 4:h=Ot,f=Qn,Ot=l.stateNode.containerInfo,Qn=!0,Ei(r,s,l),Ot=h,Qn=f;break;case 0:case 11:case 14:case 15:if(!$t&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){f=h=h.next;do{var g=f,w=g.destroy;g=g.tag,w!==void 0&&((g&2)!==0||(g&4)!==0)&&Wd(l,s,w),f=f.next}while(f!==h)}Ei(r,s,l);break;case 1:if(!$t&&(Vo(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(R){lt(l,s,R)}Ei(r,s,l);break;case 21:Ei(r,s,l);break;case 22:l.mode&1?($t=(h=$t)||l.memoizedState!==null,Ei(r,s,l),$t=h):Ei(r,s,l);break;default:Ei(r,s,l)}}function Ey(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new SI),s.forEach(function(h){var f=OI.bind(null,r,h);l.has(h)||(l.add(h),h.then(f,f))})}}function Yn(r,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var f=l[h];try{var g=r,w=s,R=w;e:for(;R!==null;){switch(R.tag){case 5:Ot=R.stateNode,Qn=!1;break e;case 3:Ot=R.stateNode.containerInfo,Qn=!0;break e;case 4:Ot=R.stateNode.containerInfo,Qn=!0;break e}R=R.return}if(Ot===null)throw Error(t(160));wy(g,w,f),Ot=null,Qn=!1;var x=f.alternate;x!==null&&(x.return=null),f.return=null}catch($){lt(f,s,$)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Ty(s,r),s=s.sibling}function Ty(r,s){var l=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Yn(s,r),mr(r),h&4){try{sl(3,r,r.return),Zu(3,r)}catch(ye){lt(r,r.return,ye)}try{sl(5,r,r.return)}catch(ye){lt(r,r.return,ye)}}break;case 1:Yn(s,r),mr(r),h&512&&l!==null&&Vo(l,l.return);break;case 5:if(Yn(s,r),mr(r),h&512&&l!==null&&Vo(l,l.return),r.flags&32){var f=r.stateNode;try{ii(f,"")}catch(ye){lt(r,r.return,ye)}}if(h&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,w=l!==null?l.memoizedProps:g,R=r.type,x=r.updateQueue;if(r.updateQueue=null,x!==null)try{R==="input"&&g.type==="radio"&&g.name!=null&&ga(f,g),Ra(R,w);var $=Ra(R,g);for(w=0;w<x.length;w+=2){var Z=x[w],te=x[w+1];Z==="style"?Ta(f,te):Z==="dangerouslySetInnerHTML"?wa(f,te):Z==="children"?ii(f,te):Y(f,Z,te,$)}switch(R){case"input":ya(f,g);break;case"textarea":Ys(f,g);break;case"select":var X=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var le=g.value;le!=null?Pr(f,!!g.multiple,le,!1):X!==!!g.multiple&&(g.defaultValue!=null?Pr(f,!!g.multiple,g.defaultValue,!0):Pr(f,!!g.multiple,g.multiple?[]:"",!1))}f[Ga]=g}catch(ye){lt(r,r.return,ye)}}break;case 6:if(Yn(s,r),mr(r),h&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(ye){lt(r,r.return,ye)}}break;case 3:if(Yn(s,r),mr(r),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Wn(s.containerInfo)}catch(ye){lt(r,r.return,ye)}break;case 4:Yn(s,r),mr(r);break;case 13:Yn(s,r),mr(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(Yd=Xe())),h&4&&Ey(r);break;case 22:if(Z=l!==null&&l.memoizedState!==null,r.mode&1?($t=($=$t)||Z,Yn(s,r),$t=$):Yn(s,r),mr(r),h&8192){if($=r.memoizedState!==null,(r.stateNode.isHidden=$)&&!Z&&(r.mode&1)!==0)for(fe=r,Z=r.child;Z!==null;){for(te=fe=Z;fe!==null;){switch(X=fe,le=X.child,X.tag){case 0:case 11:case 14:case 15:sl(4,X,X.return);break;case 1:Vo(X,X.return);var me=X.stateNode;if(typeof me.componentWillUnmount=="function"){h=X,l=X.return;try{s=h,me.props=s.memoizedProps,me.state=s.memoizedState,me.componentWillUnmount()}catch(ye){lt(h,l,ye)}}break;case 5:Vo(X,X.return);break;case 22:if(X.memoizedState!==null){Ry(te);continue}}le!==null?(le.return=X,fe=le):Ry(te)}Z=Z.sibling}e:for(Z=null,te=r;;){if(te.tag===5){if(Z===null){Z=te;try{f=te.stateNode,$?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(R=te.stateNode,x=te.memoizedProps.style,w=x!=null&&x.hasOwnProperty("display")?x.display:null,R.style.display=Ea("display",w))}catch(ye){lt(r,r.return,ye)}}}else if(te.tag===6){if(Z===null)try{te.stateNode.nodeValue=$?"":te.memoizedProps}catch(ye){lt(r,r.return,ye)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===r)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===r)break e;for(;te.sibling===null;){if(te.return===null||te.return===r)break e;Z===te&&(Z=null),te=te.return}Z===te&&(Z=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:Yn(s,r),mr(r),h&4&&Ey(r);break;case 21:break;default:Yn(s,r),mr(r)}}function mr(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(vy(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var f=h.stateNode;h.flags&32&&(ii(f,""),h.flags&=-33);var g=_y(r);Kd(r,g,f);break;case 3:case 4:var w=h.stateNode.containerInfo,R=_y(r);qd(r,R,w);break;default:throw Error(t(161))}}catch(x){lt(r,r.return,x)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function AI(r,s,l){fe=r,Iy(r)}function Iy(r,s,l){for(var h=(r.mode&1)!==0;fe!==null;){var f=fe,g=f.child;if(f.tag===22&&h){var w=f.memoizedState!==null||Ju;if(!w){var R=f.alternate,x=R!==null&&R.memoizedState!==null||$t;R=Ju;var $=$t;if(Ju=w,($t=x)&&!$)for(fe=f;fe!==null;)w=fe,x=w.child,w.tag===22&&w.memoizedState!==null?Ay(f):x!==null?(x.return=w,fe=x):Ay(f);for(;g!==null;)fe=g,Iy(g),g=g.sibling;fe=f,Ju=R,$t=$}Sy(r)}else(f.subtreeFlags&8772)!==0&&g!==null?(g.return=f,fe=g):Sy(r)}}function Sy(r){for(;fe!==null;){var s=fe;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:$t||Zu(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!$t)if(l===null)h.componentDidMount();else{var f=s.elementType===s.type?l.memoizedProps:Gn(s.type,l.memoizedProps);h.componentDidUpdate(f,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&Rg(s,g,h);break;case 3:var w=s.updateQueue;if(w!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Rg(s,w,l)}break;case 5:var R=s.stateNode;if(l===null&&s.flags&4){l=R;var x=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&l.focus();break;case"img":x.src&&(l.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var $=s.alternate;if($!==null){var Z=$.memoizedState;if(Z!==null){var te=Z.dehydrated;te!==null&&Wn(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}$t||s.flags&512&&Hd(s)}catch(X){lt(s,s.return,X)}}if(s===r){fe=null;break}if(l=s.sibling,l!==null){l.return=s.return,fe=l;break}fe=s.return}}function Ry(r){for(;fe!==null;){var s=fe;if(s===r){fe=null;break}var l=s.sibling;if(l!==null){l.return=s.return,fe=l;break}fe=s.return}}function Ay(r){for(;fe!==null;){var s=fe;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Zu(4,s)}catch(x){lt(s,l,x)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var f=s.return;try{h.componentDidMount()}catch(x){lt(s,f,x)}}var g=s.return;try{Hd(s)}catch(x){lt(s,g,x)}break;case 5:var w=s.return;try{Hd(s)}catch(x){lt(s,w,x)}}}catch(x){lt(s,s.return,x)}if(s===r){fe=null;break}var R=s.sibling;if(R!==null){R.return=s.return,fe=R;break}fe=s.return}}var CI=Math.ceil,ec=ne.ReactCurrentDispatcher,Gd=ne.ReactCurrentOwner,Nn=ne.ReactCurrentBatchConfig,He=0,Pt=null,pt=null,Vt=0,_n=0,Lo=gi(0),Tt=0,ol=null,Rs=0,tc=0,Qd=0,al=null,ln=null,Yd=0,Mo=1/0,$r=null,nc=!1,Xd=null,Ti=null,rc=!1,Ii=null,ic=0,ll=0,Jd=null,sc=-1,oc=0;function Jt(){return(He&6)!==0?Xe():sc!==-1?sc:sc=Xe()}function Si(r){return(r.mode&1)===0?1:(He&2)!==0&&Vt!==0?Vt&-Vt:cI.transition!==null?(oc===0&&(oc=fs()),oc):(r=Be,r!==0||(r=window.event,r=r===void 0?16:La(r.type)),r)}function Xn(r,s,l,h){if(50<ll)throw ll=0,Jd=null,Error(t(185));li(r,l,h),((He&2)===0||r!==Pt)&&(r===Pt&&((He&2)===0&&(tc|=l),Tt===4&&Ri(r,Vt)),un(r,h),l===1&&He===0&&(s.mode&1)===0&&(Mo=Xe()+500,Ou&&vi()))}function un(r,s){var l=r.callbackNode;Nr(r,s);var h=ds(r,r===Pt?Vt:0);if(h===0)l!==null&&Na(l),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(l!=null&&Na(l),s===1)r.tag===0?uI(Py.bind(null,r)):fg(Py.bind(null,r)),sI(function(){(He&6)===0&&vi()}),l=null;else{switch(ci(h)){case 1:l=cs;break;case 4:l=si;break;case 16:l=Sn;break;case 536870912:l=ou;break;default:l=Sn}l=Ly(l,Cy.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function Cy(r,s){if(sc=-1,oc=0,(He&6)!==0)throw Error(t(327));var l=r.callbackNode;if(Fo()&&r.callbackNode!==l)return null;var h=ds(r,r===Pt?Vt:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||s)s=ac(r,h);else{s=h;var f=He;He|=2;var g=xy();(Pt!==r||Vt!==s)&&($r=null,Mo=Xe()+500,Cs(r,s));do try{xI();break}catch(R){ky(r,R)}while(!0);yd(),ec.current=g,He=f,pt!==null?s=0:(Pt=null,Vt=0,s=Tt)}if(s!==0){if(s===2&&(f=pn(r),f!==0&&(h=f,s=Zd(r,f))),s===1)throw l=ol,Cs(r,0),Ri(r,h),un(r,Xe()),l;if(s===6)Ri(r,h);else{if(f=r.current.alternate,(h&30)===0&&!PI(f)&&(s=ac(r,h),s===2&&(g=pn(r),g!==0&&(h=g,s=Zd(r,g))),s===1))throw l=ol,Cs(r,0),Ri(r,h),un(r,Xe()),l;switch(r.finishedWork=f,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:Ps(r,ln,$r);break;case 3:if(Ri(r,h),(h&130023424)===h&&(s=Yd+500-Xe(),10<s)){if(ds(r,0)!==0)break;if(f=r.suspendedLanes,(f&h)!==h){Jt(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=od(Ps.bind(null,r,ln,$r),s);break}Ps(r,ln,$r);break;case 4:if(Ri(r,h),(h&4194240)===h)break;for(s=r.eventTimes,f=-1;0<h;){var w=31-Qt(h);g=1<<w,w=s[w],w>f&&(f=w),h&=~g}if(h=f,h=Xe()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*CI(h/1960))-h,10<h){r.timeoutHandle=od(Ps.bind(null,r,ln,$r),h);break}Ps(r,ln,$r);break;case 5:Ps(r,ln,$r);break;default:throw Error(t(329))}}}return un(r,Xe()),r.callbackNode===l?Cy.bind(null,r):null}function Zd(r,s){var l=al;return r.current.memoizedState.isDehydrated&&(Cs(r,s).flags|=256),r=ac(r,s),r!==2&&(s=ln,ln=l,s!==null&&ef(s)),r}function ef(r){ln===null?ln=r:ln.push.apply(ln,r)}function PI(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var f=l[h],g=f.getSnapshot;f=f.value;try{if(!qn(g(),f))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ri(r,s){for(s&=~Qd,s&=~tc,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-Qt(s),h=1<<l;r[l]=-1,s&=~h}}function Py(r){if((He&6)!==0)throw Error(t(327));Fo();var s=ds(r,0);if((s&1)===0)return un(r,Xe()),null;var l=ac(r,s);if(r.tag!==0&&l===2){var h=pn(r);h!==0&&(s=h,l=Zd(r,h))}if(l===1)throw l=ol,Cs(r,0),Ri(r,s),un(r,Xe()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Ps(r,ln,$r),un(r,Xe()),null}function tf(r,s){var l=He;He|=1;try{return r(s)}finally{He=l,He===0&&(Mo=Xe()+500,Ou&&vi())}}function As(r){Ii!==null&&Ii.tag===0&&(He&6)===0&&Fo();var s=He;He|=1;var l=Nn.transition,h=Be;try{if(Nn.transition=null,Be=1,r)return r()}finally{Be=h,Nn.transition=l,He=s,(He&6)===0&&vi()}}function nf(){_n=Lo.current,tt(Lo)}function Cs(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,iI(l)),pt!==null)for(l=pt.return;l!==null;){var h=l;switch(dd(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&bu();break;case 3:Do(),tt(sn),tt(jt),Rd();break;case 5:Id(h);break;case 4:Do();break;case 13:tt(st);break;case 19:tt(st);break;case 10:vd(h.type._context);break;case 22:case 23:nf()}l=l.return}if(Pt=r,pt=r=Ai(r.current,null),Vt=_n=s,Tt=0,ol=null,Qd=tc=Rs=0,ln=al=null,Ts!==null){for(s=0;s<Ts.length;s++)if(l=Ts[s],h=l.interleaved,h!==null){l.interleaved=null;var f=h.next,g=l.pending;if(g!==null){var w=g.next;g.next=f,h.next=w}l.pending=h}Ts=null}return r}function ky(r,s){do{var l=pt;try{if(yd(),Wu.current=Gu,Hu){for(var h=ot.memoizedState;h!==null;){var f=h.queue;f!==null&&(f.pending=null),h=h.next}Hu=!1}if(Ss=0,Ct=Et=ot=null,el=!1,tl=0,Gd.current=null,l===null||l.return===null){Tt=1,ol=s,pt=null;break}e:{var g=r,w=l.return,R=l,x=s;if(s=Vt,R.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var $=x,Z=R,te=Z.tag;if((Z.mode&1)===0&&(te===0||te===11||te===15)){var X=Z.alternate;X?(Z.updateQueue=X.updateQueue,Z.memoizedState=X.memoizedState,Z.lanes=X.lanes):(Z.updateQueue=null,Z.memoizedState=null)}var le=ey(w);if(le!==null){le.flags&=-257,ty(le,w,R,g,s),le.mode&1&&Zg(g,$,s),s=le,x=$;var me=s.updateQueue;if(me===null){var ye=new Set;ye.add(x),s.updateQueue=ye}else me.add(x);break e}else{if((s&1)===0){Zg(g,$,s),rf();break e}x=Error(t(426))}}else if(it&&R.mode&1){var ct=ey(w);if(ct!==null){(ct.flags&65536)===0&&(ct.flags|=256),ty(ct,w,R,g,s),md(Oo(x,R));break e}}g=x=Oo(x,R),Tt!==4&&(Tt=2),al===null?al=[g]:al.push(g),g=w;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var z=Xg(g,x,s);Sg(g,z);break e;case 1:R=x;var V=g.type,B=g.stateNode;if((g.flags&128)===0&&(typeof V.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(Ti===null||!Ti.has(B)))){g.flags|=65536,s&=-s,g.lanes|=s;var re=Jg(g,R,s);Sg(g,re);break e}}g=g.return}while(g!==null)}by(l)}catch(_e){s=_e,pt===l&&l!==null&&(pt=l=l.return);continue}break}while(!0)}function xy(){var r=ec.current;return ec.current=Gu,r===null?Gu:r}function rf(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),Pt===null||(Rs&268435455)===0&&(tc&268435455)===0||Ri(Pt,Vt)}function ac(r,s){var l=He;He|=2;var h=xy();(Pt!==r||Vt!==s)&&($r=null,Cs(r,s));do try{kI();break}catch(f){ky(r,f)}while(!0);if(yd(),He=l,ec.current=h,pt!==null)throw Error(t(261));return Pt=null,Vt=0,Tt}function kI(){for(;pt!==null;)Ny(pt)}function xI(){for(;pt!==null&&!iu();)Ny(pt)}function Ny(r){var s=Vy(r.alternate,r,_n);r.memoizedProps=r.pendingProps,s===null?by(r):pt=s,Gd.current=null}function by(r){var s=r;do{var l=s.alternate;if(r=s.return,(s.flags&32768)===0){if(l=TI(l,s,_n),l!==null){pt=l;return}}else{if(l=II(l,s),l!==null){l.flags&=32767,pt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Tt=6,pt=null;return}}if(s=s.sibling,s!==null){pt=s;return}pt=s=r}while(s!==null);Tt===0&&(Tt=5)}function Ps(r,s,l){var h=Be,f=Nn.transition;try{Nn.transition=null,Be=1,NI(r,s,l,h)}finally{Nn.transition=f,Be=h}return null}function NI(r,s,l,h){do Fo();while(Ii!==null);if((He&6)!==0)throw Error(t(327));l=r.finishedWork;var f=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=l.lanes|l.childLanes;if(Ye(r,g),r===Pt&&(pt=Pt=null,Vt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||rc||(rc=!0,Ly(Sn,function(){return Fo(),null})),g=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||g){g=Nn.transition,Nn.transition=null;var w=Be;Be=1;var R=He;He|=4,Gd.current=null,RI(r,l),Ty(l,r),X0(id),di=!!rd,id=rd=null,r.current=l,AI(l),zh(),He=R,Be=w,Nn.transition=g}else r.current=l;if(rc&&(rc=!1,Ii=r,ic=f),g=r.pendingLanes,g===0&&(Ti=null),au(l.stateNode),un(r,Xe()),s!==null)for(h=r.onRecoverableError,l=0;l<s.length;l++)f=s[l],h(f.value,{componentStack:f.stack,digest:f.digest});if(nc)throw nc=!1,r=Xd,Xd=null,r;return(ic&1)!==0&&r.tag!==0&&Fo(),g=r.pendingLanes,(g&1)!==0?r===Jd?ll++:(ll=0,Jd=r):ll=0,vi(),null}function Fo(){if(Ii!==null){var r=ci(ic),s=Nn.transition,l=Be;try{if(Nn.transition=null,Be=16>r?16:r,Ii===null)var h=!1;else{if(r=Ii,Ii=null,ic=0,(He&6)!==0)throw Error(t(331));var f=He;for(He|=4,fe=r.current;fe!==null;){var g=fe,w=g.child;if((fe.flags&16)!==0){var R=g.deletions;if(R!==null){for(var x=0;x<R.length;x++){var $=R[x];for(fe=$;fe!==null;){var Z=fe;switch(Z.tag){case 0:case 11:case 15:sl(8,Z,g)}var te=Z.child;if(te!==null)te.return=Z,fe=te;else for(;fe!==null;){Z=fe;var X=Z.sibling,le=Z.return;if(yy(Z),Z===$){fe=null;break}if(X!==null){X.return=le,fe=X;break}fe=le}}}var me=g.alternate;if(me!==null){var ye=me.child;if(ye!==null){me.child=null;do{var ct=ye.sibling;ye.sibling=null,ye=ct}while(ye!==null)}}fe=g}}if((g.subtreeFlags&2064)!==0&&w!==null)w.return=g,fe=w;else e:for(;fe!==null;){if(g=fe,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:sl(9,g,g.return)}var z=g.sibling;if(z!==null){z.return=g.return,fe=z;break e}fe=g.return}}var V=r.current;for(fe=V;fe!==null;){w=fe;var B=w.child;if((w.subtreeFlags&2064)!==0&&B!==null)B.return=w,fe=B;else e:for(w=V;fe!==null;){if(R=fe,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:Zu(9,R)}}catch(_e){lt(R,R.return,_e)}if(R===w){fe=null;break e}var re=R.sibling;if(re!==null){re.return=R.return,fe=re;break e}fe=R.return}}if(He=f,vi(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(hs,r)}catch{}h=!0}return h}finally{Be=l,Nn.transition=s}}return!1}function Dy(r,s,l){s=Oo(l,s),s=Xg(r,s,1),r=wi(r,s,1),s=Jt(),r!==null&&(li(r,1,s),un(r,s))}function lt(r,s,l){if(r.tag===3)Dy(r,r,l);else for(;s!==null;){if(s.tag===3){Dy(s,r,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ti===null||!Ti.has(h))){r=Oo(l,r),r=Jg(s,r,1),s=wi(s,r,1),r=Jt(),s!==null&&(li(s,1,r),un(s,r));break}}s=s.return}}function bI(r,s,l){var h=r.pingCache;h!==null&&h.delete(s),s=Jt(),r.pingedLanes|=r.suspendedLanes&l,Pt===r&&(Vt&l)===l&&(Tt===4||Tt===3&&(Vt&130023424)===Vt&&500>Xe()-Yd?Cs(r,0):Qd|=l),un(r,s)}function Oy(r,s){s===0&&((r.mode&1)===0?s=1:(s=oo,oo<<=1,(oo&130023424)===0&&(oo=4194304)));var l=Jt();r=jr(r,s),r!==null&&(li(r,s,l),un(r,l))}function DI(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),Oy(r,l)}function OI(r,s){var l=0;switch(r.tag){case 13:var h=r.stateNode,f=r.memoizedState;f!==null&&(l=f.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),Oy(r,l)}var Vy;Vy=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||sn.current)an=!0;else{if((r.lanes&l)===0&&(s.flags&128)===0)return an=!1,EI(r,s,l);an=(r.flags&131072)!==0}else an=!1,it&&(s.flags&1048576)!==0&&pg(s,Lu,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Xu(r,s),r=s.pendingProps;var f=Ao(s,jt.current);bo(s,l),f=Pd(null,s,h,r,f,l);var g=kd();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,on(h)?(g=!0,Du(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Ed(s),f.updater=Qu,s.stateNode=f,f._reactInternals=s,Vd(s,h,r,l),s=Fd(null,s,h,!0,g,l)):(s.tag=0,it&&g&&hd(s),Xt(null,s,f,l),s=s.child),s;case 16:h=s.elementType;e:{switch(Xu(r,s),r=s.pendingProps,f=h._init,h=f(h._payload),s.type=h,f=s.tag=LI(h),r=Gn(h,r),f){case 0:s=Md(null,s,h,r,l);break e;case 1:s=ay(null,s,h,r,l);break e;case 11:s=ny(null,s,h,r,l);break e;case 14:s=ry(null,s,h,Gn(h.type,r),l);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Gn(h,f),Md(r,s,h,f,l);case 1:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Gn(h,f),ay(r,s,h,f,l);case 3:e:{if(ly(s),r===null)throw Error(t(387));h=s.pendingProps,g=s.memoizedState,f=g.element,Ig(r,s),Bu(s,h,null,l);var w=s.memoizedState;if(h=w.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=Oo(Error(t(423)),s),s=uy(r,s,h,l,f);break e}else if(h!==f){f=Oo(Error(t(424)),s),s=uy(r,s,h,l,f);break e}else for(vn=mi(s.stateNode.containerInfo.firstChild),yn=s,it=!0,Kn=null,l=Eg(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ko(),h===f){s=Br(r,s,l);break e}Xt(r,s,h,l)}s=s.child}return s;case 5:return Ag(s),r===null&&pd(s),h=s.type,f=s.pendingProps,g=r!==null?r.memoizedProps:null,w=f.children,sd(h,f)?w=null:g!==null&&sd(h,g)&&(s.flags|=32),oy(r,s),Xt(r,s,w,l),s.child;case 6:return r===null&&pd(s),null;case 13:return cy(r,s,l);case 4:return Td(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=xo(s,null,h,l):Xt(r,s,h,l),s.child;case 11:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Gn(h,f),ny(r,s,h,f,l);case 7:return Xt(r,s,s.pendingProps,l),s.child;case 8:return Xt(r,s,s.pendingProps.children,l),s.child;case 12:return Xt(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,f=s.pendingProps,g=s.memoizedProps,w=f.value,Je(Uu,h._currentValue),h._currentValue=w,g!==null)if(qn(g.value,w)){if(g.children===f.children&&!sn.current){s=Br(r,s,l);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var R=g.dependencies;if(R!==null){w=g.child;for(var x=R.firstContext;x!==null;){if(x.context===h){if(g.tag===1){x=zr(-1,l&-l),x.tag=2;var $=g.updateQueue;if($!==null){$=$.shared;var Z=$.pending;Z===null?x.next=x:(x.next=Z.next,Z.next=x),$.pending=x}}g.lanes|=l,x=g.alternate,x!==null&&(x.lanes|=l),_d(g.return,l,s),R.lanes|=l;break}x=x.next}}else if(g.tag===10)w=g.type===s.type?null:g.child;else if(g.tag===18){if(w=g.return,w===null)throw Error(t(341));w.lanes|=l,R=w.alternate,R!==null&&(R.lanes|=l),_d(w,l,s),w=g.sibling}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===s){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}Xt(r,s,f.children,l),s=s.child}return s;case 9:return f=s.type,h=s.pendingProps.children,bo(s,l),f=kn(f),h=h(f),s.flags|=1,Xt(r,s,h,l),s.child;case 14:return h=s.type,f=Gn(h,s.pendingProps),f=Gn(h.type,f),ry(r,s,h,f,l);case 15:return iy(r,s,s.type,s.pendingProps,l);case 17:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Gn(h,f),Xu(r,s),s.tag=1,on(h)?(r=!0,Du(s)):r=!1,bo(s,l),Qg(s,h,f),Vd(s,h,f,l),Fd(null,s,h,!0,r,l);case 19:return dy(r,s,l);case 22:return sy(r,s,l)}throw Error(t(156,s.tag))};function Ly(r,s){return io(r,s)}function VI(r,s,l,h){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(r,s,l,h){return new VI(r,s,l,h)}function sf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function LI(r){if(typeof r=="function")return sf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===U)return 11;if(r===Ve)return 14}return 2}function Ai(r,s){var l=r.alternate;return l===null?(l=bn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function lc(r,s,l,h,f,g){var w=2;if(h=r,typeof r=="function")sf(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case k:return ks(l.children,f,g,s);case S:w=8,f|=8;break;case C:return r=bn(12,l,s,f|2),r.elementType=C,r.lanes=g,r;case A:return r=bn(13,l,s,f),r.elementType=A,r.lanes=g,r;case oe:return r=bn(19,l,s,f),r.elementType=oe,r.lanes=g,r;case ke:return uc(l,f,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case b:w=10;break e;case O:w=9;break e;case U:w=11;break e;case Ve:w=14;break e;case je:w=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=bn(w,l,s,f),s.elementType=r,s.type=h,s.lanes=g,s}function ks(r,s,l,h){return r=bn(7,r,h,s),r.lanes=l,r}function uc(r,s,l,h){return r=bn(22,r,h,s),r.elementType=ke,r.lanes=l,r.stateNode={isHidden:!1},r}function of(r,s,l){return r=bn(6,r,null,s),r.lanes=l,r}function af(r,s,l){return s=bn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function MI(r,s,l,h,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ai(0),this.expirationTimes=ai(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.identifierPrefix=h,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function lf(r,s,l,h,f,g,w,R,x){return r=new MI(r,s,l,R,x),s===1?(s=1,g===!0&&(s|=8)):s=0,g=bn(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ed(g),r}function FI(r,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ae,key:h==null?null:""+h,children:r,containerInfo:s,implementation:l}}function My(r){if(!r)return yi;r=r._reactInternals;e:{if(Un(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(on(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(on(l))return hg(r,l,s)}return s}function Fy(r,s,l,h,f,g,w,R,x){return r=lf(l,h,!0,r,f,g,w,R,x),r.context=My(null),l=r.current,h=Jt(),f=Si(l),g=zr(h,f),g.callback=s??null,wi(l,g,f),r.current.lanes=f,li(r,f,h),un(r,h),r}function cc(r,s,l,h){var f=s.current,g=Jt(),w=Si(f);return l=My(l),s.context===null?s.context=l:s.pendingContext=l,s=zr(g,w),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=wi(f,s,w),r!==null&&(Xn(r,f,w,g),zu(r,f,w)),w}function hc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Uy(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function uf(r,s){Uy(r,s),(r=r.alternate)&&Uy(r,s)}function UI(){return null}var jy=typeof reportError=="function"?reportError:function(r){};function cf(r){this._internalRoot=r}dc.prototype.render=cf.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));cc(r,s,null,null)},dc.prototype.unmount=cf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;As(function(){cc(null,r,null,null)}),s[Lr]=null}};function dc(r){this._internalRoot=r}dc.prototype.unstable_scheduleHydration=function(r){if(r){var s=du();r={blockedOn:null,target:r,priority:s};for(var l=0;l<lr.length&&s!==0&&s<lr[l].priority;l++);lr.splice(l,0,r),l===0&&mu(r)}};function hf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function fc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function zy(){}function jI(r,s,l,h,f){if(f){if(typeof h=="function"){var g=h;h=function(){var $=hc(w);g.call($)}}var w=Fy(s,h,r,0,null,!1,!1,"",zy);return r._reactRootContainer=w,r[Lr]=w.current,qa(r.nodeType===8?r.parentNode:r),As(),w}for(;f=r.lastChild;)r.removeChild(f);if(typeof h=="function"){var R=h;h=function(){var $=hc(x);R.call($)}}var x=lf(r,0,!1,null,null,!1,!1,"",zy);return r._reactRootContainer=x,r[Lr]=x.current,qa(r.nodeType===8?r.parentNode:r),As(function(){cc(s,x,l,h)}),x}function pc(r,s,l,h,f){var g=l._reactRootContainer;if(g){var w=g;if(typeof f=="function"){var R=f;f=function(){var x=hc(w);R.call(x)}}cc(s,w,r,f)}else w=jI(l,s,r,f,h);return hc(w)}cu=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=oi(s.pendingLanes);l!==0&&(ui(s,l|1),un(s,Xe()),(He&6)===0&&(Mo=Xe()+500,vi()))}break;case 13:As(function(){var h=jr(r,1);if(h!==null){var f=Jt();Xn(h,r,1,f)}}),uf(r,1)}},ao=function(r){if(r.tag===13){var s=jr(r,134217728);if(s!==null){var l=Jt();Xn(s,r,134217728,l)}uf(r,134217728)}},hu=function(r){if(r.tag===13){var s=Si(r),l=jr(r,s);if(l!==null){var h=Jt();Xn(l,r,s,h)}uf(r,s)}},du=function(){return Be},fu=function(r,s){var l=Be;try{return Be=r,s()}finally{Be=l}},Js=function(r,s,l){switch(s){case"input":if(ya(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==r&&h.form===r.form){var f=Nu(h);if(!f)throw Error(t(90));qs(h),ya(h,f)}}}break;case"textarea":Ys(r,l);break;case"select":s=l.value,s!=null&&Pr(r,!!l.multiple,s,!1)}},os=tf,Ca=As;var zI={usingClientEntryPoint:!1,Events:[Qa,So,Nu,or,Aa,tf]},ul={findFiberByHostInstance:vs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BI={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ne.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=xa(r),r===null?null:r.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||UI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mc.isDisabled&&mc.supportsFiber)try{hs=mc.inject(BI),fn=mc}catch{}}return cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zI,cn.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hf(s))throw Error(t(200));return FI(r,s,null,l)},cn.createRoot=function(r,s){if(!hf(r))throw Error(t(299));var l=!1,h="",f=jy;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=lf(r,1,!1,null,null,l,!1,h,f),r[Lr]=s.current,qa(r.nodeType===8?r.parentNode:r),new cf(s)},cn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=xa(s),r=r===null?null:r.stateNode,r},cn.flushSync=function(r){return As(r)},cn.hydrate=function(r,s,l){if(!fc(s))throw Error(t(200));return pc(null,r,s,!0,l)},cn.hydrateRoot=function(r,s,l){if(!hf(r))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,f=!1,g="",w=jy;if(l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(w=l.onRecoverableError)),s=Fy(s,null,r,1,l??null,f,!1,g,w),r[Lr]=s.current,qa(r),h)for(r=0;r<h.length;r++)l=h[r],f=l._getVersion,f=f(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,f]:s.mutableSourceEagerHydrationData.push(l,f);return new dc(s)},cn.render=function(r,s,l){if(!fc(s))throw Error(t(200));return pc(null,r,s,!1,l)},cn.unmountComponentAtNode=function(r){if(!fc(r))throw Error(t(40));return r._reactRootContainer?(As(function(){pc(null,null,r,!1,function(){r._reactRootContainer=null,r[Lr]=null})}),!0):!1},cn.unstable_batchedUpdates=tf,cn.unstable_renderSubtreeIntoContainer=function(r,s,l,h){if(!fc(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return pc(r,s,l,!1,h)},cn.version="18.3.1-next-f1338f8080-20240426",cn}var Yy;function ow(){if(Yy)return pf.exports;Yy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch{}}return n(),pf.exports=ZI(),pf.exports}var Xy;function eS(){if(Xy)return gc;Xy=1;var n=ow();return gc.createRoot=n.createRoot,gc.hydrateRoot=n.hydrateRoot,gc}var tS=eS();const nS=Ip(tS);var Rp=ow();const rS=Ip(Rp);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Al(){return Al=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Al.apply(this,arguments)}var Vi;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Vi||(Vi={}));const Jy="popstate";function iS(n){n===void 0&&(n={});function e(i,o){let{pathname:a,search:c,hash:d}=i.location;return Lf("",{pathname:a,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:Bc(o)}return oS(e,t,null,n)}function yt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function aw(n,e){if(!n)try{throw new Error(e)}catch{}}function sS(){return Math.random().toString(36).substr(2,8)}function Zy(n,e){return{usr:n.state,key:n.key,idx:e}}function Lf(n,e,t,i){return t===void 0&&(t=null),Al({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?sa(e):e,{state:t,key:e&&e.key||i||sS()})}function Bc(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function sa(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function oS(n,e,t,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:a=!1}=i,c=o.history,d=Vi.Pop,p=null,y=_();y==null&&(y=0,c.replaceState(Al({},c.state,{idx:y}),""));function _(){return(c.state||{idx:null}).idx}function E(){d=Vi.Pop;let P=_(),J=P==null?null:P-y;y=P,p&&p({action:d,location:M.location,delta:J})}function I(P,J){d=Vi.Push;let Q=Lf(M.location,P,J);y=_()+1;let Y=Zy(Q,y),ne=M.createHref(Q);try{c.pushState(Y,"",ne)}catch(ve){if(ve instanceof DOMException&&ve.name==="DataCloneError")throw ve;o.location.assign(ne)}a&&p&&p({action:d,location:M.location,delta:1})}function D(P,J){d=Vi.Replace;let Q=Lf(M.location,P,J);y=_();let Y=Zy(Q,y),ne=M.createHref(Q);c.replaceState(Y,"",ne),a&&p&&p({action:d,location:M.location,delta:0})}function F(P){let J=o.location.origin!=="null"?o.location.origin:o.location.href,Q=typeof P=="string"?P:Bc(P);return Q=Q.replace(/ $/,"%20"),yt(J,"No window.location.(origin|href) available to create URL for href: "+Q),new URL(Q,J)}let M={get action(){return d},get location(){return n(o,c)},listen(P){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Jy,E),p=P,()=>{o.removeEventListener(Jy,E),p=null}},createHref(P){return e(o,P)},createURL:F,encodeLocation(P){let J=F(P);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:I,replace:D,go(P){return c.go(P)}};return M}var ev;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(ev||(ev={}));function aS(n,e,t){return t===void 0&&(t="/"),lS(n,e,t)}function lS(n,e,t,i){let o=typeof e=="string"?sa(e):e,a=Ap(o.pathname||"/",t);if(a==null)return null;let c=lw(n);uS(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let y=ES(a);d=vS(c[p],y)}return d}function lw(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let o=(a,c,d)=>{let p={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};p.relativePath.startsWith("/")&&(yt(p.relativePath.startsWith(i),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(i.length));let y=Mi([i,p.relativePath]),_=t.concat(p);a.children&&a.children.length>0&&(yt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),lw(a.children,e,_,y)),!(a.path==null&&!a.index)&&e.push({path:y,score:gS(y,a.index),routesMeta:_})};return n.forEach((a,c)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))o(a,c);else for(let p of uw(a.path))o(a,c,p)}),e}function uw(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let c=uw(i.join("/")),d=[];return d.push(...c.map(p=>p===""?a:[a,p].join("/"))),o&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function uS(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:yS(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const cS=/^:[\w-]+$/,hS=3,dS=2,fS=1,pS=10,mS=-2,tv=n=>n==="*";function gS(n,e){let t=n.split("/"),i=t.length;return t.some(tv)&&(i+=mS),e&&(i+=dS),t.filter(o=>!tv(o)).reduce((o,a)=>o+(cS.test(a)?hS:a===""?fS:pS),i)}function yS(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function vS(n,e,t){let{routesMeta:i}=n,o={},a="/",c=[];for(let d=0;d<i.length;++d){let p=i[d],y=d===i.length-1,_=a==="/"?e:e.slice(a.length)||"/",E=_S({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},_),I=p.route;if(!E)return null;Object.assign(o,E.params),c.push({params:o,pathname:Mi([a,E.pathname]),pathnameBase:RS(Mi([a,E.pathnameBase])),route:I}),E.pathnameBase!=="/"&&(a=Mi([a,E.pathnameBase]))}return c}function _S(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=wS(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((y,_,E)=>{let{paramName:I,isOptional:D}=_;if(I==="*"){let M=d[E]||"";c=a.slice(0,a.length-M.length).replace(/(.)\/+$/,"$1")}const F=d[E];return D&&!F?y[I]=void 0:y[I]=(F||"").replace(/%2F/g,"/"),y},{}),pathname:a,pathnameBase:c,pattern:n}}function wS(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),aw(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function ES(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return aw(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Ap(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function TS(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?sa(n):n;return{pathname:t?t.startsWith("/")?t:IS(t,e):e,search:AS(i),hash:CS(o)}}function IS(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function yf(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function SS(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function cw(n,e){let t=SS(n);return e?t.map((i,o)=>o===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function hw(n,e,t,i){i===void 0&&(i=!1);let o;typeof n=="string"?o=sa(n):(o=Al({},n),yt(!o.pathname||!o.pathname.includes("?"),yf("?","pathname","search",o)),yt(!o.pathname||!o.pathname.includes("#"),yf("#","pathname","hash",o)),yt(!o.search||!o.search.includes("#"),yf("#","search","hash",o)));let a=n===""||o.pathname==="",c=a?"/":o.pathname,d;if(c==null)d=t;else{let E=e.length-1;if(!i&&c.startsWith("..")){let I=c.split("/");for(;I[0]==="..";)I.shift(),E-=1;o.pathname=I.join("/")}d=E>=0?e[E]:"/"}let p=TS(o,d),y=c&&c!=="/"&&c.endsWith("/"),_=(a||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||_)&&(p.pathname+="/"),p}const Mi=n=>n.join("/").replace(/\/\/+/g,"/"),RS=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),AS=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,CS=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function PS(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const dw=["post","put","patch","delete"];new Set(dw);const kS=["get",...dw];new Set(kS);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cl(){return Cl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Cl.apply(this,arguments)}const Cp=N.createContext(null),xS=N.createContext(null),zs=N.createContext(null),hh=N.createContext(null),Qi=N.createContext({outlet:null,matches:[],isDataRoute:!1}),fw=N.createContext(null);function NS(n,e){let{relative:t}=e===void 0?{}:e;Ml()||yt(!1);let{basename:i,navigator:o}=N.useContext(zs),{hash:a,pathname:c,search:d}=mw(n,{relative:t}),p=c;return i!=="/"&&(p=c==="/"?i:Mi([i,c])),o.createHref({pathname:p,search:d,hash:a})}function Ml(){return N.useContext(hh)!=null}function dh(){return Ml()||yt(!1),N.useContext(hh).location}function pw(n){N.useContext(zs).static||N.useLayoutEffect(n)}function bS(){let{isDataRoute:n}=N.useContext(Qi);return n?HS():DS()}function DS(){Ml()||yt(!1);let n=N.useContext(Cp),{basename:e,future:t,navigator:i}=N.useContext(zs),{matches:o}=N.useContext(Qi),{pathname:a}=dh(),c=JSON.stringify(cw(o,t.v7_relativeSplatPath)),d=N.useRef(!1);return pw(()=>{d.current=!0}),N.useCallback(function(y,_){if(_===void 0&&(_={}),!d.current)return;if(typeof y=="number"){i.go(y);return}let E=hw(y,JSON.parse(c),a,_.relative==="path");n==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Mi([e,E.pathname])),(_.replace?i.replace:i.push)(E,_.state,_)},[e,i,c,a,n])}function mO(){let{matches:n}=N.useContext(Qi),e=n[n.length-1];return e?e.params:{}}function mw(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=N.useContext(zs),{matches:o}=N.useContext(Qi),{pathname:a}=dh(),c=JSON.stringify(cw(o,i.v7_relativeSplatPath));return N.useMemo(()=>hw(n,JSON.parse(c),a,t==="path"),[n,c,a,t])}function OS(n,e){return VS(n,e)}function VS(n,e,t,i){Ml()||yt(!1);let{navigator:o}=N.useContext(zs),{matches:a}=N.useContext(Qi),c=a[a.length-1],d=c?c.params:{};c&&c.pathname;let p=c?c.pathnameBase:"/";c&&c.route;let y=dh(),_;if(e){var E;let P=typeof e=="string"?sa(e):e;p==="/"||(E=P.pathname)!=null&&E.startsWith(p)||yt(!1),_=P}else _=y;let I=_.pathname||"/",D=I;if(p!=="/"){let P=p.replace(/^\//,"").split("/");D="/"+I.replace(/^\//,"").split("/").slice(P.length).join("/")}let F=aS(n,{pathname:D}),M=jS(F&&F.map(P=>Object.assign({},P,{params:Object.assign({},d,P.params),pathname:Mi([p,o.encodeLocation?o.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?p:Mi([p,o.encodeLocation?o.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),a,t,i);return e&&M?N.createElement(hh.Provider,{value:{location:Cl({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:Vi.Pop}},M):M}function LS(){let n=WS(),e=PS(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),t?N.createElement("pre",{style:o},t):null,null)}const MS=N.createElement(LS,null);class FS extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){}render(){return this.state.error!==void 0?N.createElement(Qi.Provider,{value:this.props.routeContext},N.createElement(fw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function US(n){let{routeContext:e,match:t,children:i}=n,o=N.useContext(Cp);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(Qi.Provider,{value:e},i)}function jS(n,e,t,i){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=i)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let c=n,d=(o=t)==null?void 0:o.errors;if(d!=null){let _=c.findIndex(E=>E.route.id&&d?.[E.route.id]!==void 0);_>=0||yt(!1),c=c.slice(0,Math.min(c.length,_+1))}let p=!1,y=-1;if(t&&i&&i.v7_partialHydration)for(let _=0;_<c.length;_++){let E=c[_];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(y=_),E.route.id){let{loaderData:I,errors:D}=t,F=E.route.loader&&I[E.route.id]===void 0&&(!D||D[E.route.id]===void 0);if(E.route.lazy||F){p=!0,y>=0?c=c.slice(0,y+1):c=[c[0]];break}}}return c.reduceRight((_,E,I)=>{let D,F=!1,M=null,P=null;t&&(D=d&&E.route.id?d[E.route.id]:void 0,M=E.route.errorElement||MS,p&&(y<0&&I===0?(qS("route-fallback"),F=!0,P=null):y===I&&(F=!0,P=E.route.hydrateFallbackElement||null)));let J=e.concat(c.slice(0,I+1)),Q=()=>{let Y;return D?Y=M:F?Y=P:E.route.Component?Y=N.createElement(E.route.Component,null):E.route.element?Y=E.route.element:Y=_,N.createElement(US,{match:E,routeContext:{outlet:_,matches:J,isDataRoute:t!=null},children:Y})};return t&&(E.route.ErrorBoundary||E.route.errorElement||I===0)?N.createElement(FS,{location:t.location,revalidation:t.revalidation,component:M,error:D,children:Q(),routeContext:{outlet:null,matches:J,isDataRoute:!0}}):Q()},null)}var gw=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(gw||{}),yw=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(yw||{});function zS(n){let e=N.useContext(Cp);return e||yt(!1),e}function BS(n){let e=N.useContext(xS);return e||yt(!1),e}function $S(n){let e=N.useContext(Qi);return e||yt(!1),e}function vw(n){let e=$S(),t=e.matches[e.matches.length-1];return t.route.id||yt(!1),t.route.id}function WS(){var n;let e=N.useContext(fw),t=BS(),i=vw();return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function HS(){let{router:n}=zS(gw.UseNavigateStable),e=vw(yw.UseNavigateStable),t=N.useRef(!1);return pw(()=>{t.current=!0}),N.useCallback(function(o,a){a===void 0&&(a={}),t.current&&(typeof o=="number"?n.navigate(o):n.navigate(o,Cl({fromRouteId:e},a)))},[n,e])}const nv={};function qS(n,e,t){nv[n]||(nv[n]=!0)}function KS(n,e){n?.v7_startTransition,n?.v7_relativeSplatPath}function Dn(n){yt(!1)}function GS(n){let{basename:e="/",children:t=null,location:i,navigationType:o=Vi.Pop,navigator:a,static:c=!1,future:d}=n;Ml()&&yt(!1);let p=e.replace(/^\/*/,"/"),y=N.useMemo(()=>({basename:p,navigator:a,static:c,future:Cl({v7_relativeSplatPath:!1},d)}),[p,d,a,c]);typeof i=="string"&&(i=sa(i));let{pathname:_="/",search:E="",hash:I="",state:D=null,key:F="default"}=i,M=N.useMemo(()=>{let P=Ap(_,p);return P==null?null:{location:{pathname:P,search:E,hash:I,state:D,key:F},navigationType:o}},[p,_,E,I,D,F,o]);return M==null?null:N.createElement(zs.Provider,{value:y},N.createElement(hh.Provider,{children:t,value:M}))}function QS(n){let{children:e,location:t}=n;return OS(Mf(e),t)}new Promise(()=>{});function Mf(n,e){e===void 0&&(e=[]);let t=[];return N.Children.forEach(n,(i,o)=>{if(!N.isValidElement(i))return;let a=[...e,o];if(i.type===N.Fragment){t.push.apply(t,Mf(i.props.children,a));return}i.type!==Dn&&yt(!1),!i.props.index||!i.props.children||yt(!1);let c={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Mf(i.props.children,a)),t.push(c)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ff(){return Ff=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ff.apply(this,arguments)}function YS(n,e){if(n==null)return{};var t={},i=Object.keys(n),o,a;for(a=0;a<i.length;a++)o=i[a],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function XS(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function JS(n,e){return n.button===0&&(!e||e==="_self")&&!XS(n)}const ZS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],eR="6";try{window.__reactRouterVersion=eR}catch{}const tR="startTransition",rv=YI[tR];function nR(n){let{basename:e,children:t,future:i,window:o}=n,a=N.useRef();a.current==null&&(a.current=iS({window:o,v5Compat:!0}));let c=a.current,[d,p]=N.useState({action:c.action,location:c.location}),{v7_startTransition:y}=i||{},_=N.useCallback(E=>{y&&rv?rv(()=>p(E)):p(E)},[p,y]);return N.useLayoutEffect(()=>c.listen(_),[c,_]),N.useEffect(()=>KS(i),[i]),N.createElement(GS,{basename:e,children:t,location:d.location,navigationType:d.action,navigator:c,future:i})}const rR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gO=N.forwardRef(function(e,t){let{onClick:i,relative:o,reloadDocument:a,replace:c,state:d,target:p,to:y,preventScrollReset:_,viewTransition:E}=e,I=YS(e,ZS),{basename:D}=N.useContext(zs),F,M=!1;if(typeof y=="string"&&iR.test(y)&&(F=y,rR))try{let Y=new URL(window.location.href),ne=y.startsWith("//")?new URL(Y.protocol+y):new URL(y),ve=Ap(ne.pathname,D);ne.origin===Y.origin&&ve!=null?y=ve+ne.search+ne.hash:M=!0}catch{}let P=NS(y,{relative:o}),J=sR(y,{replace:c,state:d,target:p,preventScrollReset:_,relative:o,viewTransition:E});function Q(Y){i&&i(Y),Y.defaultPrevented||J(Y)}return N.createElement("a",Ff({},I,{href:F||P,onClick:M||a?i:Q,ref:t,target:p}))});var iv;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(iv||(iv={}));var sv;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(sv||(sv={}));function sR(n,e){let{target:t,replace:i,state:o,preventScrollReset:a,relative:c,viewTransition:d}=e===void 0?{}:e,p=bS(),y=dh(),_=mw(n,{relative:c});return N.useCallback(E=>{if(JS(E,t)){E.preventDefault();let I=i!==void 0?i:Bc(y)===Bc(_);p(n,{replace:I,state:o,preventScrollReset:a,relative:c,viewTransition:d})}},[y,p,_,i,o,t,n,a,c,d])}const oR=()=>{};var ov={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},aR=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],c=n[t++],d=n[t++],p=((o&7)<<18|(a&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const a=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},ww={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const a=n[o],c=o+1<n.length,d=c?n[o+1]:0,p=o+2<n.length,y=p?n[o+2]:0,_=a>>2,E=(a&3)<<4|d>>4;let I=(d&15)<<2|y>>6,D=y&63;p||(D=64,c||(I=64)),i.push(t[_],t[E],t[I],t[D])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(_w(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):aR(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const E=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||d==null||y==null||E==null)throw new lR;const I=a<<2|d>>4;if(i.push(I),y!==64){const D=d<<4&240|y>>2;if(i.push(D),E!==64){const F=y<<6&192|E;i.push(F)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class lR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uR=function(n){const e=_w(n);return ww.encodeByteArray(e,!0)},$c=function(n){return uR(n).replace(/\./g,"")},Ew=function(n){try{return ww.decodeString(n,!0)}catch{}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR=()=>cR().__FIREBASE_DEFAULTS__,dR=()=>{if(typeof process>"u"||typeof ov>"u")return;const n=ov.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},fR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Ew(n[1]);return e&&JSON.parse(e)},fh=()=>{try{return oR()||hR()||dR()||fR()}catch{return}},Tw=n=>{var e,t;return(t=(e=fh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Pp=n=>{const e=Tw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Iw=()=>{var n;return(n=fh())===null||n===void 0?void 0:n.config},Sw=n=>{var e;return(e=fh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(n){return n.endsWith(".cloudworkstations.dev")}async function ph(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[$c(JSON.stringify(t)),$c(JSON.stringify(c)),""].join(".")}const vl={};function mR(){const n={prod:[],emulator:[]};for(const e of Object.keys(vl))vl[e]?n.emulator.push(e):n.prod.push(e);return n}function gR(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let av=!1;function mh(n,e){if(typeof window>"u"||typeof document>"u"||!Yi(window.location.host)||vl[n]===e||vl[n]||av)return;vl[n]=e;function t(I){return`__firebase__banner__${I}`}const i="__firebase__banner",a=mR().prod.length>0;function c(){const I=document.getElementById(i);I&&I.remove()}function d(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function p(I,D){I.setAttribute("width","24"),I.setAttribute("id",D),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function y(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{av=!0,c()},I}function _(I,D){I.setAttribute("id",D),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function E(){const I=gR(i),D=t("text"),F=document.getElementById(D)||document.createElement("span"),M=t("learnmore"),P=document.getElementById(M)||document.createElement("a"),J=t("preprendIcon"),Q=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const Y=I.element;d(Y),_(P,M);const ne=y();p(Q,J),Y.append(Q,F,P,ne),document.body.appendChild(Y)}a?(F.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function vR(){var n;const e=(n=fh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(globalThis.process)==="[object process]"}catch{return!1}}function _R(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function ER(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TR(){const n=Gt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function IR(){return!vR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SR(){try{return typeof indexedDB=="object"}catch{return!1}}function RR(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR="FirebaseError";class Ir extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=AR,Object.setPrototypeOf(this,Ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fl.prototype.create)}}class Fl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?CR(a,i):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new Ir(o,d,i)}}function CR(n,e){return n.replace(PR,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const PR=/\{\$([^}]+)}/g;function kR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Qr(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const a=n[o],c=e[o];if(lv(a)&&lv(c)){if(!Qr(a,c))return!1}else if(a!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function lv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function hl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,a]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function dl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function xR(n,e){const t=new NR(n,e);return t.subscribe.bind(t)}class NR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");bR(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=vf),o.error===void 0&&(o.error=vf),o.complete===void 0&&(o.complete=vf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch{}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bR(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function vf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(n){return n&&n._delegate?n._delegate:n}class Yr{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DR=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new pR;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e?.identifier),o=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VR(e))try{this.getOrInitializeService({instanceIdentifier:Ds})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=Ds){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ds){return this.instances.has(e)}getOptions(e=Ds){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);i===d&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const c=this.instances.get(o);return c&&e(c,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:OR(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ds){return this.component?this.component.multipleInstances?e:Ds:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function OR(n){return n===Ds?void 0:n}function VR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new DR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Fe||(Fe={}));const MR={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},FR=Fe.INFO,UR={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},jR=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=UR[e];if(!o)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kp{constructor(e){this.name=e,this._logLevel=FR,this._logHandler=jR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const zR=(n,e)=>e.some(t=>n instanceof t);let uv,cv;function BR(){return uv||(uv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $R(){return cv||(cv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Aw=new WeakMap,Uf=new WeakMap,Cw=new WeakMap,_f=new WeakMap,xp=new WeakMap;function WR(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t(Fi(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Aw.set(t,n)}).catch(()=>{}),xp.set(e,n),e}function HR(n){if(Uf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});Uf.set(n,e)}let jf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Uf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Cw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Fi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function qR(n){jf=n(jf)}function KR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(wf(this),e,...t);return Cw.set(i,e.sort?e.sort():[e]),Fi(i)}:$R().includes(n)?function(...e){return n.apply(wf(this),e),Fi(Aw.get(this))}:function(...e){return Fi(n.apply(wf(this),e))}}function GR(n){return typeof n=="function"?KR(n):(n instanceof IDBTransaction&&HR(n),zR(n,BR())?new Proxy(n,jf):n)}function Fi(n){if(n instanceof IDBRequest)return WR(n);if(_f.has(n))return _f.get(n);const e=GR(n);return e!==n&&(_f.set(n,e),xp.set(e,n)),e}const wf=n=>xp.get(n);function QR(n,e,{blocked:t,upgrade:i,blocking:o,terminated:a}={}){const c=indexedDB.open(n,e),d=Fi(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Fi(c.result),p.oldVersion,p.newVersion,Fi(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{a&&p.addEventListener("close",()=>a()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const YR=["get","getKey","getAll","getAllKeys","count"],XR=["put","add","delete","clear"],Ef=new Map;function hv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ef.get(e))return Ef.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=XR.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||YR.includes(t)))return;const a=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(d.shift())),(await Promise.all([y[t](...d),o&&p.done]))[0]};return Ef.set(e,a),a}qR(n=>({...n,get:(e,t,i)=>hv(e,t)||n.get(e,t,i),has:(e,t)=>!!hv(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(ZR(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function ZR(n){const e=n.getComponent();return e?.type==="VERSION"}const zf="@firebase/app",dv="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr=new kp("@firebase/app"),eA="@firebase/app-compat",tA="@firebase/analytics-compat",nA="@firebase/analytics",rA="@firebase/app-check-compat",iA="@firebase/app-check",sA="@firebase/auth",oA="@firebase/auth-compat",aA="@firebase/database",lA="@firebase/data-connect",uA="@firebase/database-compat",cA="@firebase/functions",hA="@firebase/functions-compat",dA="@firebase/installations",fA="@firebase/installations-compat",pA="@firebase/messaging",mA="@firebase/messaging-compat",gA="@firebase/performance",yA="@firebase/performance-compat",vA="@firebase/remote-config",_A="@firebase/remote-config-compat",wA="@firebase/storage",EA="@firebase/storage-compat",TA="@firebase/firestore",IA="@firebase/ai",SA="@firebase/firestore-compat",RA="firebase",AA="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf="[DEFAULT]",CA={[zf]:"fire-core",[eA]:"fire-core-compat",[nA]:"fire-analytics",[tA]:"fire-analytics-compat",[iA]:"fire-app-check",[rA]:"fire-app-check-compat",[sA]:"fire-auth",[oA]:"fire-auth-compat",[aA]:"fire-rtdb",[lA]:"fire-data-connect",[uA]:"fire-rtdb-compat",[cA]:"fire-fn",[hA]:"fire-fn-compat",[dA]:"fire-iid",[fA]:"fire-iid-compat",[pA]:"fire-fcm",[mA]:"fire-fcm-compat",[gA]:"fire-perf",[yA]:"fire-perf-compat",[vA]:"fire-rc",[_A]:"fire-rc-compat",[wA]:"fire-gcs",[EA]:"fire-gcs-compat",[TA]:"fire-fst",[SA]:"fire-fst-compat",[IA]:"fire-vertex","fire-js":"fire-js",[RA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl=new Map,PA=new Map,$f=new Map;function fv(n,e){try{n.container.addComponent(e)}catch(t){Xr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Bi(n){const e=n.name;if($f.has(e))return Xr.debug(`There were multiple attempts to register component ${e}.`),!1;$f.set(e,n);for(const t of Pl.values())fv(t,n);for(const t of PA.values())fv(t,n);return!0}function jl(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Zt(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ui=new Fl("app","Firebase",kA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Yr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ui.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=AA;function Pw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Bf,automaticDataCollectionEnabled:!0},e),o=i.name;if(typeof o!="string"||!o)throw Ui.create("bad-app-name",{appName:String(o)});if(t||(t=Iw()),!t)throw Ui.create("no-options");const a=Pl.get(o);if(a){if(Qr(t,a.options)&&Qr(i,a.config))return a;throw Ui.create("duplicate-app",{appName:o})}const c=new LR(o);for(const p of $f.values())c.addComponent(p);const d=new xA(t,i,c);return Pl.set(o,d),d}function zl(n=Bf){const e=Pl.get(n);if(!e&&n===Bf&&Iw())return Pw();if(!e)throw Ui.create("no-app",{appName:n});return e}function NA(){return Array.from(Pl.values())}function Vn(n,e,t){var i;let o=(i=CA[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const d=[`Unable to register library "${o}" with version "${e}":`];a&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xr.warn(d.join(" "));return}Bi(new Yr(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA="firebase-heartbeat-database",DA=1,kl="firebase-heartbeat-store";let Tf=null;function kw(){return Tf||(Tf=QR(bA,DA,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(kl)}catch{}}}}).catch(n=>{throw Ui.create("idb-open",{originalErrorMessage:n.message})})),Tf}async function OA(n){try{const t=(await kw()).transaction(kl),i=await t.objectStore(kl).get(xw(n));return await t.done,i}catch(e){if(e instanceof Ir)Xr.warn(e.message);else{const t=Ui.create("idb-get",{originalErrorMessage:e?.message});Xr.warn(t.message)}}}async function pv(n,e){try{const i=(await kw()).transaction(kl,"readwrite");await i.objectStore(kl).put(e,xw(n)),await i.done}catch(t){if(t instanceof Ir)Xr.warn(t.message);else{const i=Ui.create("idb-set",{originalErrorMessage:t?.message});Xr.warn(i.message)}}}function xw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=1024,LA=30;class MA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new UA(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=mv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>LA){const c=jA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Xr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=mv(),{heartbeatsToSend:i,unsentEntries:o}=FA(this._heartbeatsCache.heartbeats),a=$c(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Xr.warn(t),""}}}function mv(){return new Date().toISOString().substring(0,10)}function FA(n,e=VA){const t=[];let i=n.slice();for(const o of n){const a=t.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),gv(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),gv(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class UA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SR()?RR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await OA(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return pv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return pv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function gv(n){return $c(JSON.stringify({version:2,heartbeats:n})).length}function jA(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(n){Bi(new Yr("platform-logger",e=>new JR(e),"PRIVATE")),Bi(new Yr("heartbeat",e=>new MA(e),"PRIVATE")),Vn(zf,dv,n),Vn(zf,dv,"esm2017"),Vn("fire-js","")}zA("");var BA="firebase",$A="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vn(BA,$A,"app");var yv=function(){return yv=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++){t=arguments[i];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},yv.apply(this,arguments)};function Np(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function vO(n,e,t){if(t||arguments.length===2)for(var i=0,o=e.length,a;i<o;i++)(a||!(i in e))&&(a||(a=Array.prototype.slice.call(e,0,i)),a[i]=e[i]);return n.concat(a||Array.prototype.slice.call(e))}function Nw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const WA=Nw,bw=new Fl("auth","Firebase",Nw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc=new kp("@firebase/auth");function HA(n,...e){Wc.logLevel<=Fe.WARN&&Wc.warn(`Auth (${Bs}): ${n}`,...e)}function kc(n,...e){Wc.logLevel<=Fe.ERROR&&Wc.error(`Auth (${Bs}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(n,...e){throw Dp(n,...e)}function rr(n,...e){return Dp(n,...e)}function bp(n,e,t){const i=Object.assign(Object.assign({},WA()),{[e]:t});return new Fl("auth","Firebase",i).create(e,{appName:n.name})}function Kr(n){return bp(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qA(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Ln(n,"argument-error"),bp(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dp(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return bw.create(n,...e)}function Ie(n,e,...t){if(!n)throw Dp(e,...t)}function Hr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw kc(e),new Error(e)}function Jr(n,e){n||Hr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function KA(){return vv()==="http:"||vv()==="https:"}function vv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KA()||wR()||"connection"in navigator)?navigator.onLine:!0}function QA(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Jr(t>e,"Short delay should be less than long delay!"),this.isMobile=yR()||ER()}get(){return GA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(n,e){Jr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],JA=new Bl(3e4,6e4);function Xi(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ni(n,e,t,i,o={}){return Ow(n,o,async()=>{let a={},c={};i&&(e==="GET"?c=i:a={body:JSON.stringify(i)});const d=Ul(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:p},a);return _R()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&Yi(n.emulatorConfig.host)&&(y.credentials="include"),Dw.fetch()(await Vw(n,n.config.apiHost,t,d),y)})}async function Ow(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},YA),e);try{const o=new eC(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw yc(n,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const d=a.ok?c.errorMessage:c.error.message,[p,y]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw yc(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw yc(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw yc(n,"user-disabled",c);const _=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw bp(n,_,y);Ln(n,_)}}catch(o){if(o instanceof Ir)throw o;Ln(n,"network-request-failed",{message:String(o)})}}async function $l(n,e,t,i,o={}){const a=await ni(n,e,t,i,o);return"mfaPendingCredential"in a&&Ln(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function Vw(n,e,t,i){const o=`${e}${t}?${i}`,a=n,c=a.config.emulator?Op(n.config,o):`${n.config.apiScheme}://${o}`;return XA.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(c).toString():c}function ZA(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class eC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(rr(this.auth,"network-request-failed")),JA.get())})}}function yc(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=rr(n,e,i);return o.customData._tokenResponse=t,o}function _v(n){return n!==void 0&&n.enterprise!==void 0}class tC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ZA(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function nC(n,e){return ni(n,"GET","/v2/recaptchaConfig",Xi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rC(n,e){return ni(n,"POST","/v1/accounts:delete",e)}async function Hc(n,e){return ni(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function iC(n,e=!1){const t=Ze(n),i=await t.getIdToken(e),o=Vp(i);Ie(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,c=a?.sign_in_provider;return{claims:o,token:i,authTime:_l(If(o.auth_time)),issuedAtTime:_l(If(o.iat)),expirationTime:_l(If(o.exp)),signInProvider:c||null,signInSecondFactor:a?.sign_in_second_factor||null}}function If(n){return Number(n)*1e3}function Vp(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return kc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Ew(t);return o?JSON.parse(o):(kc("Failed to decode base64 JWT payload"),null)}catch(o){return kc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function wv(n){const e=Vp(n);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Ir&&sC(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function sC({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=_l(this.lastLoginAt),this.creationTime=_l(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await Qo(n,Hc(t,{idToken:i}));Ie(o?.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const c=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?Lw(a.providerUserInfo):[],d=lC(n.providerData,c),p=n.isAnonymous,y=!(n.email&&a.passwordHash)&&!d?.length,_=p?y:!1,E={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new Hf(a.createdAt,a.lastLoginAt),isAnonymous:_};Object.assign(n,E)}async function aC(n){const e=Ze(n);await qc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lC(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function Lw(n){return n.map(e=>{var{providerId:t}=e,i=Np(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uC(n,e){const t=await Ow(n,{},async()=>{const i=Ul({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,c=await Vw(n,o,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:i};return n.emulatorConfig&&Yi(n.emulatorConfig.host)&&(p.credentials="include"),Dw.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function cC(n,e){return ni(n,"POST","/v2/accounts:revokeToken",Xi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const t=wv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:a}=await uC(e,t);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:a}=t,c=new Ho;return i&&(Ie(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(Ie(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),a&&(Ie(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ho,this.toJSON())}_performRefresh(){return Hr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(n,e){Ie(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class tr{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,a=Np(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Hf(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Qo(this,this.stsTokenManager.getToken(this.auth,e));return Ie(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return iC(this,e)}reload(){return aC(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new tr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await qc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zt(this.auth.app))return Promise.reject(Kr(this.auth));const e=await this.getIdToken();return await Qo(this,rC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,a,c,d,p,y,_;const E=(i=t.displayName)!==null&&i!==void 0?i:void 0,I=(o=t.email)!==null&&o!==void 0?o:void 0,D=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,F=(c=t.photoURL)!==null&&c!==void 0?c:void 0,M=(d=t.tenantId)!==null&&d!==void 0?d:void 0,P=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,J=(y=t.createdAt)!==null&&y!==void 0?y:void 0,Q=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:Y,emailVerified:ne,isAnonymous:ve,providerData:ae,stsTokenManager:k}=t;Ie(Y&&k,e,"internal-error");const S=Ho.fromJSON(this.name,k);Ie(typeof Y=="string",e,"internal-error"),Pi(E,e.name),Pi(I,e.name),Ie(typeof ne=="boolean",e,"internal-error"),Ie(typeof ve=="boolean",e,"internal-error"),Pi(D,e.name),Pi(F,e.name),Pi(M,e.name),Pi(P,e.name),Pi(J,e.name),Pi(Q,e.name);const C=new tr({uid:Y,auth:e,email:I,emailVerified:ne,displayName:E,isAnonymous:ve,photoURL:F,phoneNumber:D,tenantId:M,stsTokenManager:S,createdAt:J,lastLoginAt:Q});return ae&&Array.isArray(ae)&&(C.providerData=ae.map(b=>Object.assign({},b))),P&&(C._redirectEventId=P),C}static async _fromIdTokenResponse(e,t,i=!1){const o=new Ho;o.updateFromServerResponse(t);const a=new tr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await qc(a),a}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Ie(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?Lw(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!a?.length,d=new Ho;d.updateFromIdToken(i);const p=new tr({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Hf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!a?.length};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev=new Map;function qr(n){Jr(n instanceof Function,"Expected a class definition");let e=Ev.get(n);return e?(Jr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Ev.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Mw.type="NONE";const Tv=Mw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(n,e,t){return`firebase:${n}:${e}:${t}`}class qo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=xc(this.userKey,o.apiKey,a),this.fullPersistenceKey=xc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Hc(this.auth,{idToken:e}).catch(()=>{});return t?tr._fromGetAccountInfoResponse(this.auth,t,e):null}return tr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new qo(qr(Tv),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let a=o[0]||qr(Tv);const c=xc(i,e.config.apiKey,e.name);let d=null;for(const y of t)try{const _=await y._get(c);if(_){let E;if(typeof _=="string"){const I=await Hc(e,{idToken:_}).catch(()=>{});if(!I)break;E=await tr._fromGetAccountInfoResponse(e,I,_)}else E=tr._fromJSON(e,_);y!==a&&(d=E),a=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!a._shouldAllowMigration||!p.length?new qo(a,e,i):(a=p[0],d&&await a._set(c,d.toJSON()),await Promise.all(t.map(async y=>{if(y!==a)try{await y._remove(c)}catch{}})),new qo(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Fw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($w(e))return"Blackberry";if(Ww(e))return"Webos";if(Uw(e))return"Safari";if((e.includes("chrome/")||jw(e))&&!e.includes("edge/"))return"Chrome";if(Bw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function Fw(n=Gt()){return/firefox\//i.test(n)}function Uw(n=Gt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jw(n=Gt()){return/crios\//i.test(n)}function zw(n=Gt()){return/iemobile/i.test(n)}function Bw(n=Gt()){return/android/i.test(n)}function $w(n=Gt()){return/blackberry/i.test(n)}function Ww(n=Gt()){return/webos/i.test(n)}function Lp(n=Gt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function hC(n=Gt()){var e;return Lp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function dC(){return TR()&&document.documentMode===10}function Hw(n=Gt()){return Lp(n)||Bw(n)||Ww(n)||$w(n)||/windows phone/i.test(n)||zw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(n,e=[]){let t;switch(n){case"Browser":t=Iv(Gt());break;case"Worker":t=`${Iv(Gt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Bs}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((c,d)=>{try{const p=e(a);c(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pC(n,e={}){return ni(n,"GET","/v2/passwordPolicy",Xi(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=6;class gC{constructor(e){var t,i,o,a;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:mC,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,a,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(a=p.containsUppercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sv(this),this.idTokenSubscription=new Sv(this),this.beforeStateQueue=new fC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=qr(t)),this._initializationPromise=this.queue(async()=>{var i,o,a;if(!this._deleted&&(this.persistenceManager=await qo.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Hc(this,{idToken:e}),i=await tr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch{await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Zt(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(o=p.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await qc(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=QA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zt(this.app))return Promise.reject(Kr(this));const t=e?Ze(e):null;return t&&Ie(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zt(this.app)?Promise.reject(Kr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zt(this.app)?Promise.reject(Kr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pC(this),t=new gC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Fl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await cC(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&qr(e)||this._popupRedirectResolver;Ie(t,this,"argument-error"),this.redirectPersistenceManager=await qo.create(this,[qr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(d,this,"internal-error"),d.then(()=>{c||a(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Zt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&HA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ji(n){return Ze(n)}class Sv{constructor(e){this.auth=e,this.observer=null,this.addObserver=xR(t=>this.observer=t)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vC(n){gh=n}function Kw(n){return gh.loadJS(n)}function _C(){return gh.recaptchaEnterpriseScript}function wC(){return gh.gapiScript}function EC(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class TC{constructor(){this.enterprise=new IC}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class IC{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const SC="recaptcha-enterprise",Gw="NO_RECAPTCHA";class RC{constructor(e){this.type=SC,this.auth=Ji(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(c,d)=>{nC(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const y=new tC(p);return a.tenantId==null?a._agentRecaptchaConfig=y:a._tenantRecaptchaConfigs[a.tenantId]=y,c(y.siteKey)}}).catch(p=>{d(p)})})}function o(a,c,d){const p=window.grecaptcha;_v(p)?p.enterprise.ready(()=>{p.enterprise.execute(a,{action:e}).then(y=>{c(y)}).catch(()=>{c(Gw)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new TC().execute("siteKey",{action:"verify"}):new Promise((a,c)=>{i(this.auth).then(d=>{if(!t&&_v(window.grecaptcha))o(d,a,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=_C();p.length!==0&&(p+=d),Kw(p).then(()=>{o(d,a,c)}).catch(y=>{c(y)})}}).catch(d=>{c(d)})})}}async function Rv(n,e,t,i=!1,o=!1){const a=new RC(n);let c;if(o)c=Gw;else try{c=await a.verify(t)}catch{c=await a.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,y=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function qf(n,e,t,i,o){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Rv(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){const d=await Rv(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(n,e){const t=jl(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Qr(a,e??{}))return o;Ln(o,"already-initialized")}return t.initialize({options:e})}function CC(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(qr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function PC(n,e,t){const i=Ji(n);Ie(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=Qw(e),{host:c,port:d}=kC(e),p=d===null?"":`:${d}`,y={url:`${a}//${c}${p}/`},_=Object.freeze({host:c,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Ie(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ie(Qr(y,i.config.emulator)&&Qr(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,Yi(c)?(ph(`${a}//${c}${p}`),mh("Auth",!0)):xC()}function Qw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function kC(n){const e=Qw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:Av(i.substr(a.length+1))}}else{const[a,c]=i.split(":");return{host:a,port:Av(c)}}}function Av(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function xC(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Hr("not implemented")}_getIdTokenResponse(e){return Hr("not implemented")}_linkToIdToken(e,t){return Hr("not implemented")}_getReauthenticationResolver(e){return Hr("not implemented")}}async function NC(n,e){return ni(n,"POST","/v1/accounts:update",e)}async function bC(n,e){return ni(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DC(n,e){return $l(n,"POST","/v1/accounts:signInWithPassword",Xi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OC(n,e){return $l(n,"POST","/v1/accounts:signInWithEmailLink",Xi(n,e))}async function VC(n,e){return $l(n,"POST","/v1/accounts:signInWithEmailLink",Xi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl extends Mp{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new xl(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new xl(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qf(e,t,"signInWithPassword",DC);case"emailLink":return OC(e,{email:this._email,oobCode:this._password});default:Ln(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qf(e,i,"signUpPassword",bC);case"emailLink":return VC(e,{idToken:t,email:this._email,oobCode:this._password});default:Ln(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ko(n,e){return $l(n,"POST","/v1/accounts:signInWithIdp",Xi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="http://localhost";class Ls extends Mp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ls(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ln("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,a=Np(t,["providerId","signInMethod"]);if(!i||!o)return null;const c=new Ls(i,o);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Ko(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Ko(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ko(e,t)}buildRequest(){const e={requestUri:LC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ul(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function FC(n){const e=hl(dl(n)).link,t=e?hl(dl(e)).deep_link_id:null,i=hl(dl(n)).deep_link_id;return(i?hl(dl(i)).link:null)||i||t||e||n}class Fp{constructor(e){var t,i,o,a,c,d;const p=hl(dl(e)),y=(t=p.apiKey)!==null&&t!==void 0?t:null,_=(i=p.oobCode)!==null&&i!==void 0?i:null,E=MC((o=p.mode)!==null&&o!==void 0?o:null);Ie(y&&_&&E,"argument-error"),this.apiKey=y,this.operation=E,this.code=_,this.continueUrl=(a=p.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(c=p.lang)!==null&&c!==void 0?c:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=FC(e);try{return new Fp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(){this.providerId=oa.PROVIDER_ID}static credential(e,t){return xl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Fp.parseLink(t);return Ie(i,"argument-error"),xl._fromEmailAndCode(e,i.code,i.tenantId)}}oa.PROVIDER_ID="password";oa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";oa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl extends Up{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends Wl{constructor(){super("facebook.com")}static credential(e){return Ls._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xi.credential(e.oauthAccessToken)}catch{return null}}}xi.FACEBOOK_SIGN_IN_METHOD="facebook.com";xi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends Wl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ls._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Ni.credential(t,i)}catch{return null}}}Ni.GOOGLE_SIGN_IN_METHOD="google.com";Ni.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends Wl{constructor(){super("github.com")}static credential(e){return Ls._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bi.credential(e.oauthAccessToken)}catch{return null}}}bi.GITHUB_SIGN_IN_METHOD="github.com";bi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends Wl{constructor(){super("twitter.com")}static credential(e,t){return Ls._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Di.credential(t,i)}catch{return null}}}Di.TWITTER_SIGN_IN_METHOD="twitter.com";Di.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UC(n,e){return $l(n,"POST","/v1/accounts:signUp",Xi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const a=await tr._fromIdTokenResponse(e,i,o),c=Cv(i);return new Ms({user:a,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=Cv(i);return new Ms({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function Cv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc extends Ir{constructor(e,t,i,o){var a;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Kc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Kc(e,t,i,o)}}function Yw(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Kc._fromErrorAndOperation(n,a,e,i):a})}async function jC(n,e,t=!1){const i=await Qo(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ms._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xw(n,e,t=!1){const{auth:i}=n;if(Zt(i.app))return Promise.reject(Kr(i));const o="reauthenticate";try{const a=await Qo(n,Yw(i,o,e,n),t);Ie(a.idToken,i,"internal-error");const c=Vp(a.idToken);Ie(c,i,"internal-error");const{sub:d}=c;return Ie(n.uid===d,i,"user-mismatch"),Ms._forOperation(n,o,a)}catch(a){throw a?.code==="auth/user-not-found"&&Ln(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jw(n,e,t=!1){if(Zt(n.app))return Promise.reject(Kr(n));const i="signIn",o=await Yw(n,i,e),a=await Ms._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(a.user),a}async function zC(n,e){return Jw(Ji(n),e)}async function _O(n,e){return Xw(Ze(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zw(n){const e=Ji(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function wO(n,e,t){if(Zt(n.app))return Promise.reject(Kr(n));const i=Ji(n),c=await qf(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",UC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Zw(n),p}),d=await Ms._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function EO(n,e,t){return Zt(n.app)?Promise.reject(Kr(n)):zC(Ze(n),oa.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Zw(n),i})}function TO(n,e){return BC(Ze(n),null,e)}async function BC(n,e,t){const{auth:i}=n,a={idToken:await n.getIdToken(),returnSecureToken:!0};t&&(a.password=t);const c=await Qo(n,NC(i,a));await n._updateTokensIfNecessary(c,!0)}function $C(n,e,t,i){return Ze(n).onIdTokenChanged(e,t,i)}function WC(n,e,t){return Ze(n).beforeAuthStateChanged(e,t)}function HC(n,e,t,i){return Ze(n).onAuthStateChanged(e,t,i)}function IO(n){return Ze(n).signOut()}const Gc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Gc,"1"),this.storage.removeItem(Gc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=1e3,KC=10;class tE extends eE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Hw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},a=this.storage.getItem(i);dC()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,KC):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},qC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}tE.type="LOCAL";const GC=tE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE extends eE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}nE.type="SESSION";const rE=nE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new yh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:a}=t.data,c=this.handlersMap[o];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(c).map(async y=>y(t.origin,a)),p=await QC(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((d,p)=>{const y=jp("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(E){const I=E;if(I.data.eventId===y)switch(I.data.status){case"ack":clearTimeout(_),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(I.data.response);break;default:clearTimeout(_),clearTimeout(a),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(){return window}function XC(n){yr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(){return typeof yr().WorkerGlobalScope<"u"&&typeof yr().importScripts=="function"}async function JC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ZC(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function eP(){return iE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="firebaseLocalStorageDb",tP=1,Qc="firebaseLocalStorage",oE="fbase_key";class Hl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function vh(n,e){return n.transaction([Qc],e?"readwrite":"readonly").objectStore(Qc)}function nP(){const n=indexedDB.deleteDatabase(sE);return new Hl(n).toPromise()}function Kf(){const n=indexedDB.open(sE,tP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Qc,{keyPath:oE})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Qc)?e(i):(i.close(),await nP(),e(await Kf()))})})}async function Pv(n,e,t){const i=vh(n,!0).put({[oE]:e,value:t});return new Hl(i).toPromise()}async function rP(n,e){const t=vh(n,!1).get(e),i=await new Hl(t).toPromise();return i===void 0?null:i.value}function kv(n,e){const t=vh(n,!0).delete(e);return new Hl(t).toPromise()}const iP=800,sP=3;class aE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>sP)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yh._getInstance(eP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await JC(),!this.activeServiceWorker)return;this.sender=new YC(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ZC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Kf();return await Pv(e,Gc,"1"),await kv(e,Gc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Pv(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>rP(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>kv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=vh(o,!1).getAll();return new Hl(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aE.type="LOCAL";const oP=aE;new Bl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(n,e){return e?qr(e):(Ie(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp extends Mp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ko(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ko(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ko(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function aP(n){return Jw(n.auth,new zp(n),n.bypassAuthState)}function lP(n){const{auth:e,user:t}=n;return Ie(t,e,"internal-error"),Xw(t,new zp(n),n.bypassAuthState)}async function uP(n){const{auth:e,user:t}=n;return Ie(t,e,"internal-error"),jC(t,new zp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e,t,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:a,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aP;case"linkViaPopup":case"linkViaRedirect":return uP;case"reauthViaPopup":case"reauthViaRedirect":return lP;default:Ln(this.auth,"internal-error")}}resolve(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP=new Bl(2e3,1e4);async function SO(n,e,t){if(Zt(n.app))return Promise.reject(rr(n,"operation-not-supported-in-this-environment"));const i=Ji(n);qA(n,e,Up);const o=lE(i,t);return new Os(i,"signInViaPopup",e,o).executeNotNull()}class Os extends uE{constructor(e,t,i,o,a){super(e,t,o,a),this.provider=i,this.authWindow=null,this.pollId=null,Os.currentPopupAction&&Os.currentPopupAction.cancel(),Os.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){Jr(this.filter.length===1,"Popup operations only handle one event");const e=jp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Os.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cP.get())};e()}}Os.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP="pendingRedirect",Nc=new Map;class dP extends uE{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Nc.get(this.auth._key());if(!e){try{const i=await fP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Nc.set(this.auth._key(),e)}return this.bypassAuthState||Nc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fP(n,e){const t=gP(e),i=mP(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function pP(n,e){Nc.set(n._key(),e)}function mP(n){return qr(n._redirectPersistence)}function gP(n){return xc(hP,n.config.apiKey,n.name)}async function yP(n,e,t=!1){if(Zt(n.app))return Promise.reject(Kr(n));const i=Ji(n),o=lE(i,e),c=await new dP(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP=600*1e3;class _P{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!cE(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(rr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vP&&this.cachedEventUids.clear(),this.cachedEventUids.has(xv(e))}saveEventToCache(e){this.cachedEventUids.add(xv(e)),this.lastProcessedEventTime=Date.now()}}function xv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function cE({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function wP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EP(n,e={}){return ni(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IP=/^https?/;async function SP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await EP(n);for(const t of e)try{if(RP(t))return}catch{}Ln(n,"unauthorized-domain")}function RP(n){const e=Wf(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!IP.test(t))return!1;if(TP.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP=new Bl(3e4,6e4);function Nv(){const n=yr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function CP(n){return new Promise((e,t)=>{var i,o,a;function c(){Nv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Nv(),t(rr(n,"network-request-failed"))},timeout:AP.get()})}if(!((o=(i=yr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=yr().gapi)===null||a===void 0)&&a.load)c();else{const d=EC("iframefcb");return yr()[d]=()=>{gapi.load?c():t(rr(n,"network-request-failed"))},Kw(`${wC()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw bc=null,e})}let bc=null;function PP(n){return bc=bc||CP(n),bc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP=new Bl(5e3,15e3),xP="__/auth/iframe",NP="emulator/auth/iframe",bP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function OP(n){const e=n.config;Ie(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Op(e,NP):`https://${n.config.authDomain}/${xP}`,i={apiKey:e.apiKey,appName:n.name,v:Bs},o=DP.get(n.config.apiHost);o&&(i.eid=o);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${Ul(i).slice(1)}`}async function VP(n){const e=await PP(n),t=yr().gapi;return Ie(t,n,"internal-error"),e.open({where:document.body,url:OP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bP,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const c=rr(n,"network-request-failed"),d=yr().setTimeout(()=>{a(c)},kP.get());function p(){yr().clearTimeout(d),o(i)}i.ping(p).then(p,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MP=500,FP=600,UP="_blank",jP="http://localhost";class bv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zP(n,e,t,i=MP,o=FP){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p=Object.assign(Object.assign({},LP),{width:i.toString(),height:o.toString(),top:a,left:c}),y=Gt().toLowerCase();t&&(d=jw(y)?UP:t),Fw(y)&&(e=e||jP,p.scrollbars="yes");const _=Object.entries(p).reduce((I,[D,F])=>`${I}${D}=${F},`,"");if(hC(y)&&d!=="_self")return BP(e||"",d),new bv(null);const E=window.open(e||"",d,_);Ie(E,n,"popup-blocked");try{E.focus()}catch{}return new bv(E)}function BP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P="__/auth/handler",WP="emulator/auth/handler",HP=encodeURIComponent("fac");async function Dv(n,e,t,i,o,a){Ie(n.config.authDomain,n,"auth-domain-config-required"),Ie(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Bs,eventId:o};if(e instanceof Up){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",kR(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))c[_]=E}if(e instanceof Wl){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await n._getAppCheckToken(),y=p?`#${HP}=${encodeURIComponent(p)}`:"";return`${qP(n)}?${Ul(d).slice(1)}${y}`}function qP({config:n}){return n.emulator?Op(n,WP):`https://${n.authDomain}/${$P}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf="webStorageSupport";class KP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rE,this._completeRedirectFn=yP,this._overrideRedirectResult=pP}async _openPopup(e,t,i,o){var a;Jr((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const c=await Dv(e,t,i,Wf(),o);return zP(e,c,jp())}async _openRedirect(e,t,i,o){await this._originValidation(e);const a=await Dv(e,t,i,Wf(),o);return XC(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(Jr(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await VP(e),i=new _P(e);return t.register("authEvent",o=>(Ie(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Sf,{type:Sf},o=>{var a;const c=(a=o?.[0])===null||a===void 0?void 0:a[Sf];c!==void 0&&t(!!c),Ln(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=SP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Hw()||Uw()||Lp()}}const GP=KP;var Ov="@firebase/auth",Vv="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XP(n){Bi(new Yr("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Ie(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qw(n)},y=new yC(i,o,a,p);return CC(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Bi(new Yr("auth-internal",e=>{const t=Ji(e.getProvider("auth").getImmediate());return(i=>new QP(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vn(Ov,Vv,YP(n)),Vn(Ov,Vv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP=300,ZP=Sw("authIdTokenMaxAge")||JP;let Lv=null;const e1=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>ZP)return;const o=t?.token;Lv!==o&&(Lv=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function t1(n=zl()){const e=jl(n,"auth");if(e.isInitialized())return e.getImmediate();const t=AC(n,{popupRedirectResolver:GP,persistence:[oP,GC,rE]}),i=Sw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const c=e1(a.toString());WC(t,c,()=>c(t.currentUser)),$C(t,d=>c(d))}}const o=Tw("auth");return o&&PC(t,`http://${o}`),t}function n1(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}vC({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const a=rr("internal-error");a.customData=o,t(a)},i.type="text/javascript",i.charset="UTF-8",n1().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XP("Browser");var Mv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ji,hE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,S){function C(){}C.prototype=S.prototype,k.D=S.prototype,k.prototype=new C,k.prototype.constructor=k,k.C=function(b,O,U){for(var A=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)A[oe-2]=arguments[oe];return S.prototype[O].apply(b,A)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,S,C){C||(C=0);var b=Array(16);if(typeof S=="string")for(var O=0;16>O;++O)b[O]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(O=0;16>O;++O)b[O]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=k.g[0],C=k.g[1],O=k.g[2];var U=k.g[3],A=S+(U^C&(O^U))+b[0]+3614090360&4294967295;S=C+(A<<7&4294967295|A>>>25),A=U+(O^S&(C^O))+b[1]+3905402710&4294967295,U=S+(A<<12&4294967295|A>>>20),A=O+(C^U&(S^C))+b[2]+606105819&4294967295,O=U+(A<<17&4294967295|A>>>15),A=C+(S^O&(U^S))+b[3]+3250441966&4294967295,C=O+(A<<22&4294967295|A>>>10),A=S+(U^C&(O^U))+b[4]+4118548399&4294967295,S=C+(A<<7&4294967295|A>>>25),A=U+(O^S&(C^O))+b[5]+1200080426&4294967295,U=S+(A<<12&4294967295|A>>>20),A=O+(C^U&(S^C))+b[6]+2821735955&4294967295,O=U+(A<<17&4294967295|A>>>15),A=C+(S^O&(U^S))+b[7]+4249261313&4294967295,C=O+(A<<22&4294967295|A>>>10),A=S+(U^C&(O^U))+b[8]+1770035416&4294967295,S=C+(A<<7&4294967295|A>>>25),A=U+(O^S&(C^O))+b[9]+2336552879&4294967295,U=S+(A<<12&4294967295|A>>>20),A=O+(C^U&(S^C))+b[10]+4294925233&4294967295,O=U+(A<<17&4294967295|A>>>15),A=C+(S^O&(U^S))+b[11]+2304563134&4294967295,C=O+(A<<22&4294967295|A>>>10),A=S+(U^C&(O^U))+b[12]+1804603682&4294967295,S=C+(A<<7&4294967295|A>>>25),A=U+(O^S&(C^O))+b[13]+4254626195&4294967295,U=S+(A<<12&4294967295|A>>>20),A=O+(C^U&(S^C))+b[14]+2792965006&4294967295,O=U+(A<<17&4294967295|A>>>15),A=C+(S^O&(U^S))+b[15]+1236535329&4294967295,C=O+(A<<22&4294967295|A>>>10),A=S+(O^U&(C^O))+b[1]+4129170786&4294967295,S=C+(A<<5&4294967295|A>>>27),A=U+(C^O&(S^C))+b[6]+3225465664&4294967295,U=S+(A<<9&4294967295|A>>>23),A=O+(S^C&(U^S))+b[11]+643717713&4294967295,O=U+(A<<14&4294967295|A>>>18),A=C+(U^S&(O^U))+b[0]+3921069994&4294967295,C=O+(A<<20&4294967295|A>>>12),A=S+(O^U&(C^O))+b[5]+3593408605&4294967295,S=C+(A<<5&4294967295|A>>>27),A=U+(C^O&(S^C))+b[10]+38016083&4294967295,U=S+(A<<9&4294967295|A>>>23),A=O+(S^C&(U^S))+b[15]+3634488961&4294967295,O=U+(A<<14&4294967295|A>>>18),A=C+(U^S&(O^U))+b[4]+3889429448&4294967295,C=O+(A<<20&4294967295|A>>>12),A=S+(O^U&(C^O))+b[9]+568446438&4294967295,S=C+(A<<5&4294967295|A>>>27),A=U+(C^O&(S^C))+b[14]+3275163606&4294967295,U=S+(A<<9&4294967295|A>>>23),A=O+(S^C&(U^S))+b[3]+4107603335&4294967295,O=U+(A<<14&4294967295|A>>>18),A=C+(U^S&(O^U))+b[8]+1163531501&4294967295,C=O+(A<<20&4294967295|A>>>12),A=S+(O^U&(C^O))+b[13]+2850285829&4294967295,S=C+(A<<5&4294967295|A>>>27),A=U+(C^O&(S^C))+b[2]+4243563512&4294967295,U=S+(A<<9&4294967295|A>>>23),A=O+(S^C&(U^S))+b[7]+1735328473&4294967295,O=U+(A<<14&4294967295|A>>>18),A=C+(U^S&(O^U))+b[12]+2368359562&4294967295,C=O+(A<<20&4294967295|A>>>12),A=S+(C^O^U)+b[5]+4294588738&4294967295,S=C+(A<<4&4294967295|A>>>28),A=U+(S^C^O)+b[8]+2272392833&4294967295,U=S+(A<<11&4294967295|A>>>21),A=O+(U^S^C)+b[11]+1839030562&4294967295,O=U+(A<<16&4294967295|A>>>16),A=C+(O^U^S)+b[14]+4259657740&4294967295,C=O+(A<<23&4294967295|A>>>9),A=S+(C^O^U)+b[1]+2763975236&4294967295,S=C+(A<<4&4294967295|A>>>28),A=U+(S^C^O)+b[4]+1272893353&4294967295,U=S+(A<<11&4294967295|A>>>21),A=O+(U^S^C)+b[7]+4139469664&4294967295,O=U+(A<<16&4294967295|A>>>16),A=C+(O^U^S)+b[10]+3200236656&4294967295,C=O+(A<<23&4294967295|A>>>9),A=S+(C^O^U)+b[13]+681279174&4294967295,S=C+(A<<4&4294967295|A>>>28),A=U+(S^C^O)+b[0]+3936430074&4294967295,U=S+(A<<11&4294967295|A>>>21),A=O+(U^S^C)+b[3]+3572445317&4294967295,O=U+(A<<16&4294967295|A>>>16),A=C+(O^U^S)+b[6]+76029189&4294967295,C=O+(A<<23&4294967295|A>>>9),A=S+(C^O^U)+b[9]+3654602809&4294967295,S=C+(A<<4&4294967295|A>>>28),A=U+(S^C^O)+b[12]+3873151461&4294967295,U=S+(A<<11&4294967295|A>>>21),A=O+(U^S^C)+b[15]+530742520&4294967295,O=U+(A<<16&4294967295|A>>>16),A=C+(O^U^S)+b[2]+3299628645&4294967295,C=O+(A<<23&4294967295|A>>>9),A=S+(O^(C|~U))+b[0]+4096336452&4294967295,S=C+(A<<6&4294967295|A>>>26),A=U+(C^(S|~O))+b[7]+1126891415&4294967295,U=S+(A<<10&4294967295|A>>>22),A=O+(S^(U|~C))+b[14]+2878612391&4294967295,O=U+(A<<15&4294967295|A>>>17),A=C+(U^(O|~S))+b[5]+4237533241&4294967295,C=O+(A<<21&4294967295|A>>>11),A=S+(O^(C|~U))+b[12]+1700485571&4294967295,S=C+(A<<6&4294967295|A>>>26),A=U+(C^(S|~O))+b[3]+2399980690&4294967295,U=S+(A<<10&4294967295|A>>>22),A=O+(S^(U|~C))+b[10]+4293915773&4294967295,O=U+(A<<15&4294967295|A>>>17),A=C+(U^(O|~S))+b[1]+2240044497&4294967295,C=O+(A<<21&4294967295|A>>>11),A=S+(O^(C|~U))+b[8]+1873313359&4294967295,S=C+(A<<6&4294967295|A>>>26),A=U+(C^(S|~O))+b[15]+4264355552&4294967295,U=S+(A<<10&4294967295|A>>>22),A=O+(S^(U|~C))+b[6]+2734768916&4294967295,O=U+(A<<15&4294967295|A>>>17),A=C+(U^(O|~S))+b[13]+1309151649&4294967295,C=O+(A<<21&4294967295|A>>>11),A=S+(O^(C|~U))+b[4]+4149444226&4294967295,S=C+(A<<6&4294967295|A>>>26),A=U+(C^(S|~O))+b[11]+3174756917&4294967295,U=S+(A<<10&4294967295|A>>>22),A=O+(S^(U|~C))+b[2]+718787259&4294967295,O=U+(A<<15&4294967295|A>>>17),A=C+(U^(O|~S))+b[9]+3951481745&4294967295,k.g[0]=k.g[0]+S&4294967295,k.g[1]=k.g[1]+(O+(A<<21&4294967295|A>>>11))&4294967295,k.g[2]=k.g[2]+O&4294967295,k.g[3]=k.g[3]+U&4294967295}i.prototype.u=function(k,S){S===void 0&&(S=k.length);for(var C=S-this.blockSize,b=this.B,O=this.h,U=0;U<S;){if(O==0)for(;U<=C;)o(this,k,U),U+=this.blockSize;if(typeof k=="string"){for(;U<S;)if(b[O++]=k.charCodeAt(U++),O==this.blockSize){o(this,b),O=0;break}}else for(;U<S;)if(b[O++]=k[U++],O==this.blockSize){o(this,b),O=0;break}}this.h=O,this.o+=S},i.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var S=1;S<k.length-8;++S)k[S]=0;var C=8*this.o;for(S=k.length-8;S<k.length;++S)k[S]=C&255,C/=256;for(this.u(k),k=Array(16),S=C=0;4>S;++S)for(var b=0;32>b;b+=8)k[C++]=this.g[S]>>>b&255;return k};function a(k,S){var C=d;return Object.prototype.hasOwnProperty.call(C,k)?C[k]:C[k]=S(k)}function c(k,S){this.h=S;for(var C=[],b=!0,O=k.length-1;0<=O;O--){var U=k[O]|0;b&&U==S||(C[O]=U,b=!1)}this.g=C}var d={};function p(k){return-128<=k&&128>k?a(k,function(S){return new c([S|0],0>S?-1:0)}):new c([k|0],0>k?-1:0)}function y(k){if(isNaN(k)||!isFinite(k))return E;if(0>k)return P(y(-k));for(var S=[],C=1,b=0;k>=C;b++)S[b]=k/C|0,C*=4294967296;return new c(S,0)}function _(k,S){if(k.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(k.charAt(0)=="-")return P(_(k.substring(1),S));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=y(Math.pow(S,8)),b=E,O=0;O<k.length;O+=8){var U=Math.min(8,k.length-O),A=parseInt(k.substring(O,O+U),S);8>U?(U=y(Math.pow(S,U)),b=b.j(U).add(y(A))):(b=b.j(C),b=b.add(y(A)))}return b}var E=p(0),I=p(1),D=p(16777216);n=c.prototype,n.m=function(){if(M(this))return-P(this).m();for(var k=0,S=1,C=0;C<this.g.length;C++){var b=this.i(C);k+=(0<=b?b:4294967296+b)*S,S*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(F(this))return"0";if(M(this))return"-"+P(this).toString(k);for(var S=y(Math.pow(k,6)),C=this,b="";;){var O=ne(C,S).g;C=J(C,O.j(S));var U=((0<C.g.length?C.g[0]:C.h)>>>0).toString(k);if(C=O,F(C))return U+b;for(;6>U.length;)U="0"+U;b=U+b}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function F(k){if(k.h!=0)return!1;for(var S=0;S<k.g.length;S++)if(k.g[S]!=0)return!1;return!0}function M(k){return k.h==-1}n.l=function(k){return k=J(this,k),M(k)?-1:F(k)?0:1};function P(k){for(var S=k.g.length,C=[],b=0;b<S;b++)C[b]=~k.g[b];return new c(C,~k.h).add(I)}n.abs=function(){return M(this)?P(this):this},n.add=function(k){for(var S=Math.max(this.g.length,k.g.length),C=[],b=0,O=0;O<=S;O++){var U=b+(this.i(O)&65535)+(k.i(O)&65535),A=(U>>>16)+(this.i(O)>>>16)+(k.i(O)>>>16);b=A>>>16,U&=65535,A&=65535,C[O]=A<<16|U}return new c(C,C[C.length-1]&-2147483648?-1:0)};function J(k,S){return k.add(P(S))}n.j=function(k){if(F(this)||F(k))return E;if(M(this))return M(k)?P(this).j(P(k)):P(P(this).j(k));if(M(k))return P(this.j(P(k)));if(0>this.l(D)&&0>k.l(D))return y(this.m()*k.m());for(var S=this.g.length+k.g.length,C=[],b=0;b<2*S;b++)C[b]=0;for(b=0;b<this.g.length;b++)for(var O=0;O<k.g.length;O++){var U=this.i(b)>>>16,A=this.i(b)&65535,oe=k.i(O)>>>16,Ve=k.i(O)&65535;C[2*b+2*O]+=A*Ve,Q(C,2*b+2*O),C[2*b+2*O+1]+=U*Ve,Q(C,2*b+2*O+1),C[2*b+2*O+1]+=A*oe,Q(C,2*b+2*O+1),C[2*b+2*O+2]+=U*oe,Q(C,2*b+2*O+2)}for(b=0;b<S;b++)C[b]=C[2*b+1]<<16|C[2*b];for(b=S;b<2*S;b++)C[b]=0;return new c(C,0)};function Q(k,S){for(;(k[S]&65535)!=k[S];)k[S+1]+=k[S]>>>16,k[S]&=65535,S++}function Y(k,S){this.g=k,this.h=S}function ne(k,S){if(F(S))throw Error("division by zero");if(F(k))return new Y(E,E);if(M(k))return S=ne(P(k),S),new Y(P(S.g),P(S.h));if(M(S))return S=ne(k,P(S)),new Y(P(S.g),S.h);if(30<k.g.length){if(M(k)||M(S))throw Error("slowDivide_ only works with positive integers.");for(var C=I,b=S;0>=b.l(k);)C=ve(C),b=ve(b);var O=ae(C,1),U=ae(b,1);for(b=ae(b,2),C=ae(C,2);!F(b);){var A=U.add(b);0>=A.l(k)&&(O=O.add(C),U=A),b=ae(b,1),C=ae(C,1)}return S=J(k,O.j(S)),new Y(O,S)}for(O=E;0<=k.l(S);){for(C=Math.max(1,Math.floor(k.m()/S.m())),b=Math.ceil(Math.log(C)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),U=y(C),A=U.j(S);M(A)||0<A.l(k);)C-=b,U=y(C),A=U.j(S);F(U)&&(U=I),O=O.add(U),k=J(k,A)}return new Y(O,k)}n.A=function(k){return ne(this,k).h},n.and=function(k){for(var S=Math.max(this.g.length,k.g.length),C=[],b=0;b<S;b++)C[b]=this.i(b)&k.i(b);return new c(C,this.h&k.h)},n.or=function(k){for(var S=Math.max(this.g.length,k.g.length),C=[],b=0;b<S;b++)C[b]=this.i(b)|k.i(b);return new c(C,this.h|k.h)},n.xor=function(k){for(var S=Math.max(this.g.length,k.g.length),C=[],b=0;b<S;b++)C[b]=this.i(b)^k.i(b);return new c(C,this.h^k.h)};function ve(k){for(var S=k.g.length+1,C=[],b=0;b<S;b++)C[b]=k.i(b)<<1|k.i(b-1)>>>31;return new c(C,k.h)}function ae(k,S){var C=S>>5;S%=32;for(var b=k.g.length-C,O=[],U=0;U<b;U++)O[U]=0<S?k.i(U+C)>>>S|k.i(U+C+1)<<32-S:k.i(U+C);return new c(O,k.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,hE=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=_,ji=c}).apply(typeof Mv<"u"?Mv:typeof self<"u"?self:typeof window<"u"?window:{});var vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dE,fl,fE,Dc,Gf,pE,mE,gE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof vc=="object"&&vc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var v=i;u=u.split(".");for(var T=0;T<u.length-1;T++){var j=u[T];if(!(j in v))break e;v=v[j]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function a(u,m){u instanceof String&&(u+="");var v=0,T=!1,j={next:function(){if(!T&&v<u.length){var W=v++;return{value:m(W,u[W]),done:!1}}return T=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(u){return u||function(){return a(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function E(u,m,v){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,T),u.apply(m,j)}}return function(){return u.apply(m,arguments)}}function I(u,m,v){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:E,I.apply(null,arguments)}function D(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function F(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(T,j,W){for(var se=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)se[Qe-2]=arguments[Qe];return m.prototype[j].apply(T,se)}}function M(u){const m=u.length;if(0<m){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function P(u,m){for(let v=1;v<arguments.length;v++){const T=arguments[v];if(p(T)){const j=u.length||0,W=T.length||0;u.length=j+W;for(let se=0;se<W;se++)u[j+se]=T[se]}else u.push(T)}}class J{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Q(u){return/^[\s\xa0]*$/.test(u)}function Y(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function ne(u){return ne[" "](u),u}ne[" "]=function(){};var ve=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function ae(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function k(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function S(u){const m={};for(const v in u)m[v]=u[v];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(u,m){let v,T;for(let j=1;j<arguments.length;j++){T=arguments[j];for(v in T)u[v]=T[v];for(let W=0;W<C.length;W++)v=C[W],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function O(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function U(u){d.setTimeout(()=>{throw u},0)}function A(){var u=ge;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class oe{constructor(){this.h=this.g=null}add(m,v){const T=Ve.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var Ve=new J(()=>new je,u=>u.reset());class je{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ke,K=!1,ge=new oe,ie=()=>{const u=d.Promise.resolve(void 0);ke=()=>{u.then(L)}};var L=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(v){U(v)}var m=Ve;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}K=!1};function H(){this.s=this.s,this.C=this.C}H.prototype.s=!1,H.prototype.ma=function(){this.s||(this.s=!0,this.N())},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var Ae=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function xe(u,m){if(pe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ve){e:{try{ne(m.nodeName);var j=!0;break e}catch{}j=!1}j||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:be[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&xe.aa.h.call(this)}}F(xe,pe);var be={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Le="closure_listenable_"+(1e6*Math.random()|0),ze=0;function Ke(u,m,v,T,j){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=j,this.key=++ze,this.da=this.fa=!1}function Rt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ar(u){this.src=u,this.g={},this.h=0}Ar.prototype.add=function(u,m,v,T,j){var W=u.toString();u=this.g[W],u||(u=this.g[W]=[],this.h++);var se=ri(u,m,T,j);return-1<se?(m=u[se],v||(m.fa=!1)):(m=new Ke(m,this.src,W,!!T,j),m.fa=v,u.push(m)),m};function qs(u,m){var v=m.type;if(v in u.g){var T=u.g[v],j=Array.prototype.indexOf.call(T,m,void 0),W;(W=0<=j)&&Array.prototype.splice.call(T,j,1),W&&(Rt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function ri(u,m,v,T){for(var j=0;j<u.length;++j){var W=u[j];if(!W.da&&W.listener==m&&W.capture==!!v&&W.ha==T)return j}return-1}var ns="closure_lm_"+(1e6*Math.random()|0),Ks={};function ga(u,m,v,T,j){if(Array.isArray(m)){for(var W=0;W<m.length;W++)ga(u,m[W],v,T,j);return null}return v=_a(v),u&&u[Le]?u.K(m,v,y(T)?!!T.capture:!1,j):ya(u,m,v,!1,T,j)}function ya(u,m,v,T,j,W){if(!m)throw Error("Invalid event type");var se=y(j)?!!j.capture:!!j,Qe=Qs(u);if(Qe||(u[ns]=Qe=new Ar(u)),v=Qe.add(m,v,T,se,W),v.proxy)return v;if(T=tu(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)Ae||(j=se),j===void 0&&(j=!1),u.addEventListener(m.toString(),T,j);else if(u.attachEvent)u.attachEvent(Pr(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function tu(){function u(v){return m.call(u.src,u.listener,v)}const m=va;return u}function Gs(u,m,v,T,j){if(Array.isArray(m))for(var W=0;W<m.length;W++)Gs(u,m[W],v,T,j);else T=y(T)?!!T.capture:!!T,v=_a(v),u&&u[Le]?(u=u.i,m=String(m).toString(),m in u.g&&(W=u.g[m],v=ri(W,v,T,j),-1<v&&(Rt(W[v]),Array.prototype.splice.call(W,v,1),W.length==0&&(delete u.g[m],u.h--)))):u&&(u=Qs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ri(m,v,T,j)),(v=-1<u?m[u]:null)&&Cr(v))}function Cr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Le])qs(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Pr(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=Qs(m))?(qs(v,u),v.h==0&&(v.src=null,m[ns]=null)):Rt(u)}}}function Pr(u){return u in Ks?Ks[u]:Ks[u]="on"+u}function va(u,m){if(u.da)u=!0;else{m=new xe(m,this);var v=u.listener,T=u.ha||u.src;u.fa&&Cr(u),u=v.call(T,m)}return u}function Qs(u){return u=u[ns],u instanceof Ar?u:null}var Ys="__closure_events_fn_"+(1e9*Math.random()>>>0);function _a(u){return typeof u=="function"?u:(u[Ys]||(u[Ys]=function(m){return u.handleEvent(m)}),u[Ys])}function vt(){H.call(this),this.i=new Ar(this),this.M=this,this.F=null}F(vt,H),vt.prototype[Le]=!0,vt.prototype.removeEventListener=function(u,m,v,T){Gs(this,u,m,v,T)};function _t(u,m){var v,T=u.F;if(T)for(v=[];T;T=T.F)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new pe(m,u);else if(m instanceof pe)m.target=m.target||u;else{var j=m;m=new pe(T,u),b(m,j)}if(j=!0,v)for(var W=v.length-1;0<=W;W--){var se=m.g=v[W];j=kr(se,T,!0,m)&&j}if(se=m.g=u,j=kr(se,T,!0,m)&&j,j=kr(se,T,!1,m)&&j,v)for(W=0;W<v.length;W++)se=m.g=v[W],j=kr(se,T,!1,m)&&j}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],T=0;T<v.length;T++)Rt(v[T]);delete u.g[m],u.h--}}this.F=null},vt.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},vt.prototype.L=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function kr(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var j=!0,W=0;W<m.length;++W){var se=m[W];if(se&&!se.da&&se.capture==v){var Qe=se.listener,wt=se.ha||se.src;se.fa&&qs(u.i,se),j=Qe.call(wt,T)!==!1&&j}}return j&&!T.defaultPrevented}function wa(u,m,v){if(typeof u=="function")v&&(u=I(u,v));else if(u&&typeof u.handleEvent=="function")u=I(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:d.setTimeout(u,m||0)}function ii(u){u.g=wa(()=>{u.g=null,u.i&&(u.i=!1,ii(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class rs extends H{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ii(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function is(u){H.call(this),this.h=u,this.g={}}F(is,H);var Ea=[];function Ta(u){ae(u.g,function(m,v){this.g.hasOwnProperty(v)&&Cr(m)},u),u.g={}}is.prototype.N=function(){is.aa.N.call(this),Ta(this)},is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ia=d.JSON.stringify,Sa=d.JSON.parse,Ra=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ss(){}ss.prototype.h=null;function Xs(u){return u.h||(u.h=u.i())}function Js(){}var In={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function sr(){pe.call(this,"d")}F(sr,pe);function Zs(){pe.call(this,"c")}F(Zs,pe);var or={},Aa=null;function os(){return Aa=Aa||new vt}or.La="serverreachability";function Ca(u){pe.call(this,or.La,u)}F(Ca,pe);function xr(u){const m=os();_t(m,new Ca(m))}or.STAT_EVENT="statevent";function Pa(u,m){pe.call(this,or.STAT_EVENT,u),this.stat=m}F(Pa,pe);function ut(u){const m=os();_t(m,new Pa(m,u))}or.Ma="timingevent";function eo(u,m){pe.call(this,or.Ma,u),this.size=m}F(eo,pe);function Mn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function as(){this.g=!0}as.prototype.xa=function(){this.g=!1};function ls(u,m,v,T,j,W){u.info(function(){if(u.g)if(W)for(var se="",Qe=W.split("&"),wt=0;wt<Qe.length;wt++){var $e=Qe[wt].split("=");if(1<$e.length){var At=$e[0];$e=$e[1];var ft=At.split("_");se=2<=ft.length&&ft[1]=="type"?se+(At+"="+$e+"&"):se+(At+"=redacted&")}}else se=null;else se=W;return"XMLHTTP REQ ("+T+") [attempt "+j+"]: "+m+`
`+v+`
`+se})}function to(u,m,v,T,j,W,se){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+j+"]: "+m+`
`+v+`
`+W+" "+se})}function Fn(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+jh(u,v)+(T?" "+T:"")})}function ka(u,m){u.info(function(){return"TIMEOUT: "+m})}as.prototype.info=function(){};function jh(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var T=v[u];if(!(2>T.length)){var j=T[1];if(Array.isArray(j)&&!(1>j.length)){var W=j[0];if(W!="noop"&&W!="stop"&&W!="close")for(var se=1;se<j.length;se++)j[se]=""}}}}return Ia(v)}catch{return m}}var no={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},nu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Un;function us(){}F(us,ss),us.prototype.g=function(){return new XMLHttpRequest},us.prototype.i=function(){return{}},Un=new us;function jn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.R=T||1,this.U=new is(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ru}function ru(){this.i=null,this.g="",this.h=!1}var xa={},ro={};function io(u,m,v){u.L=1,u.v=ui(pn(m)),u.m=v,u.P=!0,Na(u,null)}function Na(u,m){u.F=Date.now(),Xe(u),u.A=pn(u.v);var v=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),hi(v.i,"t",T),u.C=0,v=u.j.J,u.h=new ru,u.g=Eu(u.j,v?m:null,!u.m),0<u.O&&(u.M=new rs(I(u.Y,u,u.g),u.O)),m=u.U,v=u.g,T=u.ca;var j="readystatechange";Array.isArray(j)||(j&&(Ea[0]=j.toString()),j=Ea);for(var W=0;W<j.length;W++){var se=ga(v,j[W],T||m.handleEvent,!1,m.h||m);if(!se)break;m.g[se.key]=se}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),xr(),ls(u.i,u.u,u.A,u.l,u.R,u.m)}jn.prototype.ca=function(u){u=u.target;const m=this.M;m&&rn(u)==3?m.j():this.Y(u)},jn.prototype.Y=function(u){try{if(u==this.g)e:{const ft=rn(this.g);var m=this.g.Ba();const An=this.g.Z();if(!(3>ft)&&(ft!=3||this.g&&(this.h.h||this.g.oa()||Ma(this.g)))){this.J||ft!=4||m==7||(m==8||0>=An?xr(3):xr(2)),cs(this);var v=this.g.Z();this.X=v;t:if(iu(this)){var T=Ma(this.g);u="";var j=T.length,W=rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Sn(this),si(this);var se="";break t}this.h.i=new d.TextDecoder}for(m=0;m<j;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(W&&m==j-1)});T.length=0,this.h.g+=u,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=v==200,to(this.i,this.u,this.A,this.l,this.R,ft,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Qe,wt=this.g;if((Qe=wt.g?wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(Qe)){var $e=Qe;break t}}$e=null}if(v=$e)Fn(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ba(this,v);else{this.o=!1,this.s=3,ut(12),Sn(this),si(this);break e}}if(this.P){v=!0;let gn;for(;!this.J&&this.C<se.length;)if(gn=zh(this,se),gn==ro){ft==4&&(this.s=4,ut(14),v=!1),Fn(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==xa){this.s=4,ut(15),Fn(this.i,this.l,se,"[Invalid Chunk]"),v=!1;break}else Fn(this.i,this.l,gn,null),ba(this,gn);if(iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ft!=4||se.length!=0||this.h.h||(this.s=1,ut(16),v=!1),this.o=this.o&&v,!v)Fn(this.i,this.l,se,"[Invalid Chunked Response]"),Sn(this),si(this);else if(0<se.length&&!this.W){this.W=!0;var At=this.j;At.g==this&&At.ba&&!At.M&&(At.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Ua(At),At.M=!0,ut(11))}}else Fn(this.i,this.l,se,null),ba(this,se);ft==4&&Sn(this),this.o&&!this.J&&(ft==4?go(this.j,this):(this.o=!1,Xe(this)))}else co(this.g),v==400&&0<se.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),Sn(this),si(this)}}}catch{}finally{}};function iu(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function zh(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?ro:(v=Number(m.substring(v,T)),isNaN(v)?xa:(T+=1,T+v>m.length?ro:(m=m.slice(T,T+v),u.C=T+v,m)))}jn.prototype.cancel=function(){this.J=!0,Sn(this)};function Xe(u){u.S=Date.now()+u.I,su(u,u.I)}function su(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Mn(I(u.ba,u),m)}function cs(u){u.B&&(d.clearTimeout(u.B),u.B=null)}jn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ka(this.i,this.A),this.L!=2&&(xr(),ut(17)),Sn(this),this.s=2,si(this)):su(this,this.S-u)};function si(u){u.j.G==0||u.J||go(u.j,u)}function Sn(u){cs(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Ta(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ba(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||Qt(v.h,u))){if(!u.K&&Qt(v.h,u)&&v.G==3){try{var T=v.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var j=T;if(j[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)mo(v),Hn(v);else break e;po(v),ut(18)}}else v.za=j[1],0<v.za-v.T&&37500>j[2]&&v.F&&v.v==0&&!v.C&&(v.C=Mn(I(v.Za,v),6e3));if(1>=au(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Vr(v,11)}else if((u.K||v.g==u)&&mo(v),!Q(m))for(j=v.Da.g.parse(m),m=0;m<j.length;m++){let $e=j[m];if(v.T=$e[0],$e=$e[1],v.G==2)if($e[0]=="c"){v.K=$e[1],v.ia=$e[2];const At=$e[3];At!=null&&(v.la=At,v.j.info("VER="+v.la));const ft=$e[4];ft!=null&&(v.Aa=ft,v.j.info("SVER="+v.Aa));const An=$e[5];An!=null&&typeof An=="number"&&0<An&&(T=1.5*An,v.L=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const gn=u.g;if(gn){const ys=gn.g?gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ys){var W=T.h;W.g||ys.indexOf("spdy")==-1&&ys.indexOf("quic")==-1&&ys.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Da(W,W.h),W.h=null))}if(T.D){const vo=gn.g?gn.g.getResponseHeader("X-HTTP-Session-Id"):null;vo&&(T.ya=vo,Ye(T.I,T.D,vo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),T=v;var se=u;if(T.qa=wu(T,T.J?T.ia:null,T.W),se.K){lu(T.h,se);var Qe=se,wt=T.L;wt&&(Qe.I=wt),Qe.B&&(cs(Qe),Xe(Qe)),T.g=se}else gs(T);0<v.i.length&&cr(v)}else $e[0]!="stop"&&$e[0]!="close"||Vr(v,7);else v.G==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Vr(v,7):Dt(v):$e[0]!="noop"&&v.l&&v.l.ta($e),v.v=0)}}xr(4)}catch{}}var ou=class{constructor(u,m){this.g=u,this.map=m}};function hs(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function au(u){return u.h?1:u.g?u.g.size:0}function Qt(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Da(u,m){u.g?u.g.add(m):u.h=m}function lu(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}hs.prototype.cancel=function(){if(this.i=uu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function uu(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return M(u.i)}function so(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,T=0;T<v;T++)m.push(u[T]);return m}m=[],v=0;for(T in u)m[v++]=u[T];return m}function oo(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const T in u)m[v++]=T;return m}}}function oi(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=oo(u),T=so(u),j=T.length,W=0;W<j;W++)m.call(void 0,T[W],v&&v[W],u)}var ds=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bh(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var T=u[v].indexOf("="),j=null;if(0<=T){var W=u[v].substring(0,T);j=u[v].substring(T+1)}else W=u[v];m(W,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Nr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Nr){this.h=u.h,fs(this,u.j),this.o=u.o,this.g=u.g,ai(this,u.s),this.l=u.l;var m=u.i,v=new ar;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),li(this,v),this.m=u.m}else u&&(m=String(u).match(ds))?(this.h=!1,fs(this,m[1]||"",!0),this.o=Be(m[2]||""),this.g=Be(m[3]||"",!0),ai(this,m[4]),this.l=Be(m[5]||"",!0),li(this,m[6]||"",!0),this.m=Be(m[7]||"")):(this.h=!1,this.i=new ar(null,this.h))}Nr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(ci(m,ao,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ci(m,ao,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(ci(v,v.charAt(0)=="/"?du:hu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",ci(v,Oa)),u.join("")};function pn(u){return new Nr(u)}function fs(u,m,v){u.j=v?Be(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ai(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function li(u,m,v){m instanceof ar?(u.i=m,lr(u.i,u.h)):(v||(m=ci(m,fu)),u.i=new ar(m,u.h))}function Ye(u,m,v){u.i.set(m,v)}function ui(u){return Ye(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Be(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ci(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,cu),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function cu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ao=/[#\/\?@]/g,hu=/[#\?:]/g,du=/[#\?]/g,fu=/[#\?@]/g,Oa=/#/g;function ar(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function bt(u){u.g||(u.g=new Map,u.h=0,u.i&&Bh(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}n=ar.prototype,n.add=function(u,m){bt(this),this.i=null,u=Rn(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function zn(u,m){bt(u),m=Rn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Bn(u,m){return bt(u),m=Rn(u,m),u.g.has(m)}n.forEach=function(u,m){bt(this),this.g.forEach(function(v,T){v.forEach(function(j){u.call(m,j,T,this)},this)},this)},n.na=function(){bt(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let T=0;T<m.length;T++){const j=u[T];for(let W=0;W<j.length;W++)v.push(m[T])}return v},n.V=function(u){bt(this);let m=[];if(typeof u=="string")Bn(this,u)&&(m=m.concat(this.g.get(Rn(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},n.set=function(u,m){return bt(this),this.i=null,u=Rn(this,u),Bn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function hi(u,m,v){zn(u,m),0<v.length&&(u.i=null,u.g.set(Rn(u,m),M(v)),u.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var T=m[v];const W=encodeURIComponent(String(T)),se=this.V(T);for(T=0;T<se.length;T++){var j=W;se[T]!==""&&(j+="="+encodeURIComponent(String(se[T]))),u.push(j)}}return this.i=u.join("&")};function Rn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function lr(u,m){m&&!u.j&&(bt(u),u.i=null,u.g.forEach(function(v,T){var j=T.toLowerCase();T!=j&&(zn(this,T),hi(this,j,v))},u)),u.j=m}function $h(u,m){const v=new as;if(d.Image){const T=new Image;T.onload=D(nn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=D(nn,v,"TestLoadImage: error",!1,m,T),T.onabort=D(nn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=D(nn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function pu(u,m){const v=new as,T=new AbortController,j=setTimeout(()=>{T.abort(),nn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(W=>{clearTimeout(j),W.ok?nn(v,"TestPingServer: ok",!0,m):nn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),nn(v,"TestPingServer: error",!1,m)})}function nn(u,m,v,T,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),T(v)}catch{}}function Wh(){this.g=new Ra}function mu(u,m,v){const T=v||"";try{oi(u,function(j,W){let se=j;y(j)&&(se=Ia(j)),m.push(T+W+"="+encodeURIComponent(se))})}catch(j){throw m.push(T+"type="+encodeURIComponent("_badmap")),j}}function br(u){this.l=u.Ub||null,this.j=u.eb||!1}F(br,ss),br.prototype.g=function(){return new ps(this.l,this.j)},br.prototype.i=(function(u){return function(){return u}})({});function ps(u,m){vt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}F(ps,vt),n=ps.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Wn(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||d).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$n(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gu(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function gu(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?$n(this):Wn(this),this.readyState==3&&gu(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,$n(this))},n.Qa=function(u){this.g&&(this.response=u,$n(this))},n.ga=function(){this.g&&$n(this)};function $n(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Wn(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Wn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ps.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Dr(u){let m="";return ae(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function di(u,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=Dr(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):Ye(u,m,v))}function rt(u){vt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}F(rt,vt);var Hh=/^https?$/i,Va=["POST","PUT"];n=rt.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Un.g(),this.v=this.o?Xs(this.o):Xs(Un),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(W){ms(this,W);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var j in T)v.set(j,T[j]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const W of T.keys())v.set(W,T.get(W));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(W=>W.toLowerCase()=="content-type"),j=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Va,m,void 0))||T||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,se]of v)this.g.setRequestHeader(W,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{uo(this),this.u=!0,this.g.send(u),this.u=!1}catch(W){ms(this,W)}};function ms(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,lo(u),mn(u)}function lo(u){u.A||(u.A=!0,_t(u,"complete"),_t(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,_t(this,"complete"),_t(this,"abort"),mn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mn(this,!0)),rt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?La(this):this.bb())},n.bb=function(){La(this)};function La(u){if(u.h&&typeof c<"u"&&(!u.v[1]||rn(u)!=4||u.Z()!=2)){if(u.u&&rn(u)==4)wa(u.Ea,0,u);else if(_t(u,"readystatechange"),rn(u)==4){u.h=!1;try{const se=u.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=se===0){var j=String(u.D).match(ds)[1]||null;!j&&d.self&&d.self.location&&(j=d.self.location.protocol.slice(0,-1)),T=!Hh.test(j?j.toLowerCase():"")}v=T}if(v)_t(u,"complete"),_t(u,"success");else{u.m=6;try{var W=2<rn(u)?u.g.statusText:""}catch{W=""}u.l=W+" ["+u.Z()+"]",lo(u)}}finally{mn(u)}}}}function mn(u,m){if(u.g){uo(u);const v=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||_t(u,"ready");try{v.onreadystatechange=T}catch{}}}function uo(u){u.I&&(d.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function rn(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<rn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Sa(m)}};function Ma(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function co(u){const m={};u=(u.g&&2<=rn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(Q(u[T]))continue;var v=O(u[T]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const W=m[j]||[];m[j]=W,W.push(v)}k(m,function(T){return T.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ur(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Fa(u){this.Aa=0,this.i=[],this.j=new as,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ur("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ur("baseRetryDelayMs",5e3,u),this.cb=ur("retryDelaySeedMs",1e4,u),this.Wa=ur("forwardChannelMaxRetries",2,u),this.wa=ur("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new hs(u&&u.concurrentRequestLimit),this.Da=new Wh,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Fa.prototype,n.la=8,n.G=1,n.connect=function(u,m,v,T){ut(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.I=wu(this,null,this.W),cr(this)};function Dt(u){if(ho(u),u.G==3){var m=u.U++,v=pn(u.I);if(Ye(v,"SID",u.K),Ye(v,"RID",m),Ye(v,"TYPE","terminate"),Or(u,v),m=new jn(u,u.j,m),m.L=2,m.v=ui(pn(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.v,v=!0),v||(m.g=Eu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Xe(m)}_u(u)}function Hn(u){u.g&&(Ua(u),u.g.cancel(),u.g=null)}function ho(u){Hn(u),u.u&&(d.clearTimeout(u.u),u.u=null),mo(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function cr(u){if(!fn(u.h)&&!u.s){u.s=!0;var m=u.Ga;ke||ie(),K||(ke(),K=!0),ge.add(m,u),u.B=0}}function qh(u,m){return au(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Mn(I(u.Ga,u,m),vu(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const j=new jn(this,this.j,u);let W=this.o;if(this.S&&(W?(W=S(W),b(W,this.S)):W=this.S),this.m!==null||this.O||(j.H=W,W=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=fi(this,j,m),v=pn(this.I),Ye(v,"RID",u),Ye(v,"CVER",22),this.D&&Ye(v,"X-HTTP-Session-Id",this.D),Or(this,v),W&&(this.O?m="headers="+encodeURIComponent(String(Dr(W)))+"&"+m:this.m&&di(v,this.m,W)),Da(this.h,j),this.Ua&&Ye(v,"TYPE","init"),this.P?(Ye(v,"$req",m),Ye(v,"SID","null"),j.T=!0,io(j,v,null)):io(j,v,m),this.G=2}}else this.G==3&&(u?fo(this,u):this.i.length==0||fn(this.h)||fo(this))};function fo(u,m){var v;m?v=m.l:v=u.U++;const T=pn(u.I);Ye(T,"SID",u.K),Ye(T,"RID",v),Ye(T,"AID",u.T),Or(u,T),u.m&&u.o&&di(T,u.m,u.o),v=new jn(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=fi(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Da(u.h,v),io(v,T,m)}function Or(u,m){u.H&&ae(u.H,function(v,T){Ye(m,T,v)}),u.l&&oi({},function(v,T){Ye(m,T,v)})}function fi(u,m,v){v=Math.min(u.i.length,v);var T=u.l?I(u.l.Na,u.l,u):null;e:{var j=u.i;let W=-1;for(;;){const se=["count="+v];W==-1?0<v?(W=j[0].g,se.push("ofs="+W)):W=0:se.push("ofs="+W);let Qe=!0;for(let wt=0;wt<v;wt++){let $e=j[wt].g;const At=j[wt].map;if($e-=W,0>$e)W=Math.max(0,j[wt].g-100),Qe=!1;else try{mu(At,se,"req"+$e+"_")}catch{T&&T(At)}}if(Qe){T=se.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,T}function gs(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;ke||ie(),K||(ke(),K=!0),ge.add(m,u),u.v=0}}function po(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Mn(I(u.Fa,u),vu(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,yu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Mn(I(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),Hn(this),yu(this))};function Ua(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function yu(u){u.g=new jn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=pn(u.qa);Ye(m,"RID","rpc"),Ye(m,"SID",u.K),Ye(m,"AID",u.T),Ye(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ye(m,"TO",u.ja),Ye(m,"TYPE","xmlhttp"),Or(u,m),u.m&&u.o&&di(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=ui(pn(m)),v.m=null,v.P=!0,Na(v,u)}n.Za=function(){this.C!=null&&(this.C=null,Hn(this),po(this),ut(19))};function mo(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function go(u,m){var v=null;if(u.g==m){mo(u),Ua(u),u.g=null;var T=2}else if(Qt(u.h,m))v=m.D,lu(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var j=u.B;T=os(),_t(T,new eo(T,v)),cr(u)}else gs(u);else if(j=m.s,j==3||j==0&&0<m.X||!(T==1&&qh(u,m)||T==2&&po(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),j){case 1:Vr(u,5);break;case 4:Vr(u,10);break;case 3:Vr(u,6);break;default:Vr(u,2)}}}function vu(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function Vr(u,m){if(u.j.info("Error code "+m),m==2){var v=I(u.fb,u),T=u.Xa;const j=!T;T=new Nr(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||fs(T,"https"),ui(T),j?$h(T.toString(),v):pu(T.toString(),v)}else ut(2);u.G=0,u.l&&u.l.sa(m),_u(u),ho(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function _u(u){if(u.G=0,u.ka=[],u.l){const m=uu(u.h);(m.length!=0||u.i.length!=0)&&(P(u.ka,m),P(u.ka,u.i),u.h.i.length=0,M(u.i),u.i.length=0),u.l.ra()}}function wu(u,m,v){var T=v instanceof Nr?pn(v):new Nr(v);if(T.g!="")m&&(T.g=m+"."+T.g),ai(T,T.s);else{var j=d.location;T=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;var W=new Nr(null);T&&fs(W,T),m&&(W.g=m),j&&ai(W,j),v&&(W.l=v),T=W}return v=u.D,m=u.ya,v&&m&&Ye(T,v,m),Ye(T,"VER",u.la),Or(u,T),T}function Eu(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new rt(new br({eb:v})):new rt(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ja(){}n=ja.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function yo(){}yo.prototype.g=function(u,m){return new Yt(u,m)};function Yt(u,m){vt.call(this),this.g=new Fa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!Q(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!Q(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new hr(this)}F(Yt,vt),Yt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yt.prototype.close=function(){Dt(this.g)},Yt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=Ia(u),u=v);m.i.push(new ou(m.Ya++,u)),m.G==3&&cr(m)},Yt.prototype.N=function(){this.g.l=null,delete this.j,Dt(this.g),delete this.g,Yt.aa.N.call(this)};function Tu(u){sr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}F(Tu,sr);function Iu(){Zs.call(this),this.status=1}F(Iu,Zs);function hr(u){this.g=u}F(hr,ja),hr.prototype.ua=function(){_t(this.g,"a")},hr.prototype.ta=function(u){_t(this.g,new Tu(u))},hr.prototype.sa=function(u){_t(this.g,new Iu)},hr.prototype.ra=function(){_t(this.g,"b")},yo.prototype.createWebChannel=yo.prototype.g,Yt.prototype.send=Yt.prototype.o,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,gE=function(){return new yo},mE=function(){return os()},pE=or,Gf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},no.NO_ERROR=0,no.TIMEOUT=8,no.HTTP_ERROR=6,Dc=no,nu.COMPLETE="complete",fE=nu,Js.EventType=In,In.OPEN="a",In.CLOSE="b",In.ERROR="c",In.MESSAGE="d",vt.prototype.listen=vt.prototype.K,fl=Js,rt.prototype.listenOnce=rt.prototype.L,rt.prototype.getLastError=rt.prototype.Ka,rt.prototype.getLastErrorCode=rt.prototype.Ba,rt.prototype.getStatus=rt.prototype.Z,rt.prototype.getResponseJson=rt.prototype.Oa,rt.prototype.getResponseText=rt.prototype.oa,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Ha,dE=rt}).apply(typeof vc<"u"?vc:typeof self<"u"?self:typeof window<"u"?window:{});const Fv="@firebase/firestore",Uv="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aa="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=new kp("@firebase/firestore");function jo(){return Fs.logLevel}function de(n,...e){if(Fs.logLevel<=Fe.DEBUG){const t=e.map(Bp);Fs.debug(`Firestore (${aa}): ${n}`,...t)}}function Zr(n,...e){if(Fs.logLevel<=Fe.ERROR){const t=e.map(Bp);Fs.error(`Firestore (${aa}): ${n}`,...t)}}function Yo(n,...e){if(Fs.logLevel<=Fe.WARN){const t=e.map(Bp);Fs.warn(`Firestore (${aa}): ${n}`,...t)}}function Bp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,yE(n,i,t)}function yE(n,e,t){let i=`FIRESTORE (${aa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Zr(i),new Error(i)}function Ge(n,e,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,n||yE(e,o,i)}function Pe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Ir{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class r1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ht.UNAUTHENTICATED)))}shutdown(){}}class i1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class s1{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ge(this.o===void 0,42304);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let a=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Gr,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=a;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},d=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Gr)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ge(typeof i.accessToken=="string",31837,{l:i}),new vE(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new Ht(e)}}class o1{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class a1{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new o1(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Ht.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class jv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class l1{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ge(this.o===void 0,3512);const i=a=>{a.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.m;return this.m=a.token,de("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>i(a)))};const o=a=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new jv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ge(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new jv(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=u1(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<t&&(i+=e.charAt(o[a]%62))}return i}}function De(n,e){return n<e?-1:n>e?1:0}function Qf(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),o=e.codePointAt(t);if(i!==o){if(i<128&&o<128)return De(i,o);{const a=_E(),c=c1(a.encode(zv(n,t)),a.encode(zv(e,t)));return c!==0?c:De(i,o)}}t+=i>65535?2:1}return De(n.length,e.length)}function zv(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function c1(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return De(n[t],e[t]);return De(n.length,e.length)}function Xo(n,e,t){return n.length===e.length&&n.every(((i,o)=>t(i,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv=-62135596800,$v=1e6;class It{static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*$v);return new It(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ue(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ue(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Bv)throw new ue(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$v}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Bv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new It(0,0))}static max(){return new Ce(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="__name__";class gr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Se(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Se(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return gr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof gr?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const a=gr.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return De(e.length,t.length)}static compareSegments(e,t){const i=gr.isNumericId(e),o=gr.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?gr.extractNumericId(e).compare(gr.extractNumericId(t)):Qf(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ji.fromString(e.substring(4,e.length-2))}}class nt extends gr{construct(e,t,i){return new nt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ue(q.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((o=>o.length>0)))}return new nt(t)}static emptyPath(){return new nt([])}}const h1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends gr{construct(e,t,i){return new Ft(e,t,i)}static isValidIdentifier(e){return h1.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Wv}static keyField(){return new Ft([Wv])}static fromServerFormat(e){const t=[];let i="",o=0;const a=()=>{if(i.length===0)throw new ue(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new ue(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ue(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(i+=d,o++):(a(),o++)}if(a(),c)throw new ue(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(t)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(nt.fromString(e))}static fromName(e){return new we(nt.fromString(e).popFirst(5))}static empty(){return new we(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return nt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new nt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl=-1;function d1(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(i===1e9?new It(t+1,0):new It(t,i));return new $i(o,we.empty(),e)}function f1(n){return new $i(n.readTime,n.key,Nl)}class $i{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new $i(Ce.min(),we.empty(),Nl)}static max(){return new $i(Ce.max(),we.empty(),Nl)}}function p1(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(n.documentKey,e.documentKey),t!==0?t:De(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class g1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function la(n){if(n.code!==q.FAILED_PRECONDITION||n.message!==m1)throw n;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new G(((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof G?t:G.resolve(t)}catch(t){return G.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):G.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):G.reject(t)}static resolve(e){return new G(((t,i)=>{t(e)}))}static reject(e){return new G(((t,i)=>{i(e)}))}static waitFor(e){return new G(((t,i)=>{let o=0,a=0,c=!1;e.forEach((d=>{++o,d.next((()=>{++a,c&&a===o&&t()}),(p=>i(p)))})),c=!0,a===o&&t()}))}static or(e){let t=G.resolve(!1);for(const i of e)t=t.next((o=>o?G.resolve(o):i()));return t}static forEach(e,t){const i=[];return e.forEach(((o,a)=>{i.push(t.call(this,o,a))})),this.waitFor(i)}static mapArray(e,t){return new G(((i,o)=>{const a=e.length,c=new Array(a);let d=0;for(let p=0;p<a;p++){const y=p;t(e[y]).next((_=>{c[y]=_,++d,d===a&&i(c)}),(_=>o(_)))}}))}static doWhile(e,t){return new G(((i,o)=>{const a=()=>{e()===!0?t().next((()=>{a()}),o):i()};a()}))}}function y1(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ua(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}_h.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p=-1;function wh(n){return n==null}function Yc(n){return n===0&&1/n==-1/0}function v1(n){return typeof n=="number"&&Number.isInteger(n)&&!Yc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="";function _1(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Hv(e)),e=w1(n.get(t),e);return Hv(e)}function w1(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case EE:t+="";break;default:t+=a}}return t}function Hv(n){return n+EE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Zi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function TE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,t){this.comparator=e,this.root=t||Mt.EMPTY}insert(e,t){return new at(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Mt.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _c(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _c(this.root,e,this.comparator,!1)}getReverseIterator(){return new _c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _c(this.root,e,this.comparator,!0)}}class _c{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mt{constructor(e,t,i,o,a){this.key=e,this.value=t,this.color=i??Mt.RED,this.left=o??Mt.EMPTY,this.right=a??Mt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,a){return new Mt(e??this.key,t??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,i),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Mt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Mt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}Mt.EMPTY=null,Mt.RED=!0,Mt.BLACK=!1;Mt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,t,i,o,a){return this}insert(e,t,i){return new Mt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Kv(this.data.getIterator())}getIteratorFrom(e){return new Kv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof St)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new St(this.comparator);return t.data=e,t}}class Kv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new En([])}unionWith(e){let t=new St(Ft.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new En(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Xo(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new IE("Invalid base64 string: "+a):a}})(e);return new Ut(t)}static fromUint8Array(e){const t=(function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a})(e);return new Ut(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ut.EMPTY_BYTE_STRING=new Ut("");const E1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wi(n){if(Ge(!!n,39018),typeof n=="string"){let e=0;const t=E1.exec(n);if(Ge(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:dt(n.seconds),nanos:dt(n.nanos)}}function dt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Hi(n){return typeof n=="string"?Ut.fromBase64String(n):Ut.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="server_timestamp",RE="__type__",AE="__previous_value__",CE="__local_write_time__";function Wp(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[RE])===null||t===void 0?void 0:t.stringValue)===SE}function Eh(n){const e=n.mapValue.fields[AE];return Wp(e)?Eh(e):e}function bl(n){const e=Wi(n.mapValue.fields[CE].timestampValue);return new It(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e,t,i,o,a,c,d,p,y,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=_}}const Xc="(default)";class Dl{constructor(e,t){this.projectId=e,this.database=t||Xc}static empty(){return new Dl("","")}get isDefaultDatabase(){return this.database===Xc}isEqual(e){return e instanceof Dl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="__type__",I1="__max__",wc={mapValue:{}},kE="__vector__",Jc="value";function qi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Wp(n)?4:R1(n)?9007199254740991:S1(n)?10:11:Se(28295,{value:n})}function wr(n,e){if(n===e)return!0;const t=qi(n);if(t!==qi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return bl(n).isEqual(bl(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=Wi(o.timestampValue),d=Wi(a.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,a){return Hi(o.bytesValue).isEqual(Hi(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,a){return dt(o.geoPointValue.latitude)===dt(a.geoPointValue.latitude)&&dt(o.geoPointValue.longitude)===dt(a.geoPointValue.longitude)})(n,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return dt(o.integerValue)===dt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=dt(o.doubleValue),d=dt(a.doubleValue);return c===d?Yc(c)===Yc(d):isNaN(c)&&isNaN(d)}return!1})(n,e);case 9:return Xo(n.arrayValue.values||[],e.arrayValue.values||[],wr);case 10:case 11:return(function(o,a){const c=o.mapValue.fields||{},d=a.mapValue.fields||{};if(qv(c)!==qv(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!wr(c[p],d[p])))return!1;return!0})(n,e);default:return Se(52216,{left:n})}}function Ol(n,e){return(n.values||[]).find((t=>wr(t,e)))!==void 0}function Jo(n,e){if(n===e)return 0;const t=qi(n),i=qi(e);if(t!==i)return De(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return De(n.booleanValue,e.booleanValue);case 2:return(function(a,c){const d=dt(a.integerValue||a.doubleValue),p=dt(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(n,e);case 3:return Gv(n.timestampValue,e.timestampValue);case 4:return Gv(bl(n),bl(e));case 5:return Qf(n.stringValue,e.stringValue);case 6:return(function(a,c){const d=Hi(a),p=Hi(c);return d.compareTo(p)})(n.bytesValue,e.bytesValue);case 7:return(function(a,c){const d=a.split("/"),p=c.split("/");for(let y=0;y<d.length&&y<p.length;y++){const _=De(d[y],p[y]);if(_!==0)return _}return De(d.length,p.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,c){const d=De(dt(a.latitude),dt(c.latitude));return d!==0?d:De(dt(a.longitude),dt(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Qv(n.arrayValue,e.arrayValue);case 10:return(function(a,c){var d,p,y,_;const E=a.fields||{},I=c.fields||{},D=(d=E[Jc])===null||d===void 0?void 0:d.arrayValue,F=(p=I[Jc])===null||p===void 0?void 0:p.arrayValue,M=De(((y=D?.values)===null||y===void 0?void 0:y.length)||0,((_=F?.values)===null||_===void 0?void 0:_.length)||0);return M!==0?M:Qv(D,F)})(n.mapValue,e.mapValue);case 11:return(function(a,c){if(a===wc.mapValue&&c===wc.mapValue)return 0;if(a===wc.mapValue)return 1;if(c===wc.mapValue)return-1;const d=a.fields||{},p=Object.keys(d),y=c.fields||{},_=Object.keys(y);p.sort(),_.sort();for(let E=0;E<p.length&&E<_.length;++E){const I=Qf(p[E],_[E]);if(I!==0)return I;const D=Jo(d[p[E]],y[_[E]]);if(D!==0)return D}return De(p.length,_.length)})(n.mapValue,e.mapValue);default:throw Se(23264,{Pe:t})}}function Gv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return De(n,e);const t=Wi(n),i=Wi(e),o=De(t.seconds,i.seconds);return o!==0?o:De(t.nanos,i.nanos)}function Qv(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const a=Jo(t[o],i[o]);if(a)return a}return De(t.length,i.length)}function Zo(n){return Yf(n)}function Yf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=Wi(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Hi(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return we.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",o=!0;for(const a of t.values||[])o?o=!1:i+=",",i+=Yf(a);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const c of i)a?a=!1:o+=",",o+=`${c}:${Yf(t.fields[c])}`;return o+"}"})(n.mapValue):Se(61005,{value:n})}function Oc(n){switch(qi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Eh(n);return e?16+Oc(e):16;case 5:return 2*n.stringValue.length;case 6:return Hi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,a)=>o+Oc(a)),0)})(n.arrayValue);case 10:case 11:return(function(i){let o=0;return Zi(i.fields,((a,c)=>{o+=a.length+Oc(c)})),o})(n.mapValue);default:throw Se(13486,{value:n})}}function Yv(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Xf(n){return!!n&&"integerValue"in n}function Hp(n){return!!n&&"arrayValue"in n}function Xv(n){return!!n&&"nullValue"in n}function Jv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Vc(n){return!!n&&"mapValue"in n}function S1(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[PE])===null||t===void 0?void 0:t.stringValue)===kE}function wl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Zi(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=wl(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=wl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function R1(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===I1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Vc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wl(t)}setAll(e){let t=Ft.emptyPath(),i={},o=[];e.forEach(((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=d.popLast()}c?i[d.lastSegment()]=wl(c):o.push(d.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,i,o)}delete(e){const t=this.field(e.popLast());Vc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return wr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Vc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Zi(t,((o,a)=>e[o]=a));for(const o of i)delete e[o]}clone(){return new dn(wl(this.value))}}function xE(n){const e=[];return Zi(n.fields,((t,i)=>{const o=new Ft([t]);if(Vc(i)){const a=xE(i.mapValue).fields;if(a.length===0)e.push(o);else for(const c of a)e.push(o.child(c))}else e.push(o)})),new En(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,t,i,o,a,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=a,this.data=c,this.documentState=d}static newInvalidDocument(e){return new qt(e,0,Ce.min(),Ce.min(),Ce.min(),dn.empty(),0)}static newFoundDocument(e,t,i,o){return new qt(e,1,t,Ce.min(),i,o,0)}static newNoDocument(e,t){return new qt(e,2,t,Ce.min(),Ce.min(),dn.empty(),0)}static newUnknownDocument(e,t){return new qt(e,3,t,Ce.min(),Ce.min(),dn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,t){this.position=e,this.inclusive=t}}function Zv(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const a=e[o],c=n.position[o];if(a.field.isKeyField()?i=we.comparator(we.fromName(c.referenceValue),t.key):i=Jo(c,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function e_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!wr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,t="asc"){this.field=e,this.dir=t}}function A1(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{}class gt extends NE{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new P1(e,t,i):t==="array-contains"?new N1(e,i):t==="in"?new b1(e,i):t==="not-in"?new D1(e,i):t==="array-contains-any"?new O1(e,i):new gt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new k1(e,i):new x1(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Jo(t,this.value)):t!==null&&qi(this.value)===qi(t)&&this.matchesComparison(Jo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ir extends NE{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new ir(e,t)}matches(e){return bE(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function bE(n){return n.op==="and"}function DE(n){return C1(n)&&bE(n)}function C1(n){for(const e of n.filters)if(e instanceof ir)return!1;return!0}function Jf(n){if(n instanceof gt)return n.field.canonicalString()+n.op.toString()+Zo(n.value);if(DE(n))return n.filters.map((e=>Jf(e))).join(",");{const e=n.filters.map((t=>Jf(t))).join(",");return`${n.op}(${e})`}}function OE(n,e){return n instanceof gt?(function(i,o){return o instanceof gt&&i.op===o.op&&i.field.isEqual(o.field)&&wr(i.value,o.value)})(n,e):n instanceof ir?(function(i,o){return o instanceof ir&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((a,c,d)=>a&&OE(c,o.filters[d])),!0):!1})(n,e):void Se(19439)}function VE(n){return n instanceof gt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Zo(t.value)}`})(n):n instanceof ir?(function(t){return t.op.toString()+" {"+t.getFilters().map(VE).join(" ,")+"}"})(n):"Filter"}class P1 extends gt{constructor(e,t,i){super(e,t,i),this.key=we.fromName(i.referenceValue)}matches(e){const t=we.comparator(e.key,this.key);return this.matchesComparison(t)}}class k1 extends gt{constructor(e,t){super(e,"in",t),this.keys=LE("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class x1 extends gt{constructor(e,t){super(e,"not-in",t),this.keys=LE("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function LE(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((i=>we.fromName(i.referenceValue)))}class N1 extends gt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Hp(t)&&Ol(t.arrayValue,this.value)}}class b1 extends gt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ol(this.value.arrayValue,t)}}class D1 extends gt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ol(this.value.arrayValue,t)}}class O1 extends gt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Hp(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>Ol(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e,t=null,i=[],o=[],a=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=c,this.endAt=d,this.Ie=null}}function t_(n,e=null,t=[],i=[],o=null,a=null,c=null){return new V1(n,e,t,i,o,a,c)}function qp(n){const e=Pe(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>Jf(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(a){return a.field.canonicalString()+a.dir})(i))).join(","),wh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>Zo(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>Zo(i))).join(",")),e.Ie=t}return e.Ie}function Kp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!A1(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!OE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!e_(n.startAt,e.startAt)&&e_(n.endAt,e.endAt)}function Zf(n){return we.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,t=null,i=[],o=[],a=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=c,this.startAt=d,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function L1(n,e,t,i,o,a,c,d){return new ca(n,e,t,i,o,a,c,d)}function Th(n){return new ca(n)}function n_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function ME(n){return n.collectionGroup!==null}function El(n){const e=Pe(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new St(Ft.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(d=d.add(y.field))}))})),d})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new Vl(a,i))})),t.has(Ft.keyField().canonicalString())||e.Ee.push(new Vl(Ft.keyField(),i))}return e.Ee}function vr(n){const e=Pe(n);return e.de||(e.de=M1(e,El(n))),e.de}function M1(n,e){if(n.limitType==="F")return t_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new Vl(o.field,a)}));const t=n.endAt?new Zc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Zc(n.startAt.position,n.startAt.inclusive):null;return t_(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function ep(n,e){const t=n.filters.concat([e]);return new ca(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function tp(n,e,t){return new ca(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ih(n,e){return Kp(vr(n),vr(e))&&n.limitType===e.limitType}function FE(n){return`${qp(vr(n))}|lt:${n.limitType}`}function zo(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((o=>VE(o))).join(", ")}]`),wh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((o=>Zo(o))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((o=>Zo(o))).join(",")),`Target(${i})`})(vr(n))}; limitType=${n.limitType})`}function Sh(n,e){return e.isFoundDocument()&&(function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):we.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)})(n,e)&&(function(i,o){for(const a of El(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0})(n,e)&&(function(i,o){return!(i.startAt&&!(function(c,d,p){const y=Zv(c,d,p);return c.inclusive?y<=0:y<0})(i.startAt,El(i),o)||i.endAt&&!(function(c,d,p){const y=Zv(c,d,p);return c.inclusive?y>=0:y>0})(i.endAt,El(i),o))})(n,e)}function F1(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function UE(n){return(e,t)=>{let i=!1;for(const o of El(n)){const a=U1(o,e,t);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function U1(n,e,t){const i=n.field.isKeyField()?we.comparator(e.key,t.key):(function(a,c,d){const p=c.data.field(a),y=d.data.field(a);return p!==null&&y!==null?Jo(p,y):Se(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Se(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Zi(this.inner,((t,i)=>{for(const[o,a]of i)e(o,a)}))}isEmpty(){return TE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=new at(we.comparator);function ei(){return j1}const jE=new at(we.comparator);function pl(...n){let e=jE;for(const t of n)e=e.insert(t.key,t);return e}function zE(n){let e=jE;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function Vs(){return Tl()}function BE(){return Tl()}function Tl(){return new $s((n=>n.toString()),((n,e)=>n.isEqual(e)))}const z1=new at(we.comparator),B1=new St(we.comparator);function Ue(...n){let e=B1;for(const t of n)e=e.add(t);return e}const $1=new St(De);function W1(){return $1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yc(e)?"-0":e}}function $E(n){return{integerValue:""+n}}function H1(n,e){return v1(e)?$E(e):Gp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(){this._=void 0}}function q1(n,e,t){return n instanceof Ll?(function(o,a){const c={fields:{[RE]:{stringValue:SE},[CE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Wp(a)&&(a=Eh(a)),a&&(c.fields[AE]=a),{mapValue:c}})(t,e):n instanceof ea?HE(n,e):n instanceof ta?qE(n,e):(function(o,a){const c=WE(o,a),d=r_(c)+r_(o.Re);return Xf(c)&&Xf(o.Re)?$E(d):Gp(o.serializer,d)})(n,e)}function K1(n,e,t){return n instanceof ea?HE(n,e):n instanceof ta?qE(n,e):t}function WE(n,e){return n instanceof eh?(function(i){return Xf(i)||(function(a){return!!a&&"doubleValue"in a})(i)})(e)?e:{integerValue:0}:null}class Ll extends Rh{}class ea extends Rh{constructor(e){super(),this.elements=e}}function HE(n,e){const t=KE(e);for(const i of n.elements)t.some((o=>wr(o,i)))||t.push(i);return{arrayValue:{values:t}}}class ta extends Rh{constructor(e){super(),this.elements=e}}function qE(n,e){let t=KE(e);for(const i of n.elements)t=t.filter((o=>!wr(o,i)));return{arrayValue:{values:t}}}class eh extends Rh{constructor(e,t){super(),this.serializer=e,this.Re=t}}function r_(n){return dt(n.integerValue||n.doubleValue)}function KE(n){return Hp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,t){this.field=e,this.transform=t}}function G1(n,e){return n.field.isEqual(e.field)&&(function(i,o){return i instanceof ea&&o instanceof ea||i instanceof ta&&o instanceof ta?Xo(i.elements,o.elements,wr):i instanceof eh&&o instanceof eh?wr(i.Re,o.Re):i instanceof Ll&&o instanceof Ll})(n.transform,e.transform)}class Q1{constructor(e,t){this.version=e,this.transformResults=t}}class en{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new en}static exists(e){return new en(void 0,e)}static updateTime(e){return new en(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Ah{}function GE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Ch(n.key,en.none()):new ql(n.key,n.data,en.none());{const t=n.data,i=dn.empty();let o=new St(Ft.comparator);for(let a of e.fields)if(!o.has(a)){let c=t.field(a);c===null&&a.length>1&&(a=a.popLast(),c=t.field(a)),c===null?i.delete(a):i.set(a,c),o=o.add(a)}return new es(n.key,i,new En(o.toArray()),en.none())}}function Y1(n,e,t){n instanceof ql?(function(o,a,c){const d=o.value.clone(),p=s_(o.fieldTransforms,a,c.transformResults);d.setAll(p),a.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(n,e,t):n instanceof es?(function(o,a,c){if(!Lc(o.precondition,a))return void a.convertToUnknownDocument(c.version);const d=s_(o.fieldTransforms,a,c.transformResults),p=a.data;p.setAll(QE(o)),p.setAll(d),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,e,t):(function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Il(n,e,t,i){return n instanceof ql?(function(a,c,d,p){if(!Lc(a.precondition,c))return d;const y=a.value.clone(),_=o_(a.fieldTransforms,p,c);return y.setAll(_),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null})(n,e,t,i):n instanceof es?(function(a,c,d,p){if(!Lc(a.precondition,c))return d;const y=o_(a.fieldTransforms,p,c),_=c.data;return _.setAll(QE(a)),_.setAll(y),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((E=>E.field)))})(n,e,t,i):(function(a,c,d){return Lc(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(n,e,t)}function X1(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),a=WE(i.transform,o||null);a!=null&&(t===null&&(t=dn.empty()),t.set(i.field,a))}return t||null}function i_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Xo(i,o,((a,c)=>G1(a,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class ql extends Ah{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class es extends Ah{constructor(e,t,i,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function QE(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function s_(n,e,t){const i=new Map;Ge(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let o=0;o<t.length;o++){const a=n[o],c=a.transform,d=e.data.field(a.field);i.set(a.field,K1(c,d,t[o]))}return i}function o_(n,e,t){const i=new Map;for(const o of n){const a=o.transform,c=t.data.field(o.field);i.set(o.field,q1(a,c,e))}return i}class Ch extends Ah{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class J1 extends Ah{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&Y1(a,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Il(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Il(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=BE();return this.mutations.forEach((o=>{const a=e.get(o.key),c=a.overlayedDocument;let d=this.applyToLocalView(c,a.mutatedFields);d=t.has(o.key)?null:d;const p=GE(c,d);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Ce.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&Xo(this.mutations,e.mutations,((t,i)=>i_(t,i)))&&Xo(this.baseMutations,e.baseMutations,((t,i)=>i_(t,i)))}}class Yp{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Ge(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let o=(function(){return z1})();const a=e.mutations;for(let c=0;c<a.length;c++)o=o.insert(a[c].key,i[c].version);return new Yp(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt,We;function nk(n){switch(n){case q.OK:return Se(64938);case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0;default:return Se(15467,{code:n})}}function YE(n){if(n===void 0)return Zr("GRPC error has no .code"),q.UNKNOWN;switch(n){case mt.OK:return q.OK;case mt.CANCELLED:return q.CANCELLED;case mt.UNKNOWN:return q.UNKNOWN;case mt.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case mt.INTERNAL:return q.INTERNAL;case mt.UNAVAILABLE:return q.UNAVAILABLE;case mt.UNAUTHENTICATED:return q.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case mt.NOT_FOUND:return q.NOT_FOUND;case mt.ALREADY_EXISTS:return q.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return q.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case mt.ABORTED:return q.ABORTED;case mt.OUT_OF_RANGE:return q.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return q.UNIMPLEMENTED;case mt.DATA_LOSS:return q.DATA_LOSS;default:return Se(39323,{code:n})}}(We=mt||(mt={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk=new ji([4294967295,4294967295],0);function a_(n){const e=_E().encode(n),t=new hE;return t.update(e),new Uint8Array(t.digest())}function l_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ji([t,i],0),new ji([o,a],0)]}class Xp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new ml(`Invalid padding: ${t}`);if(i<0)throw new ml(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ml(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new ml(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=ji.fromNumber(this.pe)}we(e,t,i){let o=e.add(t.multiply(ji.fromNumber(i)));return o.compare(rk)===1&&(o=new ji([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=a_(e),[i,o]=l_(t);for(let a=0;a<this.hashCount;a++){const c=this.we(i,o,a);if(!this.be(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new Xp(a,o,t);return i.forEach((d=>c.insert(d))),c}insert(e){if(this.pe===0)return;const t=a_(e),[i,o]=l_(t);for(let a=0;a<this.hashCount;a++){const c=this.we(i,o,a);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,t,i,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Kl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Ph(Ce.min(),o,new at(De),ei(),Ue())}}class Kl{constructor(e,t,i,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Kl(i,t,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,t,i,o){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=o}}class XE{constructor(e,t){this.targetId=e,this.Ce=t}}class JE{constructor(e,t,i=Ut.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class u_{constructor(){this.Fe=0,this.Me=c_(),this.xe=Ut.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ue(),t=Ue(),i=Ue();return this.Me.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Se(38017,{changeType:a})}})),new Kl(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=c_()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ge(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class ik{constructor(e){this.ze=e,this.je=new Map,this.He=ei(),this.Je=Ec(),this.Ye=Ec(),this.Ze=new at(De)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,(t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach(((i,o)=>{this.it(o)&&t(o)}))}ot(e){const t=e.targetId,i=e.Ce.count,o=this._t(t);if(o){const a=o.target;if(Zf(a))if(i===0){const c=new we(a.path);this.tt(t,c,qt.newNoDocument(c,Ce.min()))}else Ge(i===1,20013,{expectedCount:i});else{const c=this.ut(t);if(c!==i){const d=this.ct(e),p=d?this.lt(d,e,c):1;if(p!==0){this.st(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,y)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=t;let c,d;try{c=Hi(i).toUint8Array()}catch(p){if(p instanceof IE)return Yo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Xp(c,o,a)}catch(p){return Yo(p instanceof ml?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.pe===0?null:d}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let o=0;return i.forEach((a=>{const c=this.ze.Pt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.tt(t,a,null),o++)})),o}It(e){const t=new Map;this.je.forEach(((a,c)=>{const d=this._t(c);if(d){if(a.current&&Zf(d.target)){const p=new we(d.target.path);this.Et(p).has(c)||this.dt(c,p)||this.tt(c,p,qt.newNoDocument(p,e))}a.Le&&(t.set(c,a.qe()),a.Qe())}}));let i=Ue();this.Ye.forEach(((a,c)=>{let d=!0;c.forEachWhile((p=>{const y=this._t(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(i=i.add(a))})),this.He.forEach(((a,c)=>c.setReadTime(e)));const o=new Ph(e,t,this.Ze,this.He,i);return this.He=ei(),this.Je=Ec(),this.Ye=Ec(),this.Ze=new at(De),o}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const o=this.rt(e);this.dt(e,t)?o.$e(t,1):o.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new u_,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new St(De),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new St(De),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new u_),this.ze.getRemoteKeysForTarget(e).forEach((t=>{this.tt(e,t,null)}))}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Ec(){return new at(we.comparator)}function c_(){return new at(we.comparator)}const sk={asc:"ASCENDING",desc:"DESCENDING"},ok={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ak={and:"AND",or:"OR"};class lk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function np(n,e){return n.useProto3Json||wh(e)?e:{value:e}}function th(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ZE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function uk(n,e){return th(n,e.toTimestamp())}function _r(n){return Ge(!!n,49232),Ce.fromTimestamp((function(t){const i=Wi(t);return new It(i.seconds,i.nanos)})(n))}function Jp(n,e){return rp(n,e).canonicalString()}function rp(n,e){const t=(function(o){return new nt(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function eT(n){const e=nt.fromString(n);return Ge(sT(e),10190,{key:e.toString()}),e}function ip(n,e){return Jp(n.databaseId,e.path)}function Rf(n,e){const t=eT(e);if(t.get(1)!==n.databaseId.projectId)throw new ue(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ue(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new we(nT(t))}function tT(n,e){return Jp(n.databaseId,e)}function ck(n){const e=eT(n);return e.length===4?nt.emptyPath():nT(e)}function sp(n){return new nt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function nT(n){return Ge(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function h_(n,e,t){return{name:ip(n,e),fields:t.value.mapValue.fields}}function hk(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Se(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(y,_){return y.useProto3Json?(Ge(_===void 0||typeof _=="string",58123),Ut.fromBase64String(_||"")):(Ge(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Ut.fromUint8Array(_||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(y){const _=y.code===void 0?q.UNKNOWN:YE(y.code);return new ue(_,y.message||"")})(c);t=new JE(i,o,a,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Rf(n,i.document.name),a=_r(i.document.updateTime),c=i.document.createTime?_r(i.document.createTime):Ce.min(),d=new dn({mapValue:{fields:i.document.fields}}),p=qt.newFoundDocument(o,a,c,d),y=i.targetIds||[],_=i.removedTargetIds||[];t=new Mc(y,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Rf(n,i.document),a=i.readTime?_r(i.readTime):Ce.min(),c=qt.newNoDocument(o,a),d=i.removedTargetIds||[];t=new Mc([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Rf(n,i.document),a=i.removedTargetIds||[];t=new Mc([],a,o,null)}else{if(!("filter"in e))return Se(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,c=new tk(o,a),d=i.targetId;t=new XE(d,c)}}return t}function dk(n,e){let t;if(e instanceof ql)t={update:h_(n,e.key,e.value)};else if(e instanceof Ch)t={delete:ip(n,e.key)};else if(e instanceof es)t={update:h_(n,e.key,e.data),updateMask:Ek(e.fieldMask)};else{if(!(e instanceof J1))return Se(16599,{ft:e.type});t={verify:ip(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(a,c){const d=c.transform;if(d instanceof Ll)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof ea)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ta)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof eh)return{fieldPath:c.field.canonicalString(),increment:d.Re};throw Se(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:uk(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Se(27497)})(n,e.precondition)),t}function fk(n,e){return n&&n.length>0?(Ge(e!==void 0,14353),n.map((t=>(function(o,a){let c=o.updateTime?_r(o.updateTime):_r(a);return c.isEqual(Ce.min())&&(c=_r(a)),new Q1(c,o.transformResults||[])})(t,e)))):[]}function pk(n,e){return{documents:[tT(n,e.path)]}}function mk(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=tT(n,o);const a=(function(y){if(y.length!==0)return iT(ir.create(y,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const c=(function(y){if(y.length!==0)return y.map((_=>(function(I){return{field:Bo(I.field),direction:vk(I.dir)}})(_)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=np(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{gt:t,parent:o}}function gk(n){let e=ck(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Ge(i===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let a=[];t.where&&(a=(function(E){const I=rT(E);return I instanceof ir&&DE(I)?I.getFilters():[I]})(t.where));let c=[];t.orderBy&&(c=(function(E){return E.map((I=>(function(F){return new Vl($o(F.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(I)))})(t.orderBy));let d=null;t.limit&&(d=(function(E){let I;return I=typeof E=="object"?E.value:E,wh(I)?null:I})(t.limit));let p=null;t.startAt&&(p=(function(E){const I=!!E.before,D=E.values||[];return new Zc(D,I)})(t.startAt));let y=null;return t.endAt&&(y=(function(E){const I=!E.before,D=E.values||[];return new Zc(D,I)})(t.endAt)),L1(e,o,c,a,d,"F",p,y)}function yk(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function rT(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=$o(t.unaryFilter.field);return gt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=$o(t.unaryFilter.field);return gt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=$o(t.unaryFilter.field);return gt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=$o(t.unaryFilter.field);return gt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(n):n.fieldFilter!==void 0?(function(t){return gt.create($o(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return ir.create(t.compositeFilter.filters.map((i=>rT(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(t.compositeFilter.op))})(n):Se(30097,{filter:n})}function vk(n){return sk[n]}function _k(n){return ok[n]}function wk(n){return ak[n]}function Bo(n){return{fieldPath:n.canonicalString()}}function $o(n){return Ft.fromServerFormat(n.fieldPath)}function iT(n){return n instanceof gt?(function(t){if(t.op==="=="){if(Jv(t.value))return{unaryFilter:{field:Bo(t.field),op:"IS_NAN"}};if(Xv(t.value))return{unaryFilter:{field:Bo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Jv(t.value))return{unaryFilter:{field:Bo(t.field),op:"IS_NOT_NAN"}};if(Xv(t.value))return{unaryFilter:{field:Bo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bo(t.field),op:_k(t.op),value:t.value}}})(n):n instanceof ir?(function(t){const i=t.getFilters().map((o=>iT(o)));return i.length===1?i[0]:{compositeFilter:{op:wk(t.op),filters:i}}})(n):Se(54877,{filter:n})}function Ek(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function sT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e,t,i,o,a=Ce.min(),c=Ce.min(),d=Ut.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Li(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e){this.wt=e}}function Ik(n){const e=gk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?tp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(){this.Cn=new Rk}addToCollectionParentIndex(e,t){return this.Cn.add(t),G.resolve()}getCollectionParents(e,t){return G.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return G.resolve()}deleteFieldIndex(e,t){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,t){return G.resolve()}getDocumentsMatchingTarget(e,t){return G.resolve(null)}getIndexType(e,t){return G.resolve(0)}getFieldIndexes(e,t){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,t){return G.resolve($i.min())}getMinOffsetFromCollectionGroup(e,t){return G.resolve($i.min())}updateCollectionGroup(e,t,i){return G.resolve()}updateIndexEntries(e,t){return G.resolve()}}class Rk{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new St(nt.comparator),a=!o.has(i);return this.index[t]=o.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new St(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oT=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(oT,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new na(0)}static lr(){return new na(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_="LruGarbageCollector",Ak=1048576;function p_([n,e],[t,i]){const o=De(n,t);return o===0?De(e,i):o}class Ck{constructor(e){this.Er=e,this.buffer=new St(p_),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();p_(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Pk{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){de(f_,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ua(t)?de(f_,"Ignoring IndexedDB error during garbage collection: ",t):await la(t)}await this.mr(3e5)}))}}class kk{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return G.resolve(_h.le);const i=new Ck(t);return this.gr.forEachTarget(e,(o=>i.Rr(o.sequenceNumber))).next((()=>this.gr.yr(e,(o=>i.Rr(o))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.gr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(d_)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),d_):this.wr(e,t)))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let i,o,a,c,d,p,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,c=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(i=E,d=Date.now(),this.removeTargets(e,i,t)))).next((E=>(a=E,p=Date.now(),this.removeOrphanedDocuments(e,i)))).next((E=>(y=Date.now(),jo()<=Fe.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${a} targets in `+(p-d)+`ms
	Removed ${E} documents in `+(y-p)+`ms
Total Duration: ${y-_}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:E}))))}}function xk(n,e){return new kk(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(){this.changes=new $s((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,qt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?G.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(i!==null&&Il(i.mutation,o,En.empty(),It.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Ue()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Ue()){const o=Vs();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,i).next((a=>{let c=pl();return a.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const i=Vs();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Ue())))}populateOverlays(e,t,i){const o=[];return i.forEach((a=>{t.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((c,d)=>{t.set(c,d)}))}))}computeViews(e,t,i,o){let a=ei();const c=Tl(),d=(function(){return Tl()})();return t.forEach(((p,y)=>{const _=i.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof es)?a=a.insert(y.key,y):_!==void 0?(c.set(y.key,_.mutation.getFieldMask()),Il(_.mutation,y,_.mutation.getFieldMask(),It.now())):c.set(y.key,En.empty())})),this.recalculateAndSaveOverlays(e,a).next((p=>(p.forEach(((y,_)=>c.set(y,_))),t.forEach(((y,_)=>{var E;return d.set(y,new bk(_,(E=c.get(y))!==null&&E!==void 0?E:null))})),d)))}recalculateAndSaveOverlays(e,t){const i=Tl();let o=new at(((c,d)=>c-d)),a=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const d of c)d.keys().forEach((p=>{const y=t.get(p);if(y===null)return;let _=i.get(p)||En.empty();_=d.applyToLocalView(y,_),i.set(p,_);const E=(o.get(d.batchId)||Ue()).add(p);o=o.insert(d.batchId,E)}))})).next((()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),y=p.key,_=p.value,E=BE();_.forEach((I=>{if(!a.has(I)){const D=GE(t.get(I),i.get(I));D!==null&&E.set(I,D),a=a.add(I)}})),c.push(this.documentOverlayCache.saveOverlays(e,y,E))}return G.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,o){return(function(c){return we.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ME(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next((a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-a.size):G.resolve(Vs());let d=Nl,p=a;return c.next((y=>G.forEach(y,((_,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),a.get(_)?G.resolve():this.remoteDocumentCache.getEntry(e,_).next((I=>{p=p.insert(_,I)}))))).next((()=>this.populateOverlays(e,y,a))).next((()=>this.computeViews(e,p,y,Ue()))).next((_=>({batchId:d,changes:zE(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next((i=>{let o=pl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const a=t.collectionGroup;let c=pl();return this.indexManager.getCollectionParents(e,a).next((d=>G.forEach(d,(p=>{const y=(function(E,I){return new ca(I,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next((_=>{_.forEach(((E,I)=>{c=c.insert(E,I)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,o)))).next((c=>{a.forEach(((p,y)=>{const _=y.getKey();c.get(_)===null&&(c=c.insert(_,qt.newInvalidDocument(_)))}));let d=pl();return c.forEach(((p,y)=>{const _=a.get(p);_!==void 0&&Il(_.mutation,y,En.empty(),It.now()),Sh(t,y)&&(d=d.insert(p,y))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return G.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:_r(o.createTime)}})(t)),G.resolve()}getNamedQuery(e,t){return G.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,(function(o){return{name:o.name,query:Ik(o.bundledQuery),readTime:_r(o.readTime)}})(t)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(){this.overlays=new at(we.comparator),this.Qr=new Map}getOverlay(e,t){return G.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Vs();return G.forEach(t,(o=>this.getOverlay(e,o).next((a=>{a!==null&&i.set(o,a)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((o,a)=>{this.St(e,t,a)})),G.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Qr.get(i);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.Qr.delete(i)),G.resolve()}getOverlaysForCollection(e,t,i){const o=Vs(),a=t.length+1,c=new we(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===a&&p.largestBatchId>i&&o.set(p.getKey(),p)}return G.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let a=new at(((y,_)=>y-_));const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let _=a.get(y.largestBatchId);_===null&&(_=Vs(),a=a.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const d=Vs(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,_)=>d.set(y,_))),!(d.size()>=o)););return G.resolve(d)}St(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.Qr.get(o.largestBatchId).delete(i.key);this.Qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new ek(t,i));let a=this.Qr.get(t);a===void 0&&(a=Ue(),this.Qr.set(t,a)),this.Qr.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(){this.sessionToken=Ut.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(){this.$r=new St(Nt.Ur),this.Kr=new St(Nt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const i=new Nt(e,t);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.zr(new Nt(e,t))}jr(e,t){e.forEach((i=>this.removeReference(i,t)))}Hr(e){const t=new we(new nt([])),i=new Nt(t,e),o=new Nt(t,e+1),a=[];return this.Kr.forEachInRange([i,o],(c=>{this.zr(c),a.push(c.key)})),a}Jr(){this.$r.forEach((e=>this.zr(e)))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new we(new nt([])),i=new Nt(t,e),o=new Nt(t,e+1);let a=Ue();return this.Kr.forEachInRange([i,o],(c=>{a=a.add(c.key)})),a}containsKey(e){const t=new Nt(e,0),i=this.$r.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Nt{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return we.comparator(e.key,t.key)||De(e.Zr,t.Zr)}static Wr(e,t){return De(e.Zr,t.Zr)||we.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new St(Nt.Ur)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Z1(a,t,i,o);this.mutationQueue.push(c);for(const d of o)this.Xr=this.Xr.add(new Nt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return G.resolve(c)}lookupMutationBatch(e,t){return G.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.ti(i),a=o<0?0:o;return G.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?$p:this.nr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Nt(t,0),o=new Nt(t,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([i,o],(c=>{const d=this.ei(c.Zr);a.push(d)})),G.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new St(De);return t.forEach((o=>{const a=new Nt(o,0),c=new Nt(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([a,c],(d=>{i=i.add(d.Zr)}))})),G.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let a=i;we.isDocumentKey(a)||(a=a.child(""));const c=new Nt(new we(a),0);let d=new St(De);return this.Xr.forEachWhile((p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(d=d.add(p.Zr)),!0)}),c),G.resolve(this.ni(d))}ni(e){const t=[];return e.forEach((i=>{const o=this.ei(i);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Ge(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return G.forEach(t.mutations,(o=>{const a=new Nt(o.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Xr=i}))}sr(e){}containsKey(e,t){const i=new Nt(t,0),o=this.Xr.firstAfterOrEqual(i);return G.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e){this.ii=e,this.docs=(function(){return new at(we.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),a=o?o.size:0,c=this.ii(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return G.resolve(i?i.document.mutableCopy():qt.newInvalidDocument(t))}getEntries(e,t){let i=ei();return t.forEach((o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():qt.newInvalidDocument(o))})),G.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let a=ei();const c=t.path,d=new we(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:y,value:{document:_}}=p.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||p1(f1(_),i)<=0||(o.has(_.key)||Sh(t,_))&&(a=a.insert(_.key,_.mutableCopy()))}return G.resolve(a)}getAllFromCollectionGroup(e,t,i,o){Se(9500)}si(e,t){return G.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new Uk(this)}getSize(e){return G.resolve(this.size)}}class Uk extends Nk{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?t.push(this.Br.addEntry(e,o)):this.Br.removeEntry(i)})),G.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e){this.persistence=e,this.oi=new $s((t=>qp(t)),Kp),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this._i=0,this.ai=new Zp,this.targetCount=0,this.ui=na.cr()}forEachTarget(e,t){return this.oi.forEach(((i,o)=>t(o))),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this._i&&(this._i=t),G.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new na(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,G.resolve()}updateTargetData(e,t){return this.Tr(t),G.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,t,i){let o=0;const a=[];return this.oi.forEach(((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.oi.delete(c),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)})),G.waitFor(a).next((()=>o))}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,t){const i=this.oi.get(t)||null;return G.resolve(i)}addMatchingKeys(e,t,i){return this.ai.Gr(t,i),G.resolve()}removeMatchingKeys(e,t,i){this.ai.jr(t,i);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach((c=>{a.push(o.markPotentiallyOrphaned(e,c))})),G.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),G.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ai.Yr(t);return G.resolve(i)}containsKey(e,t){return G.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e,t){this.ci={},this.overlays={},this.li=new _h(0),this.hi=!1,this.hi=!0,this.Pi=new Lk,this.referenceDelegate=e(this),this.Ti=new jk(this),this.indexManager=new Sk,this.remoteDocumentCache=(function(o){return new Fk(o)})((i=>this.referenceDelegate.Ii(i))),this.serializer=new Tk(t),this.Ei=new Ok(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Vk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ci[e.toKey()];return i||(i=new Mk(t,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,i){de("MemoryPersistence","Starting transaction:",e);const o=new zk(this.li.next());return this.referenceDelegate.di(),i(o).next((a=>this.referenceDelegate.Ai(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Ri(e,t){return G.or(Object.values(this.ci).map((i=>()=>i.containsKey(e,t))))}}class zk extends g1{constructor(e){super(),this.currentSequenceNumber=e}}class em{constructor(e){this.persistence=e,this.Vi=new Zp,this.mi=null}static fi(e){return new em(e)}get gi(){if(this.mi)return this.mi;throw Se(60996)}addReference(e,t,i){return this.Vi.addReference(i,t),this.gi.delete(i.toString()),G.resolve()}removeReference(e,t,i){return this.Vi.removeReference(i,t),this.gi.add(i.toString()),G.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),G.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach((o=>this.gi.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((a=>this.gi.add(a.toString())))})).next((()=>i.removeTargetData(e,t)))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.gi,(i=>{const o=we.fromPath(i);return this.pi(e,o).next((a=>{a||t.removeEntry(o,Ce.min())}))})).next((()=>(this.mi=null,t.apply(e))))}updateLimboDocument(e,t){return this.pi(e,t).next((i=>{i?this.gi.delete(t.toString()):this.gi.add(t.toString())}))}Ii(e){return 0}pi(e,t){return G.or([()=>G.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class nh{constructor(e,t){this.persistence=e,this.yi=new $s((i=>_1(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=xk(this,t)}static fi(e,t){return new nh(e,t)}di(){}Ai(e){return G.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((o=>i+o))))}br(e){let t=0;return this.yr(e,(i=>{t++})).next((()=>t))}yr(e,t){return G.forEach(this.yi,((i,o)=>this.Dr(e,i,o).next((a=>a?G.resolve():t(o)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.si(e,(c=>this.Dr(e,c,t).next((d=>{d||(i++,a.removeEntry(c,Ce.min()))})))).next((()=>a.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),G.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),G.resolve()}removeReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),G.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),G.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Oc(e.data.value)),t}Dr(e,t,i){return G.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.yi.get(t);return G.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.ds=i,this.As=o}static Rs(e,t){let i=Ue(),o=Ue();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new tm(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=(function(){return IR()?8:y1(Gt())>0?6:4})()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,i,o){const a={result:null};return this.ws(e,t).next((c=>{a.result=c})).next((()=>{if(!a.result)return this.bs(e,t,o,i).next((c=>{a.result=c}))})).next((()=>{if(a.result)return;const c=new Bk;return this.Ss(e,t,c).next((d=>{if(a.result=d,this.fs)return this.Ds(e,t,c,d.size)}))})).next((()=>a.result))}Ds(e,t,i,o){return i.documentReadCount<this.gs?(jo()<=Fe.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",zo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),G.resolve()):(jo()<=Fe.DEBUG&&de("QueryEngine","Query:",zo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ps*o?(jo()<=Fe.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",zo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vr(t))):G.resolve())}ws(e,t){if(n_(t))return G.resolve(null);let i=vr(t);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=tp(t,null,"F"),i=vr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((a=>{const c=Ue(...a);return this.ys.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,i).next((p=>{const y=this.vs(t,d);return this.Cs(t,y,c,p.readTime)?this.ws(e,tp(t,null,"F")):this.Fs(e,y,t,p)}))))})))))}bs(e,t,i,o){return n_(t)||o.isEqual(Ce.min())?G.resolve(null):this.ys.getDocuments(e,i).next((a=>{const c=this.vs(t,a);return this.Cs(t,c,i,o)?G.resolve(null):(jo()<=Fe.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),zo(t)),this.Fs(e,c,t,d1(o,Nl)).next((d=>d)))}))}vs(e,t){let i=new St(UE(e));return t.forEach(((o,a)=>{Sh(e,a)&&(i=i.add(a))})),i}Cs(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Ss(e,t,i){return jo()<=Fe.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",zo(t)),this.ys.getDocumentsMatchingQuery(e,t,$i.min(),i)}Fs(e,t,i,o){return this.ys.getDocumentsMatchingQuery(e,i,o).next((a=>(t.forEach((c=>{a=a.insert(c.key,c)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm="LocalStore",Wk=3e8;class Hk{constructor(e,t,i,o){this.persistence=e,this.Ms=t,this.serializer=o,this.xs=new at(De),this.Os=new $s((a=>qp(a)),Kp),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Dk(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.xs)))}}function qk(n,e,t,i){return new Hk(n,e,t,i)}async function lT(n,e){const t=Pe(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next((a=>(o=a,t.Ls(e),t.mutationQueue.getAllMutationBatches(i)))).next((a=>{const c=[],d=[];let p=Ue();for(const y of o){c.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}for(const y of a){d.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(i,p).next((y=>({ks:y,removedBatchIds:c,addedBatchIds:d})))}))}))}function Kk(n,e){const t=Pe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),a=t.Bs.newChangeBuffer({trackRemovals:!0});return(function(d,p,y,_){const E=y.batch,I=E.keys();let D=G.resolve();return I.forEach((F=>{D=D.next((()=>_.getEntry(p,F))).next((M=>{const P=y.docVersions.get(F);Ge(P!==null,48541),M.version.compareTo(P)<0&&(E.applyToRemoteDocument(M,y),M.isValidDocument()&&(M.setReadTime(y.commitVersion),_.addEntry(M)))}))})),D.next((()=>d.mutationQueue.removeMutationBatch(p,E)))})(t,i,e,a).next((()=>a.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(d){let p=Ue();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(p=p.add(d.batch.mutations[y].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(i,o)))}))}function uT(n){const e=Pe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Ti.getLastRemoteSnapshotVersion(t)))}function Gk(n,e){const t=Pe(n),i=e.snapshotVersion;let o=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const c=t.Bs.newChangeBuffer({trackRemovals:!0});o=t.xs;const d=[];e.targetChanges.forEach(((_,E)=>{const I=o.get(E);if(!I)return;d.push(t.Ti.removeMatchingKeys(a,_.removedDocuments,E).next((()=>t.Ti.addMatchingKeys(a,_.addedDocuments,E))));let D=I.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(E)!==null?D=D.withResumeToken(Ut.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):_.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(_.resumeToken,i)),o=o.insert(E,D),(function(M,P,J){return M.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=Wk?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0})(I,D,_)&&d.push(t.Ti.updateTargetData(a,D))}));let p=ei(),y=Ue();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,_))})),d.push(Qk(a,c,e.documentUpdates).next((_=>{p=_.qs,y=_.Qs}))),!i.isEqual(Ce.min())){const _=t.Ti.getLastRemoteSnapshotVersion(a).next((E=>t.Ti.setTargetsMetadata(a,a.currentSequenceNumber,i)));d.push(_)}return G.waitFor(d).next((()=>c.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,p,y))).next((()=>p))})).then((a=>(t.xs=o,a)))}function Qk(n,e,t){let i=Ue(),o=Ue();return t.forEach((a=>i=i.add(a))),e.getEntries(n,i).next((a=>{let c=ei();return t.forEach(((d,p)=>{const y=a.get(d);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Ce.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):de(nm,"Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",p.version)})),{qs:c,Qs:o}}))}function Yk(n,e){const t=Pe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=$p),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function Xk(n,e){const t=Pe(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return t.Ti.getTargetData(i,e).next((a=>a?(o=a,G.resolve(o)):t.Ti.allocateTargetId(i).next((c=>(o=new Li(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Ti.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=t.xs.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.xs=t.xs.insert(i.targetId,i),t.Os.set(e,i.targetId)),i}))}async function op(n,e,t){const i=Pe(n),o=i.xs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,(c=>i.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!ua(c))throw c;de(nm,`Failed to update sequence numbers for target ${e}: ${c}`)}i.xs=i.xs.remove(e),i.Os.delete(o.target)}function m_(n,e,t){const i=Pe(n);let o=Ce.min(),a=Ue();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,y,_){const E=Pe(p),I=E.Os.get(_);return I!==void 0?G.resolve(E.xs.get(I)):E.Ti.getTargetData(y,_)})(i,c,vr(e)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(c,d.targetId).next((p=>{a=p}))})).next((()=>i.Ms.getDocumentsMatchingQuery(c,e,t?o:Ce.min(),t?a:Ue()))).next((d=>(Jk(i,F1(e),d),{documents:d,$s:a})))))}function Jk(n,e,t){let i=n.Ns.get(e)||Ce.min();t.forEach(((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)})),n.Ns.set(e,i)}class g_{constructor(){this.activeTargetIds=W1()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Zk{constructor(){this.xo=new g_,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,i){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new g_,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="ConnectivityMonitor";class v_{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){de(y_,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){de(y_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tc=null;function ap(){return Tc===null?Tc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Tc++,"0x"+Tc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af="RestConnection",tx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nx{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${i}/databases/${o}`,this.Go=this.databaseId.database===Xc?`project_id=${i}`:`project_id=${i}&database_id=${o}`}zo(e,t,i,o,a){const c=ap(),d=this.jo(e,t.toUriEncodedString());de(Af,`Sending RPC '${e}' ${c}:`,d,i);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,a);const{host:y}=new URL(d),_=Yi(y);return this.Jo(e,d,p,i,_).then((E=>(de(Af,`Received RPC '${e}' ${c}: `,E),E)),(E=>{throw Yo(Af,`RPC '${e}' ${c} failed with error: `,E,"url: ",d,"request:",i),E}))}Yo(e,t,i,o,a,c){return this.zo(e,t,i,o,a)}Ho(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+aa})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,a)=>e[a]=o)),i&&i.headers.forEach(((o,a)=>e[a]=o))}jo(e,t){const i=tx[e];return`${this.Ko}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class ix extends nx{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,o,a){const c=ap();return new Promise(((d,p)=>{const y=new dE;y.setWithCredentials(!0),y.listenOnce(fE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Dc.NO_ERROR:const E=y.getResponseJson();de(Wt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),d(E);break;case Dc.TIMEOUT:de(Wt,`RPC '${e}' ${c} timed out`),p(new ue(q.DEADLINE_EXCEEDED,"Request time out"));break;case Dc.HTTP_ERROR:const I=y.getStatus();if(de(Wt,`RPC '${e}' ${c} failed with status:`,I,"response text:",y.getResponseText()),I>0){let D=y.getResponseJson();Array.isArray(D)&&(D=D[0]);const F=D?.error;if(F&&F.status&&F.message){const M=(function(J){const Q=J.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(Q)>=0?Q:q.UNKNOWN})(F.status);p(new ue(M,F.message))}else p(new ue(q.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ue(q.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{h_:e,streamId:c,P_:y.getLastErrorCode(),T_:y.getLastError()})}}finally{de(Wt,`RPC '${e}' ${c} completed.`)}}));const _=JSON.stringify(o);de(Wt,`RPC '${e}' ${c} sending request:`,o),y.send(t,"POST",_,i,15)}))}I_(e,t,i){const o=ap(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=gE(),d=mE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const _=a.join("");de(Wt,`Creating RPC '${e}' stream ${o}: ${_}`,p);const E=c.createWebChannel(_,p);this.E_(E);let I=!1,D=!1;const F=new rx({Zo:P=>{D?de(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(I||(de(Wt,`Opening RPC '${e}' stream ${o} transport.`),E.open(),I=!0),de(Wt,`RPC '${e}' stream ${o} sending:`,P),E.send(P))},Xo:()=>E.close()}),M=(P,J,Q)=>{P.listen(J,(Y=>{try{Q(Y)}catch(ne){setTimeout((()=>{throw ne}),0)}}))};return M(E,fl.EventType.OPEN,(()=>{D||(de(Wt,`RPC '${e}' stream ${o} transport opened.`),F.__())})),M(E,fl.EventType.CLOSE,(()=>{D||(D=!0,de(Wt,`RPC '${e}' stream ${o} transport closed`),F.u_(),this.d_(E))})),M(E,fl.EventType.ERROR,(P=>{D||(D=!0,Yo(Wt,`RPC '${e}' stream ${o} transport errored. Name:`,P.name,"Message:",P.message),F.u_(new ue(q.UNAVAILABLE,"The operation could not be completed")))})),M(E,fl.EventType.MESSAGE,(P=>{var J;if(!D){const Q=P.data[0];Ge(!!Q,16349);const Y=Q,ne=Y?.error||((J=Y[0])===null||J===void 0?void 0:J.error);if(ne){de(Wt,`RPC '${e}' stream ${o} received error:`,ne);const ve=ne.status;let ae=(function(C){const b=mt[C];if(b!==void 0)return YE(b)})(ve),k=ne.message;ae===void 0&&(ae=q.INTERNAL,k="Unknown error status: "+ve+" with message "+ne.message),D=!0,F.u_(new ue(ae,k)),E.close()}else de(Wt,`RPC '${e}' stream ${o} received:`,Q),F.c_(Q)}})),M(d,pE.STAT_EVENT,(P=>{P.stat===Gf.PROXY?de(Wt,`RPC '${e}' stream ${o} detected buffering proxy`):P.stat===Gf.NOPROXY&&de(Wt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{F.a_()}),0),F}terminate(){this.l_.forEach((e=>e.close())),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter((t=>t===e))}}function Cf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(n){return new lk(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,t,i=1e3,o=1.5,a=6e4){this.xi=e,this.timerId=t,this.A_=i,this.R_=o,this.V_=a,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),o=Math.max(0,t-i);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,(()=>(this.g_=Date.now(),e()))),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="PersistentStream";class hT{constructor(e,t,i,o,a,c,d,p){this.xi=e,this.S_=i,this.D_=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new cT(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,(()=>this.q_())))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===q.RESOURCE_EXHAUSTED?(Zr(t.toString()),Zr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.v_===t&&this.z_(i,o)}),(i=>{e((()=>{const o=new ue(q.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(o)}))}))}z_(e,t){const i=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_((()=>{i((()=>this.listener.e_()))})),this.stream.n_((()=>{i((()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,(()=>(this.N_()&&(this.state=3),Promise.resolve()))),this.listener.n_())))})),this.stream.i_((o=>{i((()=>this.j_(o)))})),this.stream.onMessage((o=>{i((()=>++this.M_==1?this.J_(o):this.onNext(o)))}))}B_(){this.state=5,this.x_.y_((async()=>{this.state=0,this.start()}))}j_(e){return de(__,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget((()=>this.v_===e?t():(de(__,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class sx extends hT{constructor(e,t,i,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=hk(this.serializer,e),i=(function(a){if(!("targetChange"in a))return Ce.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Ce.min():c.readTime?_r(c.readTime):Ce.min()})(e);return this.listener.Y_(t,i)}Z_(e){const t={};t.database=sp(this.serializer),t.addTarget=(function(a,c){let d;const p=c.target;if(d=Zf(p)?{documents:pk(a,p)}:{query:mk(a,p).gt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=ZE(a,c.resumeToken);const y=np(a,c.expectedCount);y!==null&&(d.expectedCount=y)}else if(c.snapshotVersion.compareTo(Ce.min())>0){d.readTime=th(a,c.snapshotVersion.toTimestamp());const y=np(a,c.expectedCount);y!==null&&(d.expectedCount=y)}return d})(this.serializer,e);const i=yk(this.serializer,e);i&&(t.labels=i),this.Q_(t)}X_(e){const t={};t.database=sp(this.serializer),t.removeTarget=e,this.Q_(t)}}class ox extends hT{constructor(e,t,i,o,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=fk(e.writeResults,e.commitTime),i=_r(e.commitTime);return this.listener.ra(i,t)}ia(){const e={};e.database=sp(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>dk(this.serializer,i)))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{}class lx extends ax{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new ue(q.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,i,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,c])=>this.connection.zo(e,rp(t,i),o,a,c))).catch((a=>{throw a.name==="FirebaseError"?(a.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ue(q.UNKNOWN,a.toString())}))}Yo(e,t,i,o,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Yo(e,rp(t,i),o,c,d,a))).catch((c=>{throw c.name==="FirebaseError"?(c.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ue(q.UNKNOWN,c.toString())}))}terminate(){this.sa=!0,this.connection.terminate()}}class ux{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve()))))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Zr(t),this.ua=!1):de("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="RemoteStore";class cx{constructor(e,t,i,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=a,this.Ra.No((c=>{i.enqueueAndForget((async()=>{Ws(this)&&(de(Us,"Restarting streams for network reachability change."),await(async function(p){const y=Pe(p);y.da.add(4),await Gl(y),y.Va.set("Unknown"),y.da.delete(4),await xh(y)})(this))}))})),this.Va=new ux(i,o)}}async function xh(n){if(Ws(n))for(const e of n.Aa)await e(!0)}async function Gl(n){for(const e of n.Aa)await e(!1)}function dT(n,e){const t=Pe(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),om(t)?sm(t):ha(t).N_()&&im(t,e))}function rm(n,e){const t=Pe(n),i=ha(t);t.Ea.delete(e),i.N_()&&fT(t,e),t.Ea.size===0&&(i.N_()?i.k_():Ws(t)&&t.Va.set("Unknown"))}function im(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ha(n).Z_(e)}function fT(n,e){n.ma.Ke(e),ha(n).X_(e)}function sm(n){n.ma=new ik({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),ha(n).start(),n.Va.ca()}function om(n){return Ws(n)&&!ha(n).O_()&&n.Ea.size>0}function Ws(n){return Pe(n).da.size===0}function pT(n){n.ma=void 0}async function hx(n){n.Va.set("Online")}async function dx(n){n.Ea.forEach(((e,t)=>{im(n,e)}))}async function fx(n,e){pT(n),om(n)?(n.Va.Pa(e),sm(n)):n.Va.set("Unknown")}async function px(n,e,t){if(n.Va.set("Online"),e instanceof JE&&e.state===2&&e.cause)try{await(async function(o,a){const c=a.cause;for(const d of a.targetIds)o.Ea.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.Ea.delete(d),o.ma.removeTarget(d))})(n,e)}catch(i){de(Us,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await rh(n,i)}else if(e instanceof Mc?n.ma.Xe(e):e instanceof XE?n.ma.ot(e):n.ma.nt(e),!t.isEqual(Ce.min()))try{const i=await uT(n.localStore);t.compareTo(i)>=0&&await(function(a,c){const d=a.ma.It(c);return d.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const _=a.Ea.get(y);_&&a.Ea.set(y,_.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,y)=>{const _=a.Ea.get(p);if(!_)return;a.Ea.set(p,_.withResumeToken(Ut.EMPTY_BYTE_STRING,_.snapshotVersion)),fT(a,p);const E=new Li(_.target,p,y,_.sequenceNumber);im(a,E)})),a.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(i){de(Us,"Failed to raise snapshot:",i),await rh(n,i)}}async function rh(n,e,t){if(!ua(e))throw e;n.da.add(1),await Gl(n),n.Va.set("Offline"),t||(t=()=>uT(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{de(Us,"Retrying IndexedDB access"),await t(),n.da.delete(1),await xh(n)}))}function mT(n,e){return e().catch((t=>rh(n,t,e)))}async function Nh(n){const e=Pe(n),t=Ki(e);let i=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:$p;for(;mx(e);)try{const o=await Yk(e.localStore,i);if(o===null){e.Ia.length===0&&t.k_();break}i=o.batchId,gx(e,o)}catch(o){await rh(e,o)}gT(e)&&yT(e)}function mx(n){return Ws(n)&&n.Ia.length<10}function gx(n,e){n.Ia.push(e);const t=Ki(n);t.N_()&&t.ea&&t.ta(e.mutations)}function gT(n){return Ws(n)&&!Ki(n).O_()&&n.Ia.length>0}function yT(n){Ki(n).start()}async function yx(n){Ki(n).ia()}async function vx(n){const e=Ki(n);for(const t of n.Ia)e.ta(t.mutations)}async function _x(n,e,t){const i=n.Ia.shift(),o=Yp.from(i,e,t);await mT(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await Nh(n)}async function wx(n,e){e&&Ki(n).ea&&await(async function(i,o){if((function(c){return nk(c)&&c!==q.ABORTED})(o.code)){const a=i.Ia.shift();Ki(i).L_(),await mT(i,(()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o))),await Nh(i)}})(n,e),gT(n)&&yT(n)}async function w_(n,e){const t=Pe(n);t.asyncQueue.verifyOperationInProgress(),de(Us,"RemoteStore received new credentials");const i=Ws(t);t.da.add(3),await Gl(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await xh(t)}async function Ex(n,e){const t=Pe(n);e?(t.da.delete(2),await xh(t)):e||(t.da.add(2),await Gl(t),t.Va.set("Unknown"))}function ha(n){return n.fa||(n.fa=(function(t,i,o){const a=Pe(t);return a.oa(),new sx(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{e_:hx.bind(null,n),n_:dx.bind(null,n),i_:fx.bind(null,n),Y_:px.bind(null,n)}),n.Aa.push((async e=>{e?(n.fa.L_(),om(n)?sm(n):n.Va.set("Unknown")):(await n.fa.stop(),pT(n))}))),n.fa}function Ki(n){return n.ga||(n.ga=(function(t,i,o){const a=Pe(t);return a.oa(),new ox(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:yx.bind(null,n),i_:wx.bind(null,n),na:vx.bind(null,n),ra:_x.bind(null,n)}),n.Aa.push((async e=>{e?(n.ga.L_(),await Nh(n)):(await n.ga.stop(),n.Ia.length>0&&(de(Us,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))}))),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,t,i,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,a){const c=Date.now()+i,d=new am(e,t,c,o,a);return d.start(i),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lm(n,e){if(Zr("AsyncQueue",`${e}: ${n}`),ua(n))return new ue(q.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{static emptySet(e){return new Go(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||we.comparator(t.key,i.key):(t,i)=>we.comparator(t.key,i.key),this.keyedMap=pl(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Go)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Go;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(){this.pa=new at(we.comparator)}track(e){const t=e.doc.key,i=this.pa.get(t);i?e.type!==0&&i.type===3?this.pa=this.pa.insert(t,e):e.type===3&&i.type!==1?this.pa=this.pa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.pa=this.pa.remove(t):e.type===1&&i.type===2?this.pa=this.pa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Se(63341,{Vt:e,ya:i}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal(((t,i)=>{e.push(i)})),e}}class ra{constructor(e,t,i,o,a,c,d,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,a){const c=[];return t.forEach((d=>{c.push({type:0,doc:d})})),new ra(e,t,Go.emptySet(t),c,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ih(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some((e=>e.va()))}}class Ix{constructor(){this.queries=T_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const o=Pe(t),a=o.queries;o.queries=T_(),a.forEach(((c,d)=>{for(const p of d.Sa)p.onError(i)}))})(this,new ue(q.ABORTED,"Firestore shutting down"))}}function T_(){return new $s((n=>FE(n)),Ih)}async function um(n,e){const t=Pe(n);let i=3;const o=e.query;let a=t.queries.get(o);a?!a.Da()&&e.va()&&(i=2):(a=new Tx,i=e.va()?0:1);try{switch(i){case 0:a.ba=await t.onListen(o,!0);break;case 1:a.ba=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const d=lm(c,`Initialization of query '${zo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,a),a.Sa.push(e),e.Fa(t.onlineState),a.ba&&e.Ma(a.ba)&&hm(t)}async function cm(n,e){const t=Pe(n),i=e.query;let o=3;const a=t.queries.get(i);if(a){const c=a.Sa.indexOf(e);c>=0&&(a.Sa.splice(c,1),a.Sa.length===0?o=e.va()?0:1:!a.Da()&&e.va()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function Sx(n,e){const t=Pe(n);let i=!1;for(const o of e){const a=o.query,c=t.queries.get(a);if(c){for(const d of c.Sa)d.Ma(o)&&(i=!0);c.ba=o}}i&&hm(t)}function Rx(n,e,t){const i=Pe(n),o=i.queries.get(e);if(o)for(const a of o.Sa)a.onError(t);i.queries.delete(e)}function hm(n){n.Ca.forEach((e=>{e.next()}))}var lp,I_;(I_=lp||(lp={})).xa="default",I_.Cache="cache";class dm{constructor(e,t,i){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new ra(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const i=t!=="Offline";return(!this.options.Qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=ra.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==lp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e){this.key=e}}class _T{constructor(e){this.key=e}}class Ax{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ue(),this.mutatedKeys=Ue(),this.Za=UE(e),this.Xa=new Go(this.Za)}get eu(){return this.Ha}tu(e,t){const i=t?t.nu:new E_,o=t?t.Xa:this.Xa;let a=t?t.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,E)=>{const I=o.get(_),D=Sh(this.query,E)?E:null,F=!!I&&this.mutatedKeys.has(I.key),M=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let P=!1;I&&D?I.data.isEqual(D.data)?F!==M&&(i.track({type:3,doc:D}),P=!0):this.ru(I,D)||(i.track({type:2,doc:D}),P=!0,(p&&this.Za(D,p)>0||y&&this.Za(D,y)<0)&&(d=!0)):!I&&D?(i.track({type:0,doc:D}),P=!0):I&&!D&&(i.track({type:1,doc:I}),P=!0,(p||y)&&(d=!0)),P&&(D?(c=c.add(D),a=M?a.add(_):a.delete(_)):(c=c.delete(_),a=a.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),a=a.delete(_.key),i.track({type:1,doc:_})}return{Xa:c,nu:i,Cs:d,mutatedKeys:a}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const a=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const c=e.nu.wa();c.sort(((_,E)=>(function(D,F){const M=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Vt:P})}};return M(D)-M(F)})(_.type,E.type)||this.Za(_.doc,E.doc))),this.iu(i),o=o!=null&&o;const d=t&&!o?this.su():[],p=this.Ya.size===0&&this.current&&!o?1:0,y=p!==this.Ja;return this.Ja=p,c.length!==0||y?{snapshot:new ra(this.query,e.Xa,a,c,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:d}:{ou:d}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new E_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach((t=>this.Ha=this.Ha.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ha=this.Ha.delete(t))),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Ue(),this.Xa.forEach((i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))}));const t=[];return e.forEach((i=>{this.Ya.has(i)||t.push(new _T(i))})),this.Ya.forEach((i=>{e.has(i)||t.push(new vT(i))})),t}au(e){this.Ha=e.$s,this.Ya=Ue();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return ra.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const fm="SyncEngine";class Cx{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Px{constructor(e){this.key=e,this.cu=!1}}class kx{constructor(e,t,i,o,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.lu={},this.hu=new $s((d=>FE(d)),Ih),this.Pu=new Map,this.Tu=new Set,this.Iu=new at(we.comparator),this.Eu=new Map,this.du=new Zp,this.Au={},this.Ru=new Map,this.Vu=na.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function xx(n,e,t=!0){const i=RT(n);let o;const a=i.hu.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.uu()):o=await wT(i,e,t,!0),o}async function Nx(n,e){const t=RT(n);await wT(t,e,!0,!1)}async function wT(n,e,t,i){const o=await Xk(n.localStore,vr(e)),a=o.targetId,c=n.sharedClientState.addLocalQueryTarget(a,t);let d;return i&&(d=await bx(n,e,a,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&dT(n.remoteStore,o),d}async function bx(n,e,t,i,o){n.fu=(E,I,D)=>(async function(M,P,J,Q){let Y=P.view.tu(J);Y.Cs&&(Y=await m_(M.localStore,P.query,!1).then((({documents:k})=>P.view.tu(k,Y))));const ne=Q&&Q.targetChanges.get(P.targetId),ve=Q&&Q.targetMismatches.get(P.targetId)!=null,ae=P.view.applyChanges(Y,M.isPrimaryClient,ne,ve);return R_(M,P.targetId,ae.ou),ae.snapshot})(n,E,I,D);const a=await m_(n.localStore,e,!0),c=new Ax(e,a.$s),d=c.tu(a.documents),p=Kl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=c.applyChanges(d,n.isPrimaryClient,p);R_(n,t,y.ou);const _=new Cx(e,t,c);return n.hu.set(e,_),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),y.snapshot}async function Dx(n,e,t){const i=Pe(n),o=i.hu.get(e),a=i.Pu.get(o.targetId);if(a.length>1)return i.Pu.set(o.targetId,a.filter((c=>!Ih(c,e)))),void i.hu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await op(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),t&&rm(i.remoteStore,o.targetId),up(i,o.targetId)})).catch(la)):(up(i,o.targetId),await op(i.localStore,o.targetId,!0))}async function Ox(n,e){const t=Pe(n),i=t.hu.get(e),o=t.Pu.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),rm(t.remoteStore,i.targetId))}async function Vx(n,e,t){const i=Bx(n);try{const o=await(function(c,d){const p=Pe(c),y=It.now(),_=d.reduce(((D,F)=>D.add(F.key)),Ue());let E,I;return p.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let F=ei(),M=Ue();return p.Bs.getEntries(D,_).next((P=>{F=P,F.forEach(((J,Q)=>{Q.isValidDocument()||(M=M.add(J))}))})).next((()=>p.localDocuments.getOverlayedDocuments(D,F))).next((P=>{E=P;const J=[];for(const Q of d){const Y=X1(Q,E.get(Q.key).overlayedDocument);Y!=null&&J.push(new es(Q.key,Y,xE(Y.value.mapValue),en.exists(!0)))}return p.mutationQueue.addMutationBatch(D,y,J,d)})).next((P=>{I=P;const J=P.applyToLocalDocumentSet(E,M);return p.documentOverlayCache.saveOverlays(D,P.batchId,J)}))})).then((()=>({batchId:I.batchId,changes:zE(E)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(c,d,p){let y=c.Au[c.currentUser.toKey()];y||(y=new at(De)),y=y.insert(d,p),c.Au[c.currentUser.toKey()]=y})(i,o.batchId,t),await Ql(i,o.changes),await Nh(i.remoteStore)}catch(o){const a=lm(o,"Failed to persist write");t.reject(a)}}async function ET(n,e){const t=Pe(n);try{const i=await Gk(t.localStore,e);e.targetChanges.forEach(((o,a)=>{const c=t.Eu.get(a);c&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.cu=!0:o.modifiedDocuments.size>0?Ge(c.cu,14607):o.removedDocuments.size>0&&(Ge(c.cu,42227),c.cu=!1))})),await Ql(t,i,e)}catch(i){await la(i)}}function S_(n,e,t){const i=Pe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.hu.forEach(((a,c)=>{const d=c.view.Fa(e);d.snapshot&&o.push(d.snapshot)})),(function(c,d){const p=Pe(c);p.onlineState=d;let y=!1;p.queries.forEach(((_,E)=>{for(const I of E.Sa)I.Fa(d)&&(y=!0)})),y&&hm(p)})(i.eventManager,e),o.length&&i.lu.Y_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Lx(n,e,t){const i=Pe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Eu.get(e),a=o&&o.key;if(a){let c=new at(we.comparator);c=c.insert(a,qt.newNoDocument(a,Ce.min()));const d=Ue().add(a),p=new Ph(Ce.min(),new Map,new at(De),c,d);await ET(i,p),i.Iu=i.Iu.remove(a),i.Eu.delete(e),pm(i)}else await op(i.localStore,e,!1).then((()=>up(i,e,t))).catch(la)}async function Mx(n,e){const t=Pe(n),i=e.batch.batchId;try{const o=await Kk(t.localStore,e);IT(t,i,null),TT(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Ql(t,o)}catch(o){await la(o)}}async function Fx(n,e,t){const i=Pe(n);try{const o=await(function(c,d){const p=Pe(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let _;return p.mutationQueue.lookupMutationBatch(y,d).next((E=>(Ge(E!==null,37113),_=E.keys(),p.mutationQueue.removeMutationBatch(y,E)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,_,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_))).next((()=>p.localDocuments.getDocuments(y,_)))}))})(i.localStore,e);IT(i,e,t),TT(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Ql(i,o)}catch(o){await la(o)}}function TT(n,e){(n.Ru.get(e)||[]).forEach((t=>{t.resolve()})),n.Ru.delete(e)}function IT(n,e,t){const i=Pe(n);let o=i.Au[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),i.Au[i.currentUser.toKey()]=o}}function up(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Pu.get(e))n.hu.delete(i),t&&n.lu.gu(i,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach((i=>{n.du.containsKey(i)||ST(n,i)}))}function ST(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(rm(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),pm(n))}function R_(n,e,t){for(const i of t)i instanceof vT?(n.du.addReference(i.key,e),Ux(n,i)):i instanceof _T?(de(fm,"Document no longer in limbo: "+i.key),n.du.removeReference(i.key,e),n.du.containsKey(i.key)||ST(n,i.key)):Se(19791,{pu:i})}function Ux(n,e){const t=e.key,i=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(i)||(de(fm,"New document in limbo: "+t),n.Tu.add(i),pm(n))}function pm(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new we(nt.fromString(e)),i=n.Vu.next();n.Eu.set(i,new Px(t)),n.Iu=n.Iu.insert(t,i),dT(n.remoteStore,new Li(vr(Th(t.path)),i,"TargetPurposeLimboResolution",_h.le))}}async function Ql(n,e,t){const i=Pe(n),o=[],a=[],c=[];i.hu.isEmpty()||(i.hu.forEach(((d,p)=>{c.push(i.fu(p,e,t).then((y=>{var _;if((y||t)&&i.isPrimaryClient){const E=y?!y.fromCache:(_=t?.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){o.push(y);const E=tm.Rs(p.targetId,y);a.push(E)}})))})),await Promise.all(c),i.lu.Y_(o),await(async function(p,y){const _=Pe(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>G.forEach(y,(I=>G.forEach(I.ds,(D=>_.persistence.referenceDelegate.addReference(E,I.targetId,D))).next((()=>G.forEach(I.As,(D=>_.persistence.referenceDelegate.removeReference(E,I.targetId,D)))))))))}catch(E){if(!ua(E))throw E;de(nm,"Failed to update sequence numbers: "+E)}for(const E of y){const I=E.targetId;if(!E.fromCache){const D=_.xs.get(I),F=D.snapshotVersion,M=D.withLastLimboFreeSnapshotVersion(F);_.xs=_.xs.insert(I,M)}}})(i.localStore,a))}async function jx(n,e){const t=Pe(n);if(!t.currentUser.isEqual(e)){de(fm,"User change. New user:",e.toKey());const i=await lT(t.localStore,e);t.currentUser=e,(function(a,c){a.Ru.forEach((d=>{d.forEach((p=>{p.reject(new ue(q.CANCELLED,c))}))})),a.Ru.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Ql(t,i.ks)}}function zx(n,e){const t=Pe(n),i=t.Eu.get(e);if(i&&i.cu)return Ue().add(i.key);{let o=Ue();const a=t.Pu.get(e);if(!a)return o;for(const c of a){const d=t.hu.get(c);o=o.unionWith(d.view.eu)}return o}}function RT(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ET.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Lx.bind(null,e),e.lu.Y_=Sx.bind(null,e.eventManager),e.lu.gu=Rx.bind(null,e.eventManager),e}function Bx(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Mx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Fx.bind(null,e),e}class ih{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return qk(this.persistence,new $k,e.initialUser,this.serializer)}Su(e){return new aT(em.fi,this.serializer)}bu(e){return new Zk}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ih.provider={build:()=>new ih};class $x extends ih{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){Ge(this.persistence.referenceDelegate instanceof nh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new Pk(i,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new aT((i=>nh.fi(i,t)),this.serializer)}}class cp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>S_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=jx.bind(null,this.syncEngine),await Ex(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Ix})()}createDatastore(e){const t=kh(e.databaseInfo.databaseId),i=(function(a){return new ix(a)})(e.databaseInfo);return(function(a,c,d,p){return new lx(a,c,d,p)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,o,a,c,d){return new cx(i,o,a,c,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>S_(this.syncEngine,t,0)),(function(){return v_.C()?new v_:new ex})())}createSyncEngine(e,t){return(function(o,a,c,d,p,y,_){const E=new kx(o,a,c,d,p,y);return _&&(E.mu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const a=Pe(o);de(Us,"RemoteStore shutting down."),a.da.add(5),await Gl(a),a.Ra.shutdown(),a.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}cp.provider={build:()=>new cp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Zr("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi="FirestoreClient";class Wx{constructor(e,t,i,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=Ht.UNAUTHENTICATED,this.clientId=wE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,(async c=>{de(Gi,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(de(Gi,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=lm(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Pf(n,e){n.asyncQueue.verifyOperationInProgress(),de(Gi,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async o=>{i.isEqual(o)||(await lT(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function A_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Hx(n);de(Gi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>w_(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,o)=>w_(e.remoteStore,o))),n._onlineComponents=e}async function Hx(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){de(Gi,"Using user provided OfflineComponentProvider");try{await Pf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===q.FAILED_PRECONDITION||o.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Yo("Error using user provided cache. Falling back to memory cache: "+t),await Pf(n,new ih)}}else de(Gi,"Using default OfflineComponentProvider"),await Pf(n,new $x(void 0));return n._offlineComponents}async function AT(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(de(Gi,"Using user provided OnlineComponentProvider"),await A_(n,n._uninitializedComponentsProvider._online)):(de(Gi,"Using default OnlineComponentProvider"),await A_(n,new cp))),n._onlineComponents}function qx(n){return AT(n).then((e=>e.syncEngine))}async function sh(n){const e=await AT(n),t=e.eventManager;return t.onListen=xx.bind(null,e.syncEngine),t.onUnlisten=Dx.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Nx.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Ox.bind(null,e.syncEngine),t}function Kx(n,e,t={}){const i=new Gr;return n.asyncQueue.enqueueAndForget((async()=>(function(a,c,d,p,y){const _=new mm({next:I=>{_.xu(),c.enqueueAndForget((()=>cm(a,E)));const D=I.docs.has(d);!D&&I.fromCache?y.reject(new ue(q.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&I.fromCache&&p&&p.source==="server"?y.reject(new ue(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(I)},error:I=>y.reject(I)}),E=new dm(Th(d.path),_,{includeMetadataChanges:!0,Qa:!0});return um(a,E)})(await sh(n),n.asyncQueue,e,t,i))),i.promise}function Gx(n,e,t={}){const i=new Gr;return n.asyncQueue.enqueueAndForget((async()=>(function(a,c,d,p,y){const _=new mm({next:I=>{_.xu(),c.enqueueAndForget((()=>cm(a,E))),I.fromCache&&p.source==="server"?y.reject(new ue(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(I)},error:I=>y.reject(I)}),E=new dm(d,_,{includeMetadataChanges:!0,Qa:!0});return um(a,E)})(await sh(n),n.asyncQueue,e,t,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(n,e,t){if(!t)throw new ue(q.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Qx(n,e,t,i){if(e===!0&&i===!0)throw new ue(q.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function P_(n){if(!we.isDocumentKey(n))throw new ue(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function k_(n){if(we.isDocumentKey(n))throw new ue(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function bh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Se(12329,{type:typeof n})}function tn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ue(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=bh(n);throw new ue(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="firestore.googleapis.com",x_=!0;class N_{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kT,this.ssl=x_}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:x_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=oT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Ak)throw new ue(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Qx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CT((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ue(q.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ue(q.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ue(q.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dh{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new N_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new N_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new r1;switch(i.type){case"firstParty":return new a1(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ue(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=C_.get(t);i&&(de("ComponentProvider","Removing Datastore"),C_.delete(t),i.terminate())})(this),Promise.resolve()}}function Yx(n,e,t,i={}){var o;n=tn(n,Dh);const a=Yi(e),c=n._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),p=`${e}:${t}`;a&&(ph(`https://${p}`),mh("Firestore",!0)),c.host!==kT&&c.host!==p&&Yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},c),{host:p,ssl:a,emulatorOptions:i});if(!Qr(y,d)&&(n._setSettings(y),i.mockUserToken)){let _,E;if(typeof i.mockUserToken=="string")_=i.mockUserToken,E=Ht.MOCK_USER;else{_=Rw(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const I=i.mockUserToken.sub||i.mockUserToken.user_id;if(!I)throw new ue(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Ht(I)}n._authCredentials=new i1(new vE(_,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ts(this.firestore,e,this._query)}}class Kt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kt(this.firestore,e,this._key)}}class zi extends ts{constructor(e,t,i){super(e,t,Th(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new we(e))}withConverter(e){return new zi(this.firestore,e,this._path)}}function ht(n,e,...t){if(n=Ze(n),PT("collection","path",e),n instanceof Dh){const i=nt.fromString(e,...t);return k_(i),new zi(n,null,i)}{if(!(n instanceof Kt||n instanceof zi))throw new ue(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(nt.fromString(e,...t));return k_(i),new zi(n.firestore,null,i)}}function Lt(n,e,...t){if(n=Ze(n),arguments.length===1&&(e=wE.newId()),PT("doc","path",e),n instanceof Dh){const i=nt.fromString(e,...t);return P_(i),new Kt(n,null,new we(i))}{if(!(n instanceof Kt||n instanceof zi))throw new ue(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(nt.fromString(e,...t));return P_(i),new Kt(n.firestore,n instanceof zi?n.converter:null,new we(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="AsyncQueue";class D_{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new cT(this,"async_queue_retry"),this.rc=()=>{const i=Cf();i&&de(b_,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=e;const t=Cf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=Cf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise((()=>{}));const t=new Gr;return this._c((()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Ju.push(e),this.ac())))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!ua(e))throw e;de(b_,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_((()=>this.ac()))}}_c(e){const t=this.sc.then((()=>(this.ec=!0,e().catch((i=>{throw this.Xu=i,this.ec=!1,Zr("INTERNAL UNHANDLED ERROR: ",O_(i)),i})).then((i=>(this.ec=!1,i))))));return this.sc=t,t}enqueueAfterDelay(e,t,i){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const o=am.createAndSchedule(this,e,t,i,(a=>this.uc(a)));return this.Zu.push(o),o}oc(){this.Xu&&Se(47125,{cc:O_(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then((()=>{this.Zu.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()}))}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function O_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(n){return(function(t,i){if(typeof t!="object"||t===null)return!1;const o=t;for(const a of i)if(a in o&&typeof o[a]=="function")return!0;return!1})(n,["next","error","complete"])}class Er extends Dh{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new D_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new D_(e),this._firestoreClient=void 0,await e}}}function Xx(n,e){const t=typeof n=="object"?n:zl(),i=typeof n=="string"?n:Xc,o=jl(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=Pp("firestore");a&&Yx(o,...a)}return o}function Yl(n){if(n._terminated)throw new ue(q.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Jx(n),n._firestoreClient}function Jx(n){var e,t,i;const o=n._freezeSettings(),a=(function(d,p,y,_){return new T1(d,p,y,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,CT(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new Wx(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&(function(d){const p=d?._online.build();return{_offline:d?._offline.build(p),_online:p}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ia(Ut.fromBase64String(e))}catch(t){throw new ue(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ia(Ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ue(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ue(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ue(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx=/^__.*__$/;class eN{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new es(e,this.data,this.fieldMask,t,this.fieldTransforms):new ql(e,this.data,t,this.fieldTransforms)}}class xT{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new es(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function NT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ic:n})}}class Oh{constructor(e,t,i,o,a,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.Ec(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Oh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.dc({path:i,Rc:!1});return o.Vc(e),o}mc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.dc({path:i,Rc:!1});return o.Ec(),o}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return oh(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(NT(this.Ic)&&Zx.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class tN{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||kh(e)}bc(e,t,i,o=!1){return new Oh({Ic:e,methodName:t,wc:i,path:Ft.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jl(n){const e=n._freezeSettings(),t=kh(n._databaseId);return new tN(n._databaseId,!!e.ignoreUndefinedProperties,t)}function vm(n,e,t,i,o,a={}){const c=n.bc(a.merge||a.mergeFields?2:0,e,t,o);Tm("Data must be an object, but it was:",c,i);const d=VT(i,c);let p,y;if(a.merge)p=new En(c.fieldMask),y=c.fieldTransforms;else if(a.mergeFields){const _=[];for(const E of a.mergeFields){const I=hp(e,E,t);if(!c.contains(I))throw new ue(q.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);MT(_,I)||_.push(I)}p=new En(_),y=c.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,y=c.fieldTransforms;return new eN(new dn(d),p,y)}class Vh extends da{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vh}}function bT(n,e,t){return new Oh({Ic:3,wc:e.settings.wc,methodName:n._methodName,Rc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class _m extends da{_toFieldTransform(e){return new Qp(e.path,new Ll)}isEqual(e){return e instanceof _m}}class wm extends da{constructor(e,t){super(e),this.Sc=t}_toFieldTransform(e){const t=bT(this,e,!0),i=this.Sc.map((a=>Hs(a,t))),o=new ea(i);return new Qp(e.path,o)}isEqual(e){return e instanceof wm&&Qr(this.Sc,e.Sc)}}class Em extends da{constructor(e,t){super(e),this.Sc=t}_toFieldTransform(e){const t=bT(this,e,!0),i=this.Sc.map((a=>Hs(a,t))),o=new ta(i);return new Qp(e.path,o)}isEqual(e){return e instanceof Em&&Qr(this.Sc,e.Sc)}}function DT(n,e,t,i){const o=n.bc(1,e,t);Tm("Data must be an object, but it was:",o,i);const a=[],c=dn.empty();Zi(i,((p,y)=>{const _=Im(e,p,t);y=Ze(y);const E=o.mc(_);if(y instanceof Vh)a.push(_);else{const I=Hs(y,E);I!=null&&(a.push(_),c.set(_,I))}}));const d=new En(a);return new xT(c,d,o.fieldTransforms)}function OT(n,e,t,i,o,a){const c=n.bc(1,e,t),d=[hp(e,i,t)],p=[o];if(a.length%2!=0)throw new ue(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<a.length;I+=2)d.push(hp(e,a[I])),p.push(a[I+1]);const y=[],_=dn.empty();for(let I=d.length-1;I>=0;--I)if(!MT(y,d[I])){const D=d[I];let F=p[I];F=Ze(F);const M=c.mc(D);if(F instanceof Vh)y.push(D);else{const P=Hs(F,M);P!=null&&(y.push(D),_.set(D,P))}}const E=new En(y);return new xT(_,E,c.fieldTransforms)}function nN(n,e,t,i=!1){return Hs(t,n.bc(i?4:3,e))}function Hs(n,e){if(LT(n=Ze(n)))return Tm("Unsupported field value:",e,n),VT(n,e);if(n instanceof da)return(function(i,o){if(!NT(o.Ic))throw o.gc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return(function(i,o){const a=[];let c=0;for(const d of i){let p=Hs(d,o.fc(c));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),c++}return{arrayValue:{values:a}}})(n,e)}return(function(i,o){if((i=Ze(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return H1(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=It.fromDate(i);return{timestampValue:th(o.serializer,a)}}if(i instanceof It){const a=new It(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:th(o.serializer,a)}}if(i instanceof gm)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ia)return{bytesValue:ZE(o.serializer,i._byteString)};if(i instanceof Kt){const a=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(a))throw o.gc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Jp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof ym)return(function(c,d){return{mapValue:{fields:{[PE]:{stringValue:kE},[Jc]:{arrayValue:{values:c.toArray().map((y=>{if(typeof y!="number")throw d.gc("VectorValues must only contain numeric values.");return Gp(d.serializer,y)}))}}}}}})(i,o);throw o.gc(`Unsupported field value: ${bh(i)}`)})(n,e)}function VT(n,e){const t={};return TE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zi(n,((i,o)=>{const a=Hs(o,e.Ac(i));a!=null&&(t[i]=a)})),{mapValue:{fields:t}}}function LT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof It||n instanceof gm||n instanceof ia||n instanceof Kt||n instanceof da||n instanceof ym)}function Tm(n,e,t){if(!LT(t)||!(function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)})(t)){const i=bh(t);throw i==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+i)}}function hp(n,e,t){if((e=Ze(e))instanceof Xl)return e._internalPath;if(typeof e=="string")return Im(n,e);throw oh("Field path arguments must be of type string or ",n,!1,void 0,t)}const rN=new RegExp("[~\\*/\\[\\]]");function Im(n,e,t){if(e.search(rN)>=0)throw oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Xl(...e.split("."))._internalPath}catch{throw oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function oh(n,e,t,i,o){const a=i&&!i.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(a||c)&&(p+=" (found",a&&(p+=` in field ${i}`),c&&(p+=` in document ${o}`),p+=")"),new ue(q.INVALID_ARGUMENT,d+n+p)}function MT(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e,t,i,o,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Lh("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class iN extends FT{data(){return super.data()}}function Lh(n,e){return typeof e=="string"?Im(n,e):e instanceof Xl?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ue(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sm{}class jT extends Sm{}function Zn(n,e,...t){let i=[];e instanceof Sm&&i.push(e),i=i.concat(t),(function(a){const c=a.filter((p=>p instanceof Rm)).length,d=a.filter((p=>p instanceof Mh)).length;if(c>1||c>0&&d>0)throw new ue(q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const o of i)n=o._apply(n);return n}class Mh extends jT{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Mh(e,t,i)}_apply(e){const t=this._parse(e);return zT(e._query,t),new ts(e.firestore,e.converter,ep(e._query,t))}_parse(e){const t=Jl(e.firestore);return(function(a,c,d,p,y,_,E){let I;if(y.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ue(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){M_(E,_);const F=[];for(const M of E)F.push(L_(p,a,M));I={arrayValue:{values:F}}}else I=L_(p,a,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||M_(E,_),I=nN(d,c,E,_==="in"||_==="not-in");return gt.create(y,_,I)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function On(n,e,t){const i=e,o=Lh("where",n);return Mh._create(o,i,t)}class Rm extends Sm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Rm(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:ir.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,a){let c=o;const d=a.getFlattenedFilters();for(const p of d)zT(c,p),c=ep(c,p)})(e._query,t),new ts(e.firestore,e.converter,ep(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Am extends jT{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Am(e,t)}_apply(e){const t=(function(o,a,c){if(o.startAt!==null)throw new ue(q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ue(q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Vl(a,c)})(e._query,this._field,this._direction);return new ts(e.firestore,e.converter,(function(o,a){const c=o.explicitOrderBy.concat([a]);return new ca(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function Wo(n,e="asc"){const t=e,i=Lh("orderBy",n);return Am._create(i,t)}function L_(n,e,t){if(typeof(t=Ze(t))=="string"){if(t==="")throw new ue(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ME(e)&&t.indexOf("/")!==-1)throw new ue(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(nt.fromString(t));if(!we.isDocumentKey(i))throw new ue(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Yv(n,new we(i))}if(t instanceof Kt)return Yv(n,t._key);throw new ue(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bh(t)}.`)}function M_(n,e){if(!Array.isArray(n)||n.length===0)throw new ue(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zT(n,e){const t=(function(o,a){for(const c of o)for(const d of c.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ue(q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class sN{convertValue(e,t="none"){switch(qi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Hi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Zi(e,((o,a)=>{i[o]=this.convertValue(a,t)})),i}convertVectorValue(e){var t,i,o;const a=(o=(i=(t=e.fields)===null||t===void 0?void 0:t[Jc].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map((c=>dt(c.doubleValue)));return new ym(a)}convertGeoPoint(e){return new gm(dt(e.latitude),dt(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Eh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(bl(e));default:return null}}convertTimestamp(e){const t=Wi(e);return new It(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=nt.fromString(e);Ge(sT(i),9688,{name:e});const o=new Dl(i.get(1),i.get(3)),a=new we(i.popFirst(5));return o.isEqual(t)||Zr(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class BT extends FT{constructor(e,t,i,o,a,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Lh("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Fc extends BT{data(e={}){return super.data(e)}}class $T{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new gl(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new Fc(this._firestore,this._userDataWriter,i.key,i,new gl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ue(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,a){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((d=>{const p=new Fc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new gl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>a||d.type!==3)).map((d=>{const p=new Fc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new gl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,_=-1;return d.type!==0&&(y=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:oN(d.type),doc:p,oldIndex:y,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function oN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(n){n=tn(n,Kt);const e=tn(n.firestore,Er);return Kx(Yl(e),n._key).then((t=>WT(e,n,t)))}class Pm extends sN{constructor(e){super(),this.firestore=e}convertBytes(e){return new ia(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,t)}}function Jn(n){n=tn(n,ts);const e=tn(n.firestore,Er),t=Yl(e),i=new Pm(e);return UT(n._query),Gx(t,n._query).then((o=>new $T(e,i,n,o)))}function Uc(n,e,t){n=tn(n,Kt);const i=tn(n.firestore,Er),o=Cm(n.converter,e,t);return Zl(i,[vm(Jl(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,en.none())])}function yl(n,e,t,...i){n=tn(n,Kt);const o=tn(n.firestore,Er),a=Jl(o);let c;return c=typeof(e=Ze(e))=="string"||e instanceof Xl?OT(a,"updateDoc",n._key,e,t,i):DT(a,"updateDoc",n._key,e),Zl(o,[c.toMutation(n._key,en.exists(!0))])}function Sl(n){return Zl(tn(n.firestore,Er),[new Ch(n._key,en.none())])}function ah(n,e){const t=tn(n.firestore,Er),i=Lt(n),o=Cm(n.converter,e);return Zl(t,[vm(Jl(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,en.exists(!1))]).then((()=>i))}function Oi(n,...e){var t,i,o;n=Ze(n);let a={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||V_(e[c])||(a=e[c],c++);const d={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(V_(e[c])){const E=e[c];e[c]=(t=E.next)===null||t===void 0?void 0:t.bind(E),e[c+1]=(i=E.error)===null||i===void 0?void 0:i.bind(E),e[c+2]=(o=E.complete)===null||o===void 0?void 0:o.bind(E)}let p,y,_;if(n instanceof Kt)y=tn(n.firestore,Er),_=Th(n._key.path),p={next:E=>{e[c]&&e[c](WT(y,n,E))},error:e[c+1],complete:e[c+2]};else{const E=tn(n,ts);y=tn(E.firestore,Er),_=E._query;const I=new Pm(y);p={next:D=>{e[c]&&e[c](new $T(y,I,E,D))},error:e[c+1],complete:e[c+2]},UT(n._query)}return(function(I,D,F,M){const P=new mm(M),J=new dm(D,P,F);return I.asyncQueue.enqueueAndForget((async()=>um(await sh(I),J))),()=>{P.xu(),I.asyncQueue.enqueueAndForget((async()=>cm(await sh(I),J)))}})(Yl(y),_,d,p)}function Zl(n,e){return(function(i,o){const a=new Gr;return i.asyncQueue.enqueueAndForget((async()=>Vx(await qx(i),o,a))),a.promise})(Yl(n),e)}function WT(n,e,t){const i=t.docs.get(e._key),o=new Pm(n);return new BT(n,o,e._key,i,new gl(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Jl(e)}set(e,t,i){this._verifyNotCommitted();const o=kf(e,this._firestore),a=Cm(o.converter,t,i),c=vm(this._dataReader,"WriteBatch.set",o._key,a,o.converter!==null,i);return this._mutations.push(c.toMutation(o._key,en.none())),this}update(e,t,i,...o){this._verifyNotCommitted();const a=kf(e,this._firestore);let c;return c=typeof(t=Ze(t))=="string"||t instanceof Xl?OT(this._dataReader,"WriteBatch.update",a._key,t,i,o):DT(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(c.toMutation(a._key,en.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=kf(e,this._firestore);return this._mutations=this._mutations.concat(new Ch(t._key,en.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ue(q.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function kf(n,e){if((n=Ze(n)).firestore!==e)throw new ue(q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function Wr(){return new _m("serverTimestamp")}function lN(...n){return new wm("arrayUnion",n)}function uN(...n){return new Em("arrayRemove",n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(n){return Yl(n=tn(n,Er)),new aN(n,(e=>Zl(n,e)))}(function(e,t=!0){(function(o){aa=o})(Bs),Bi(new Yr("firestore",((i,{instanceIdentifier:o,options:a})=>{const c=i.getProvider("app").getImmediate(),d=new Er(new s1(i.getProvider("auth-internal")),new l1(c,i.getProvider("app-check-internal")),(function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ue(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dl(y.options.projectId,_)})(c,o),c);return a=Object.assign({useFetchStreams:t},a),d._setSettings(a),d}),"PUBLIC").setMultipleInstances(!0)),Vn(Fv,Uv,e),Vn(Fv,Uv,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="firebasestorage.googleapis.com",cN="storageBucket",hN=120*1e3,dN=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends Ir{constructor(e,t,i=0){super(xf(e),`Firebase Storage: ${t} (${xf(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Sr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return xf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Tr;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Tr||(Tr={}));function xf(n){return"storage/"+n}function fN(){const n="An unknown error occurred, please check the error payload for server response.";return new Sr(Tr.UNKNOWN,n)}function pN(){return new Sr(Tr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function mN(){return new Sr(Tr.CANCELED,"User canceled the upload/download.")}function gN(n){return new Sr(Tr.INVALID_URL,"Invalid URL '"+n+"'.")}function yN(n){return new Sr(Tr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function F_(n){return new Sr(Tr.INVALID_ARGUMENT,n)}function qT(){return new Sr(Tr.APP_DELETED,"The Firebase app was deleted.")}function vN(n){return new Sr(Tr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=nr.makeFromUrl(e,t)}catch{return new nr(e,"")}if(i.path==="")return i;throw yN(e)}static makeFromUrl(e,t){let i=null;const o="([A-Za-z0-9.\\-_]+)";function a(ne){ne.path.charAt(ne.path.length-1)==="/"&&(ne.path_=ne.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+o+c,"i"),p={bucket:1,path:3};function y(ne){ne.path_=decodeURIComponent(ne.path)}const _="v[A-Za-z0-9_]+",E=t.replace(/[.]/g,"\\."),I="(/([^?#]*).*)?$",D=new RegExp(`^https?://${E}/${_}/b/${o}/o${I}`,"i"),F={bucket:1,path:3},M=t===HT?"(?:storage.googleapis.com|storage.cloud.google.com)":t,P="([^?#]*)",J=new RegExp(`^https?://${M}/${o}/${P}`,"i"),Y=[{regex:d,indices:p,postModify:a},{regex:D,indices:F,postModify:y},{regex:J,indices:{bucket:1,path:2},postModify:y}];for(let ne=0;ne<Y.length;ne++){const ve=Y[ne],ae=ve.regex.exec(e);if(ae){const k=ae[ve.indices.bucket];let S=ae[ve.indices.path];S||(S=""),i=new nr(k,S),ve.postModify(i);break}}if(i==null)throw gN(e);return i}}class _N{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(n,e,t){let i=1,o=null,a=null,c=!1,d=0;function p(){return d===2}let y=!1;function _(...P){y||(y=!0,e.apply(null,P))}function E(P){o=setTimeout(()=>{o=null,n(D,p())},P)}function I(){a&&clearTimeout(a)}function D(P,...J){if(y){I();return}if(P){I(),_.call(null,P,...J);return}if(p()||c){I(),_.call(null,P,...J);return}i<64&&(i*=2);let Y;d===1?(d=2,Y=0):Y=(i+Math.random())*1e3,E(Y)}let F=!1;function M(P){F||(F=!0,I(),!y&&(o!==null?(P||(d=2),clearTimeout(o),E(0)):P||(d=1)))}return E(0),a=setTimeout(()=>{c=!0,M(!0)},t),M}function EN(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(n){return n!==void 0}function U_(n,e,t,i){if(i<e)throw F_(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw F_(`Invalid value for '${n}'. Expected ${t} or less.`)}function IN(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const o=e(i)+"="+e(n[i]);t=t+o+"&"}return t=t.slice(0,-1),t}var lh;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(lh||(lh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||o||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e,t,i,o,a,c,d,p,y,_,E,I=!0,D=!1){this.url_=e,this.method_=t,this.headers_=i,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=_,this.connectionFactory_=E,this.retry=I,this.isUsingEmulator=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((F,M)=>{this.resolve_=F,this.reject_=M,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new Rc(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const c=d=>{const p=d.loaded,y=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,y)};this.progressCallback_!==null&&a.addUploadProgressListener(c),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(c),this.pendingConnection_=null;const d=a.getErrorCode()===lh.NO_ERROR,p=a.getStatus();if(!d||SN(p,this.additionalRetryCodes_)&&this.retry){const _=a.getErrorCode()===lh.ABORT;i(!1,new Rc(!1,null,_));return}const y=this.successCodes_.indexOf(p)!==-1;i(!0,new Rc(y,a))})},t=(i,o)=>{const a=this.resolve_,c=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());TN(p)?a(p):a()}catch(p){c(p)}else if(d!==null){const p=fN();p.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,p)):c(p)}else if(o.canceled){const p=this.appDelete_?qT():mN();c(p)}else{const p=pN();c(p)}};this.canceled_?t(!1,new Rc(!1,null,!0)):this.backoffId_=wN(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&EN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Rc{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function AN(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function CN(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function PN(n,e){e&&(n["X-Firebase-GMPID"]=e)}function kN(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function xN(n,e,t,i,o,a,c=!0,d=!1){const p=IN(n.urlParams),y=n.url+p,_=Object.assign({},n.headers);return PN(_,e),AN(_,t),CN(_,a),kN(_,i),new RN(y,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,c,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function bN(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,t){this._service=e,t instanceof nr?this._location=t:this._location=nr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new uh(e,t)}get root(){const e=new nr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return bN(this._location.path)}get storage(){return this._service}get parent(){const e=NN(this._location.path);if(e===null)return null;const t=new nr(this._location.bucket,e);return new uh(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw vN(e)}}function j_(n,e){const t=e?.[cN];return t==null?null:nr.makeFromBucketSpec(t,n)}function DN(n,e,t,i={}){n.host=`${e}:${t}`;const o=Yi(e);o&&(ph(`https://${n.host}/b`),mh("Storage",!0)),n._isUsingEmulator=!0,n._protocol=o?"https":"http";const{mockUserToken:a}=i;a&&(n._overrideAuthToken=typeof a=="string"?a:Rw(a,n.app.options.projectId))}class ON{constructor(e,t,i,o,a,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=o,this._firebaseVersion=a,this._isUsingEmulator=c,this._bucket=null,this._host=HT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=hN,this._maxUploadRetryTime=dN,this._requests=new Set,o!=null?this._bucket=nr.makeFromBucketSpec(o,this._host):this._bucket=j_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=nr.makeFromBucketSpec(this._url,e):this._bucket=j_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){U_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){U_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Zt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new uh(this,e)}_makeRequest(e,t,i,o,a=!0){if(this._deleted)return new _N(qT());{const c=xN(e,this._appId,i,o,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,o).getPromise()}}const z_="@firebase/storage",B_="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="storage";function VN(n=zl(),e){n=Ze(n);const i=jl(n,KT).getImmediate({identifier:e}),o=Pp("storage");return o&&LN(i,...o),i}function LN(n,e,t,i={}){DN(n,e,t,i)}function MN(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new ON(t,i,o,e,Bs)}function FN(){Bi(new Yr(KT,MN,"PUBLIC").setMultipleInstances(!0)),Vn(z_,B_,""),Vn(z_,B_,"esm2017")}FN();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,t,i,o){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Zt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=i.getImmediate({optional:!0}),this.auth||t.get().then(a=>this.auth=a,()=>{}),this.messaging||i.get().then(a=>this.messaging=a,()=>{}),this.appCheck||o?.get().then(a=>this.appCheck=a,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),i=await this.getMessagingToken(),o=await this.getAppCheckToken(e);return{authToken:t,messagingToken:i,appCheckToken:o}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp="us-central1";class jN{constructor(e,t,i,o,a=dp,c=(...d)=>fetch(...d)){this.app=e,this.fetchImpl=c,this.emulatorOrigin=null,this.contextProvider=new UN(e,t,i,o),this.cancelAllRequests=new Promise(d=>{this.deleteService=()=>Promise.resolve(d())});try{const d=new URL(a);this.customDomain=d.origin+(d.pathname==="/"?"":d.pathname),this.region=dp}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function zN(n,e,t){const i=Yi(e);n.emulatorOrigin=`http${i?"s":""}://${e}:${t}`,i&&(ph(n.emulatorOrigin),mh("Functions",!0))}const $_="@firebase/functions",W_="0.12.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN="auth-internal",$N="app-check-internal",WN="messaging-internal";function HN(n){const e=(t,{instanceIdentifier:i})=>{const o=t.getProvider("app").getImmediate(),a=t.getProvider(BN),c=t.getProvider(WN),d=t.getProvider($N);return new jN(o,a,c,d,i)};Bi(new Yr(GT,e,"PUBLIC").setMultipleInstances(!0)),Vn($_,W_,n),Vn($_,W_,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(n=zl(),e=dp){const i=jl(Ze(n),GT).getImmediate({identifier:e}),o=Pp("functions");return o&&KN(i,...o),i}function KN(n,e,t){zN(Ze(n),e,t)}HN();const GN={apiKey:"AIzaSyAVEVJS5si6tXjd8-impxmq_jQMn9Qe15s",authDomain:"cosmivity-d789f.firebaseapp.com",projectId:"cosmivity-d789f",storageBucket:"cosmivity-d789f.firebasestorage.app",messagingSenderId:"822858074367",appId:"1:822858074367:web:ca5de8953cd50dcccde4ca"};let xs=null,H_=null,q_=null,K_=null,G_=null;function eu(){return xs||(xs=NA().length?zl():Pw(GN),H_=t1(xs),q_=Xx(xs),K_=VN(xs),G_=qN(xs)),{app:xs,auth:H_,db:q_,storage:K_,functions:G_}}const QN=()=>eu().auth,Ne=()=>eu().db,YN=()=>eu().storage,XN=()=>eu().functions,JN=()=>eu().app,ZN=QN(),eb=Ne();YN();XN();JN();const Nf={name:"Guest User",email:"",bio:"",college:"",avatarUrl:"/avatar.png",github:"",linkedin:"",website:"",skills:[],experience:[],projects:[],certifications:[],title:"",location:"",phone:""},QT=N.createContext(void 0),tb=({children:n})=>{const[e,t]=N.useState(Nf),[i,o]=N.useState(null),[a,c]=N.useState(!0);return N.useEffect(()=>{const d=HC(ZN,p=>{let y=()=>{};if(p){o(p);const _=Lt(eb,"users",p.uid);y=Oi(_,async E=>{if(E.exists()){const I=E.data();t({...Nf,...I,avatarUrl:"/avatar.png"})}else{const I={name:p.displayName||p.email?.split("@")[0]||"User",email:p.email||"",avatarUrl:"/avatar.png",bio:"",college:"",github:"",linkedin:"",website:"",skills:[],experience:[],projects:[],certifications:[],title:"",location:"",phone:""};try{await Uc(_,I),t(I)}catch{}}c(!1)},E=>{c(!1)})}else o(null),t(Nf),c(!1);return()=>{y()}});return()=>d()},[]),ee.jsx(QT.Provider,{value:{user:e,setUser:t,firebaseUser:i,loading:a},children:n})},nb=()=>{const n=N.useContext(QT);if(n===void 0)throw new Error("useUser must be used within a UserProvider");return n},rb=5,YT=5e3;let bf=0;function ib(){return bf=(bf+1)%Number.MAX_SAFE_INTEGER,bf.toString()}const Df=new Map,Q_=n=>{if(Df.has(n))return;const e=setTimeout(()=>{Df.delete(n),Rl({type:"REMOVE_TOAST",toastId:n})},YT);Df.set(n,e)},sb=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,rb)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?Q_(t):n.toasts.forEach(i=>{Q_(i.id)}),{...n,toasts:n.toasts.map(i=>i.id===t||t===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},jc=[];let zc={toasts:[]};function Rl(n){zc=sb(zc,n),jc.forEach(e=>{e(zc)})}function ob({...n}){const e=ib(),t=o=>Rl({type:"UPDATE_TOAST",toast:{...o,id:e}}),i=()=>Rl({type:"DISMISS_TOAST",toastId:e});return Rl({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:o=>{o||i()}}}),setTimeout(()=>{i()},YT-500),{id:e,dismiss:i,update:t}}function ab(){const[n,e]=N.useState(zc);return N.useEffect(()=>(jc.push(e),()=>{const t=jc.indexOf(e);t>-1&&jc.splice(t,1)}),[n]),{...n,toast:ob,dismiss:t=>Rl({type:"DISMISS_TOAST",toastId:t})}}function wn(n,e,{checkForDefaultPrevented:t=!0}={}){return function(o){if(n?.(o),t===!1||!o.defaultPrevented)return e?.(o)}}function Y_(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function km(...n){return e=>{let t=!1;const i=n.map(o=>{const a=Y_(o,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let o=0;o<i.length;o++){const a=i[o];typeof a=="function"?a():Y_(n[o],null)}}}}function js(...n){return N.useCallback(km(...n),n)}function AO(n,e){const t=N.createContext(e),i=a=>{const{children:c,...d}=a,p=N.useMemo(()=>d,Object.values(d));return ee.jsx(t.Provider,{value:p,children:c})};i.displayName=n+"Provider";function o(a){const c=N.useContext(t);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${n}\``)}return[i,o]}function XT(n,e=[]){let t=[];function i(a,c){const d=N.createContext(c),p=t.length;t=[...t,c];const y=E=>{const{scope:I,children:D,...F}=E,M=I?.[n]?.[p]||d,P=N.useMemo(()=>F,Object.values(F));return ee.jsx(M.Provider,{value:P,children:D})};y.displayName=a+"Provider";function _(E,I){const D=I?.[n]?.[p]||d,F=N.useContext(D);if(F)return F;if(c!==void 0)return c;throw new Error(`\`${E}\` must be used within \`${a}\``)}return[y,_]}const o=()=>{const a=t.map(c=>N.createContext(c));return function(d){const p=d?.[n]||a;return N.useMemo(()=>({[`__scope${n}`]:{...d,[n]:p}}),[d,p])}};return o.scopeName=n,[i,lb(o,...e)]}function lb(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const c=i.reduce((d,{useScope:p,scopeName:y})=>{const E=p(a)[`__scope${y}`];return{...d,...E}},{});return N.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return t.scopeName=e.scopeName,t}var fp=N.forwardRef((n,e)=>{const{children:t,...i}=n,o=N.Children.toArray(t),a=o.find(cb);if(a){const c=a.props.children,d=o.map(p=>p===a?N.Children.count(c)>1?N.Children.only(null):N.isValidElement(c)?c.props.children:null:p);return ee.jsx(pp,{...i,ref:e,children:N.isValidElement(c)?N.cloneElement(c,void 0,d):null})}return ee.jsx(pp,{...i,ref:e,children:t})});fp.displayName="Slot";var pp=N.forwardRef((n,e)=>{const{children:t,...i}=n;if(N.isValidElement(t)){const o=db(t),a=hb(i,t.props);return t.type!==N.Fragment&&(a.ref=e?km(e,o):o),N.cloneElement(t,a)}return N.Children.count(t)>1?N.Children.only(null):null});pp.displayName="SlotClone";var ub=({children:n})=>ee.jsx(ee.Fragment,{children:n});function cb(n){return N.isValidElement(n)&&n.type===ub}function hb(n,e){const t={...e};for(const i in e){const o=n[i],a=e[i];/^on[A-Z]/.test(i)?o&&a?t[i]=(...d)=>{a(...d),o(...d)}:o&&(t[i]=o):i==="style"?t[i]={...o,...a}:i==="className"&&(t[i]=[o,a].filter(Boolean).join(" "))}return{...n,...t}}function db(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function fb(n){const e=n+"CollectionProvider",[t,i]=XT(e),[o,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),c=D=>{const{scope:F,children:M}=D,P=er.useRef(null),J=er.useRef(new Map).current;return ee.jsx(o,{scope:F,itemMap:J,collectionRef:P,children:M})};c.displayName=e;const d=n+"CollectionSlot",p=er.forwardRef((D,F)=>{const{scope:M,children:P}=D,J=a(d,M),Q=js(F,J.collectionRef);return ee.jsx(fp,{ref:Q,children:P})});p.displayName=d;const y=n+"CollectionItemSlot",_="data-radix-collection-item",E=er.forwardRef((D,F)=>{const{scope:M,children:P,...J}=D,Q=er.useRef(null),Y=js(F,Q),ne=a(y,M);return er.useEffect(()=>(ne.itemMap.set(Q,{ref:Q,...J}),()=>void ne.itemMap.delete(Q))),ee.jsx(fp,{[_]:"",ref:Y,children:P})});E.displayName=y;function I(D){const F=a(n+"CollectionConsumer",D);return er.useCallback(()=>{const P=F.collectionRef.current;if(!P)return[];const J=Array.from(P.querySelectorAll(`[${_}]`));return Array.from(F.itemMap.values()).sort((ne,ve)=>J.indexOf(ne.ref.current)-J.indexOf(ve.ref.current))},[F.collectionRef,F.itemMap])}return[{Provider:c,Slot:p,ItemSlot:E},I,i]}var JT=N.forwardRef((n,e)=>{const{children:t,...i}=n,o=N.Children.toArray(t),a=o.find(mb);if(a){const c=a.props.children,d=o.map(p=>p===a?N.Children.count(c)>1?N.Children.only(null):N.isValidElement(c)?c.props.children:null:p);return ee.jsx(mp,{...i,ref:e,children:N.isValidElement(c)?N.cloneElement(c,void 0,d):null})}return ee.jsx(mp,{...i,ref:e,children:t})});JT.displayName="Slot";var mp=N.forwardRef((n,e)=>{const{children:t,...i}=n;if(N.isValidElement(t)){const o=yb(t),a=gb(i,t.props);return t.type!==N.Fragment&&(a.ref=e?km(e,o):o),N.cloneElement(t,a)}return N.Children.count(t)>1?N.Children.only(null):null});mp.displayName="SlotClone";var pb=({children:n})=>ee.jsx(ee.Fragment,{children:n});function mb(n){return N.isValidElement(n)&&n.type===pb}function gb(n,e){const t={...e};for(const i in e){const o=n[i],a=e[i];/^on[A-Z]/.test(i)?o&&a?t[i]=(...d)=>{a(...d),o(...d)}:o&&(t[i]=o):i==="style"?t[i]={...o,...a}:i==="className"&&(t[i]=[o,a].filter(Boolean).join(" "))}return{...n,...t}}function yb(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var vb=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Rr=vb.reduce((n,e)=>{const t=N.forwardRef((i,o)=>{const{asChild:a,...c}=i,d=a?JT:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),ee.jsx(d,{...c,ref:o})});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function ZT(n,e){n&&Rp.flushSync(()=>n.dispatchEvent(e))}function ti(n){const e=N.useRef(n);return N.useEffect(()=>{e.current=n}),N.useMemo(()=>(...t)=>e.current?.(...t),[])}function _b(n,e=globalThis?.document){const t=ti(n);N.useEffect(()=>{const i=o=>{o.key==="Escape"&&t(o)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[t,e])}var wb="DismissableLayer",gp="dismissableLayer.update",Eb="dismissableLayer.pointerDownOutside",Tb="dismissableLayer.focusOutside",X_,e0=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),t0=N.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:c,onDismiss:d,...p}=n,y=N.useContext(e0),[_,E]=N.useState(null),I=_?.ownerDocument??globalThis?.document,[,D]=N.useState({}),F=js(e,k=>E(k)),M=Array.from(y.layers),[P]=[...y.layersWithOutsidePointerEventsDisabled].slice(-1),J=M.indexOf(P),Q=_?M.indexOf(_):-1,Y=y.layersWithOutsidePointerEventsDisabled.size>0,ne=Q>=J,ve=Sb(k=>{const S=k.target,C=[...y.branches].some(b=>b.contains(S));!ne||C||(o?.(k),c?.(k),k.defaultPrevented||d?.())},I),ae=Rb(k=>{const S=k.target;[...y.branches].some(b=>b.contains(S))||(a?.(k),c?.(k),k.defaultPrevented||d?.())},I);return _b(k=>{Q===y.layers.size-1&&(i?.(k),!k.defaultPrevented&&d&&(k.preventDefault(),d()))},I),N.useEffect(()=>{if(_)return t&&(y.layersWithOutsidePointerEventsDisabled.size===0&&(X_=I.body.style.pointerEvents,I.body.style.pointerEvents="none"),y.layersWithOutsidePointerEventsDisabled.add(_)),y.layers.add(_),J_(),()=>{t&&y.layersWithOutsidePointerEventsDisabled.size===1&&(I.body.style.pointerEvents=X_)}},[_,I,t,y]),N.useEffect(()=>()=>{_&&(y.layers.delete(_),y.layersWithOutsidePointerEventsDisabled.delete(_),J_())},[_,y]),N.useEffect(()=>{const k=()=>D({});return document.addEventListener(gp,k),()=>document.removeEventListener(gp,k)},[]),ee.jsx(Rr.div,{...p,ref:F,style:{pointerEvents:Y?ne?"auto":"none":void 0,...n.style},onFocusCapture:wn(n.onFocusCapture,ae.onFocusCapture),onBlurCapture:wn(n.onBlurCapture,ae.onBlurCapture),onPointerDownCapture:wn(n.onPointerDownCapture,ve.onPointerDownCapture)})});t0.displayName=wb;var Ib="DismissableLayerBranch",n0=N.forwardRef((n,e)=>{const t=N.useContext(e0),i=N.useRef(null),o=js(e,i);return N.useEffect(()=>{const a=i.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),ee.jsx(Rr.div,{...n,ref:o})});n0.displayName=Ib;function Sb(n,e=globalThis?.document){const t=ti(n),i=N.useRef(!1),o=N.useRef(()=>{});return N.useEffect(()=>{const a=d=>{if(d.target&&!i.current){let p=function(){r0(Eb,t,y,{discrete:!0})};const y={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=p,e.addEventListener("click",o.current,{once:!0})):p()}else e.removeEventListener("click",o.current);i.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",a),e.removeEventListener("click",o.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function Rb(n,e=globalThis?.document){const t=ti(n),i=N.useRef(!1);return N.useEffect(()=>{const o=a=>{a.target&&!i.current&&r0(Tb,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function J_(){const n=new CustomEvent(gp);document.dispatchEvent(n)}function r0(n,e,t,{discrete:i}){const o=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&o.addEventListener(n,e,{once:!0}),i?ZT(o,a):o.dispatchEvent(a)}var Ab=t0,Cb=n0,ch=globalThis?.document?N.useLayoutEffect:()=>{},Pb="Portal",i0=N.forwardRef((n,e)=>{const{container:t,...i}=n,[o,a]=N.useState(!1);ch(()=>a(!0),[]);const c=t||o&&globalThis?.document?.body;return c?rS.createPortal(ee.jsx(Rr.div,{...i,ref:e}),c):null});i0.displayName=Pb;function kb(n,e){return N.useReducer((t,i)=>e[t][i]??t,n)}var s0=n=>{const{present:e,children:t}=n,i=xb(e),o=typeof t=="function"?t({present:i.isPresent}):N.Children.only(t),a=js(i.ref,Nb(o));return typeof t=="function"||i.isPresent?N.cloneElement(o,{ref:a}):null};s0.displayName="Presence";function xb(n){const[e,t]=N.useState(),i=N.useRef({}),o=N.useRef(n),a=N.useRef("none"),c=n?"mounted":"unmounted",[d,p]=kb(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const y=Ac(i.current);a.current=d==="mounted"?y:"none"},[d]),ch(()=>{const y=i.current,_=o.current;if(_!==n){const I=a.current,D=Ac(y);n?p("MOUNT"):D==="none"||y?.display==="none"?p("UNMOUNT"):p(_&&I!==D?"ANIMATION_OUT":"UNMOUNT"),o.current=n}},[n,p]),ch(()=>{if(e){let y;const _=e.ownerDocument.defaultView??window,E=D=>{const M=Ac(i.current).includes(D.animationName);if(D.target===e&&M&&(p("ANIMATION_END"),!o.current)){const P=e.style.animationFillMode;e.style.animationFillMode="forwards",y=_.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=P)})}},I=D=>{D.target===e&&(a.current=Ac(i.current))};return e.addEventListener("animationstart",I),e.addEventListener("animationcancel",E),e.addEventListener("animationend",E),()=>{_.clearTimeout(y),e.removeEventListener("animationstart",I),e.removeEventListener("animationcancel",E),e.removeEventListener("animationend",E)}}else p("ANIMATION_END")},[e,p]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:N.useCallback(y=>{y&&(i.current=getComputedStyle(y)),t(y)},[])}}function Ac(n){return n?.animationName||"none"}function Nb(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function bb({prop:n,defaultProp:e,onChange:t=()=>{}}){const[i,o]=Db({defaultProp:e,onChange:t}),a=n!==void 0,c=a?n:i,d=ti(t),p=N.useCallback(y=>{if(a){const E=typeof y=="function"?y(n):y;E!==n&&d(E)}else o(y)},[a,n,o,d]);return[c,p]}function Db({defaultProp:n,onChange:e}){const t=N.useState(n),[i]=t,o=N.useRef(i),a=ti(e);return N.useEffect(()=>{o.current!==i&&(a(i),o.current=i)},[i,o,a]),t}var Ob="VisuallyHidden",xm=N.forwardRef((n,e)=>ee.jsx(Rr.span,{...n,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}));xm.displayName=Ob;var o0="ToastProvider",[Nm,Vb,Lb]=fb("Toast"),[a0,CO]=XT("Toast",[Lb]),[Mb,Fh]=a0(o0),l0=n=>{const{__scopeToast:e,label:t="Notification",duration:i=5e3,swipeDirection:o="right",swipeThreshold:a=50,children:c}=n,[d,p]=N.useState(null),[y,_]=N.useState(0),E=N.useRef(!1),I=N.useRef(!1);return t.trim(),ee.jsx(Nm.Provider,{scope:e,children:ee.jsx(Mb,{scope:e,label:t,duration:i,swipeDirection:o,swipeThreshold:a,toastCount:y,viewport:d,onViewportChange:p,onToastAdd:N.useCallback(()=>_(D=>D+1),[]),onToastRemove:N.useCallback(()=>_(D=>D-1),[]),isFocusedToastEscapeKeyDownRef:E,isClosePausedRef:I,children:c})})};l0.displayName=o0;var u0="ToastViewport",Fb=["F8"],yp="toast.viewportPause",vp="toast.viewportResume",c0=N.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:i=Fb,label:o="Notifications ({hotkey})",...a}=n,c=Fh(u0,t),d=Vb(t),p=N.useRef(null),y=N.useRef(null),_=N.useRef(null),E=N.useRef(null),I=js(e,E,c.onViewportChange),D=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=c.toastCount>0;N.useEffect(()=>{const P=J=>{i.length!==0&&i.every(Y=>J[Y]||J.code===Y)&&E.current?.focus()};return document.addEventListener("keydown",P),()=>document.removeEventListener("keydown",P)},[i]),N.useEffect(()=>{const P=p.current,J=E.current;if(F&&P&&J){const Q=()=>{if(!c.isClosePausedRef.current){const ae=new CustomEvent(yp);J.dispatchEvent(ae),c.isClosePausedRef.current=!0}},Y=()=>{if(c.isClosePausedRef.current){const ae=new CustomEvent(vp);J.dispatchEvent(ae),c.isClosePausedRef.current=!1}},ne=ae=>{!P.contains(ae.relatedTarget)&&Y()},ve=()=>{P.contains(document.activeElement)||Y()};return P.addEventListener("focusin",Q),P.addEventListener("focusout",ne),P.addEventListener("pointermove",Q),P.addEventListener("pointerleave",ve),window.addEventListener("blur",Q),window.addEventListener("focus",Y),()=>{P.removeEventListener("focusin",Q),P.removeEventListener("focusout",ne),P.removeEventListener("pointermove",Q),P.removeEventListener("pointerleave",ve),window.removeEventListener("blur",Q),window.removeEventListener("focus",Y)}}},[F,c.isClosePausedRef]);const M=N.useCallback(({tabbingDirection:P})=>{const Q=d().map(Y=>{const ne=Y.ref.current,ve=[ne,...Jb(ne)];return P==="forwards"?ve:ve.reverse()});return(P==="forwards"?Q.reverse():Q).flat()},[d]);return N.useEffect(()=>{const P=E.current;if(P){const J=Q=>{const Y=Q.altKey||Q.ctrlKey||Q.metaKey;if(Q.key==="Tab"&&!Y){const ve=document.activeElement,ae=Q.shiftKey;if(Q.target===P&&ae){y.current?.focus();return}const C=M({tabbingDirection:ae?"backwards":"forwards"}),b=C.findIndex(O=>O===ve);Of(C.slice(b+1))?Q.preventDefault():ae?y.current?.focus():_.current?.focus()}};return P.addEventListener("keydown",J),()=>P.removeEventListener("keydown",J)}},[d,M]),ee.jsxs(Cb,{ref:p,role:"region","aria-label":o.replace("{hotkey}",D),tabIndex:-1,style:{pointerEvents:F?void 0:"none"},children:[F&&ee.jsx(_p,{ref:y,onFocusFromOutsideViewport:()=>{const P=M({tabbingDirection:"forwards"});Of(P)}}),ee.jsx(Nm.Slot,{scope:t,children:ee.jsx(Rr.ol,{tabIndex:-1,...a,ref:I})}),F&&ee.jsx(_p,{ref:_,onFocusFromOutsideViewport:()=>{const P=M({tabbingDirection:"backwards"});Of(P)}})]})});c0.displayName=u0;var h0="ToastFocusProxy",_p=N.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:i,...o}=n,a=Fh(h0,t);return ee.jsx(xm,{"aria-hidden":!0,tabIndex:0,...o,ref:e,style:{position:"fixed"},onFocus:c=>{const d=c.relatedTarget;!a.viewport?.contains(d)&&i()}})});_p.displayName=h0;var Uh="Toast",Ub="toast.swipeStart",jb="toast.swipeMove",zb="toast.swipeCancel",Bb="toast.swipeEnd",d0=N.forwardRef((n,e)=>{const{forceMount:t,open:i,defaultOpen:o,onOpenChange:a,...c}=n,[d=!0,p]=bb({prop:i,defaultProp:o,onChange:a});return ee.jsx(s0,{present:t||d,children:ee.jsx(Hb,{open:d,...c,ref:e,onClose:()=>p(!1),onPause:ti(n.onPause),onResume:ti(n.onResume),onSwipeStart:wn(n.onSwipeStart,y=>{y.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:wn(n.onSwipeMove,y=>{const{x:_,y:E}=y.detail.delta;y.currentTarget.setAttribute("data-swipe","move"),y.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${_}px`),y.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${E}px`)}),onSwipeCancel:wn(n.onSwipeCancel,y=>{y.currentTarget.setAttribute("data-swipe","cancel"),y.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),y.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),y.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),y.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:wn(n.onSwipeEnd,y=>{const{x:_,y:E}=y.detail.delta;y.currentTarget.setAttribute("data-swipe","end"),y.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),y.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),y.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${_}px`),y.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${E}px`),p(!1)})})})});d0.displayName=Uh;var[$b,Wb]=a0(Uh,{onClose(){}}),Hb=N.forwardRef((n,e)=>{const{__scopeToast:t,type:i="foreground",duration:o,open:a,onClose:c,onEscapeKeyDown:d,onPause:p,onResume:y,onSwipeStart:_,onSwipeMove:E,onSwipeCancel:I,onSwipeEnd:D,...F}=n,M=Fh(Uh,t),[P,J]=N.useState(null),Q=js(e,oe=>J(oe)),Y=N.useRef(null),ne=N.useRef(null),ve=o||M.duration,ae=N.useRef(0),k=N.useRef(ve),S=N.useRef(0),{onToastAdd:C,onToastRemove:b}=M,O=ti(()=>{P?.contains(document.activeElement)&&M.viewport?.focus(),c()}),U=N.useCallback(oe=>{!oe||oe===1/0||(window.clearTimeout(S.current),ae.current=new Date().getTime(),S.current=window.setTimeout(O,oe))},[O]);N.useEffect(()=>{const oe=M.viewport;if(oe){const Ve=()=>{U(k.current),y?.()},je=()=>{const ke=new Date().getTime()-ae.current;k.current=k.current-ke,window.clearTimeout(S.current),p?.()};return oe.addEventListener(yp,je),oe.addEventListener(vp,Ve),()=>{oe.removeEventListener(yp,je),oe.removeEventListener(vp,Ve)}}},[M.viewport,ve,p,y,U]),N.useEffect(()=>{a&&!M.isClosePausedRef.current&&U(ve)},[a,ve,M.isClosePausedRef,U]),N.useEffect(()=>(C(),()=>b()),[C,b]);const A=N.useMemo(()=>P?v0(P):null,[P]);return M.viewport?ee.jsxs(ee.Fragment,{children:[A&&ee.jsx(qb,{__scopeToast:t,role:"status","aria-live":i==="foreground"?"assertive":"polite","aria-atomic":!0,children:A}),ee.jsx($b,{scope:t,onClose:O,children:Rp.createPortal(ee.jsx(Nm.ItemSlot,{scope:t,children:ee.jsx(Ab,{asChild:!0,onEscapeKeyDown:wn(d,()=>{M.isFocusedToastEscapeKeyDownRef.current||O(),M.isFocusedToastEscapeKeyDownRef.current=!1}),children:ee.jsx(Rr.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":M.swipeDirection,...F,ref:Q,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:wn(n.onKeyDown,oe=>{oe.key==="Escape"&&(d?.(oe.nativeEvent),oe.nativeEvent.defaultPrevented||(M.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:wn(n.onPointerDown,oe=>{oe.button===0&&(Y.current={x:oe.clientX,y:oe.clientY})}),onPointerMove:wn(n.onPointerMove,oe=>{if(!Y.current)return;const Ve=oe.clientX-Y.current.x,je=oe.clientY-Y.current.y,ke=!!ne.current,K=["left","right"].includes(M.swipeDirection),ge=["left","up"].includes(M.swipeDirection)?Math.min:Math.max,ie=K?ge(0,Ve):0,L=K?0:ge(0,je),H=oe.pointerType==="touch"?10:2,pe={x:ie,y:L},Ae={originalEvent:oe,delta:pe};ke?(ne.current=pe,Cc(jb,E,Ae,{discrete:!1})):Z_(pe,M.swipeDirection,H)?(ne.current=pe,Cc(Ub,_,Ae,{discrete:!1}),oe.target.setPointerCapture(oe.pointerId)):(Math.abs(Ve)>H||Math.abs(je)>H)&&(Y.current=null)}),onPointerUp:wn(n.onPointerUp,oe=>{const Ve=ne.current,je=oe.target;if(je.hasPointerCapture(oe.pointerId)&&je.releasePointerCapture(oe.pointerId),ne.current=null,Y.current=null,Ve){const ke=oe.currentTarget,K={originalEvent:oe,delta:Ve};Z_(Ve,M.swipeDirection,M.swipeThreshold)?Cc(Bb,D,K,{discrete:!0}):Cc(zb,I,K,{discrete:!0}),ke.addEventListener("click",ge=>ge.preventDefault(),{once:!0})}})})})}),M.viewport)})]}):null}),qb=n=>{const{__scopeToast:e,children:t,...i}=n,o=Fh(Uh,e),[a,c]=N.useState(!1),[d,p]=N.useState(!1);return Yb(()=>c(!0)),N.useEffect(()=>{const y=window.setTimeout(()=>p(!0),1e3);return()=>window.clearTimeout(y)},[]),d?null:ee.jsx(i0,{asChild:!0,children:ee.jsx(xm,{...i,children:a&&ee.jsxs(ee.Fragment,{children:[o.label," ",t]})})})},Kb="ToastTitle",f0=N.forwardRef((n,e)=>{const{__scopeToast:t,...i}=n;return ee.jsx(Rr.div,{...i,ref:e})});f0.displayName=Kb;var Gb="ToastDescription",p0=N.forwardRef((n,e)=>{const{__scopeToast:t,...i}=n;return ee.jsx(Rr.div,{...i,ref:e})});p0.displayName=Gb;var Qb="ToastAction",m0=N.forwardRef((n,e)=>{const{altText:t,...i}=n;return t.trim()?ee.jsx(y0,{altText:t,asChild:!0,children:ee.jsx(bm,{...i,ref:e})}):null});m0.displayName=Qb;var g0="ToastClose",bm=N.forwardRef((n,e)=>{const{__scopeToast:t,...i}=n,o=Wb(g0,t);return ee.jsx(y0,{asChild:!0,children:ee.jsx(Rr.button,{type:"button",...i,ref:e,onClick:wn(n.onClick,o.onClose)})})});bm.displayName=g0;var y0=N.forwardRef((n,e)=>{const{__scopeToast:t,altText:i,...o}=n;return ee.jsx(Rr.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":i||void 0,...o,ref:e})});function v0(n){const e=[];return Array.from(n.childNodes).forEach(i=>{if(i.nodeType===i.TEXT_NODE&&i.textContent&&e.push(i.textContent),Xb(i)){const o=i.ariaHidden||i.hidden||i.style.display==="none",a=i.dataset.radixToastAnnounceExclude==="";if(!o)if(a){const c=i.dataset.radixToastAnnounceAlt;c&&e.push(c)}else e.push(...v0(i))}}),e}function Cc(n,e,t,{discrete:i}){const o=t.originalEvent.currentTarget,a=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&o.addEventListener(n,e,{once:!0}),i?ZT(o,a):o.dispatchEvent(a)}var Z_=(n,e,t=0)=>{const i=Math.abs(n.x),o=Math.abs(n.y),a=i>o;return e==="left"||e==="right"?a&&i>t:!a&&o>t};function Yb(n=()=>{}){const e=ti(n);ch(()=>{let t=0,i=0;return t=window.requestAnimationFrame(()=>i=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(i)}},[e])}function Xb(n){return n.nodeType===n.ELEMENT_NODE}function Jb(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const o=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||o?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Of(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var Zb=l0,_0=c0,w0=d0,E0=f0,T0=p0,I0=m0,S0=bm;function R0(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=R0(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function A0(){for(var n,e,t=0,i="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=R0(n))&&(i&&(i+=" "),i+=e);return i}const ew=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,tw=A0,eD=(n,e)=>t=>{var i;if(e?.variants==null)return tw(n,t?.class,t?.className);const{variants:o,defaultVariants:a}=e,c=Object.keys(o).map(y=>{const _=t?.[y],E=a?.[y];if(_===null)return null;const I=ew(_)||ew(E);return o[y][I]}),d=t&&Object.entries(t).reduce((y,_)=>{let[E,I]=_;return I===void 0||(y[E]=I),y},{}),p=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((y,_)=>{let{class:E,className:I,...D}=_;return Object.entries(D).every(F=>{let[M,P]=F;return Array.isArray(P)?P.includes({...a,...d}[M]):{...a,...d}[M]===P})?[...y,E,I]:y},[]);return tw(n,c,p,t?.class,t?.className)};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),C0=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=N.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:o="",children:a,iconNode:c,...d},p)=>N.createElement("svg",{ref:p,...nD,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:C0("lucide",o),...d},[...c.map(([y,_])=>N.createElement(y,_)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=(n,e)=>{const t=N.forwardRef(({className:i,...o},a)=>N.createElement(rD,{ref:a,iconNode:e,className:C0(`lucide-${tD(n)}`,i),...o}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],oD=iD("X",sD),Dm="-",aD=n=>{const e=uD(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:c=>{const d=c.split(Dm);return d[0]===""&&d.length!==1&&d.shift(),P0(d,e)||lD(c)},getConflictingClassGroupIds:(c,d)=>{const p=t[c]||[];return d&&i[c]?[...p,...i[c]]:p}}},P0=(n,e)=>{if(n.length===0)return e.classGroupId;const t=n[0],i=e.nextPart.get(t),o=i?P0(n.slice(1),i):void 0;if(o)return o;if(e.validators.length===0)return;const a=n.join(Dm);return e.validators.find(({validator:c})=>c(a))?.classGroupId},nw=/^\[(.+)\]$/,lD=n=>{if(nw.test(n)){const e=nw.exec(n)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},uD=n=>{const{theme:e,classGroups:t}=n,i={nextPart:new Map,validators:[]};for(const o in t)wp(t[o],i,o,e);return i},wp=(n,e,t,i)=>{n.forEach(o=>{if(typeof o=="string"){const a=o===""?e:rw(e,o);a.classGroupId=t;return}if(typeof o=="function"){if(cD(o)){wp(o(i),e,t,i);return}e.validators.push({validator:o,classGroupId:t});return}Object.entries(o).forEach(([a,c])=>{wp(c,rw(e,a),t,i)})})},rw=(n,e)=>{let t=n;return e.split(Dm).forEach(i=>{t.nextPart.has(i)||t.nextPart.set(i,{nextPart:new Map,validators:[]}),t=t.nextPart.get(i)}),t},cD=n=>n.isThemeGetter,hD=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,i=new Map;const o=(a,c)=>{t.set(a,c),e++,e>n&&(e=0,i=t,t=new Map)};return{get(a){let c=t.get(a);if(c!==void 0)return c;if((c=i.get(a))!==void 0)return o(a,c),c},set(a,c){t.has(a)?t.set(a,c):o(a,c)}}},Ep="!",Tp=":",dD=Tp.length,fD=n=>{const{prefix:e,experimentalParseClassName:t}=n;let i=o=>{const a=[];let c=0,d=0,p=0,y;for(let F=0;F<o.length;F++){let M=o[F];if(c===0&&d===0){if(M===Tp){a.push(o.slice(p,F)),p=F+dD;continue}if(M==="/"){y=F;continue}}M==="["?c++:M==="]"?c--:M==="("?d++:M===")"&&d--}const _=a.length===0?o:o.substring(p),E=pD(_),I=E!==_,D=y&&y>p?y-p:void 0;return{modifiers:a,hasImportantModifier:I,baseClassName:E,maybePostfixModifierPosition:D}};if(e){const o=e+Tp,a=i;i=c=>c.startsWith(o)?a(c.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(t){const o=i;i=a=>t({className:a,parseClassName:o})}return i},pD=n=>n.endsWith(Ep)?n.substring(0,n.length-1):n.startsWith(Ep)?n.substring(1):n,mD=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const o=[];let a=[];return i.forEach(c=>{c[0]==="["||e[c]?(o.push(...a.sort(),c),a=[]):a.push(c)}),o.push(...a.sort()),o}},gD=n=>({cache:hD(n.cacheSize),parseClassName:fD(n),sortModifiers:mD(n),...aD(n)}),yD=/\s+/,vD=(n,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:o,sortModifiers:a}=e,c=[],d=n.trim().split(yD);let p="";for(let y=d.length-1;y>=0;y-=1){const _=d[y],{isExternal:E,modifiers:I,hasImportantModifier:D,baseClassName:F,maybePostfixModifierPosition:M}=t(_);if(E){p=_+(p.length>0?" "+p:p);continue}let P=!!M,J=i(P?F.substring(0,M):F);if(!J){if(!P){p=_+(p.length>0?" "+p:p);continue}if(J=i(F),!J){p=_+(p.length>0?" "+p:p);continue}P=!1}const Q=a(I).join(":"),Y=D?Q+Ep:Q,ne=Y+J;if(c.includes(ne))continue;c.push(ne);const ve=o(J,P);for(let ae=0;ae<ve.length;++ae){const k=ve[ae];c.push(Y+k)}p=_+(p.length>0?" "+p:p)}return p};function _D(){let n=0,e,t,i="";for(;n<arguments.length;)(e=arguments[n++])&&(t=k0(e))&&(i&&(i+=" "),i+=t);return i}const k0=n=>{if(typeof n=="string")return n;let e,t="";for(let i=0;i<n.length;i++)n[i]&&(e=k0(n[i]))&&(t&&(t+=" "),t+=e);return t};function wD(n,...e){let t,i,o,a=c;function c(p){const y=e.reduce((_,E)=>E(_),n());return t=gD(y),i=t.cache.get,o=t.cache.set,a=d,d(p)}function d(p){const y=i(p);if(y)return y;const _=vD(p,t);return o(p,_),_}return function(){return a(_D.apply(null,arguments))}}const xt=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},x0=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,N0=/^\((?:(\w[\w-]*):)?(.+)\)$/i,ED=/^\d+\/\d+$/,TD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ID=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,SD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,RD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,AD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Uo=n=>ED.test(n),Me=n=>!!n&&!Number.isNaN(Number(n)),Ns=n=>!!n&&Number.isInteger(Number(n)),iw=n=>n.endsWith("%")&&Me(n.slice(0,-1)),ki=n=>TD.test(n),CD=()=>!0,PD=n=>ID.test(n)&&!SD.test(n),Om=()=>!1,kD=n=>RD.test(n),xD=n=>AD.test(n),ND=n=>!ce(n)&&!he(n),bD=n=>fa(n,O0,Om),ce=n=>x0.test(n),bs=n=>fa(n,V0,PD),Vf=n=>fa(n,$D,Me),DD=n=>fa(n,b0,Om),OD=n=>fa(n,D0,xD),VD=n=>fa(n,Om,kD),he=n=>N0.test(n),Pc=n=>pa(n,V0),LD=n=>pa(n,WD),MD=n=>pa(n,b0),FD=n=>pa(n,O0),UD=n=>pa(n,D0),jD=n=>pa(n,HD,!0),fa=(n,e,t)=>{const i=x0.exec(n);return i?i[1]?e(i[1]):t(i[2]):!1},pa=(n,e,t=!1)=>{const i=N0.exec(n);return i?i[1]?e(i[1]):t:!1},b0=n=>n==="position",zD=new Set(["image","url"]),D0=n=>zD.has(n),BD=new Set(["length","size","percentage"]),O0=n=>BD.has(n),V0=n=>n==="length",$D=n=>n==="number",WD=n=>n==="family-name",HD=n=>n==="shadow",qD=()=>{const n=xt("color"),e=xt("font"),t=xt("text"),i=xt("font-weight"),o=xt("tracking"),a=xt("leading"),c=xt("breakpoint"),d=xt("container"),p=xt("spacing"),y=xt("radius"),_=xt("shadow"),E=xt("inset-shadow"),I=xt("drop-shadow"),D=xt("blur"),F=xt("perspective"),M=xt("aspect"),P=xt("ease"),J=xt("animate"),Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ne=()=>["auto","hidden","clip","visible","scroll"],ve=()=>["auto","contain","none"],ae=()=>[Uo,"px","full","auto",he,ce,p],k=()=>[Ns,"none","subgrid",he,ce],S=()=>["auto",{span:["full",Ns,he,ce]},he,ce],C=()=>[Ns,"auto",he,ce],b=()=>["auto","min","max","fr",he,ce],O=()=>[he,ce,p],U=()=>["start","end","center","between","around","evenly","stretch","baseline"],A=()=>["start","end","center","stretch"],oe=()=>[he,ce,p],Ve=()=>["px",...oe()],je=()=>["px","auto",...oe()],ke=()=>[Uo,"auto","px","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",he,ce,p],K=()=>[n,he,ce],ge=()=>[iw,bs],ie=()=>["","none","full",y,he,ce],L=()=>["",Me,Pc,bs],H=()=>["solid","dashed","dotted","double"],pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ae=()=>["","none",D,he,ce],xe=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",he,ce],be=()=>["none",Me,he,ce],Le=()=>["none",Me,he,ce],ze=()=>[Me,he,ce],Ke=()=>[Uo,"full","px",he,ce,p];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ki],breakpoint:[ki],color:[CD],container:[ki],"drop-shadow":[ki],ease:["in","out","in-out"],font:[ND],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ki],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ki],shadow:[ki],spacing:[Me],text:[ki],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Uo,ce,he,M]}],container:["container"],columns:[{columns:[Me,ce,he,d]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Y(),ce,he]}],overflow:[{overflow:ne()}],"overflow-x":[{"overflow-x":ne()}],"overflow-y":[{"overflow-y":ne()}],overscroll:[{overscroll:ve()}],"overscroll-x":[{"overscroll-x":ve()}],"overscroll-y":[{"overscroll-y":ve()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:ae()}],"inset-x":[{"inset-x":ae()}],"inset-y":[{"inset-y":ae()}],start:[{start:ae()}],end:[{end:ae()}],top:[{top:ae()}],right:[{right:ae()}],bottom:[{bottom:ae()}],left:[{left:ae()}],visibility:["visible","invisible","collapse"],z:[{z:[Ns,"auto",he,ce]}],basis:[{basis:[Uo,"full","auto",he,ce,d,p]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Me,Uo,"auto","initial","none",ce]}],grow:[{grow:["",Me,he,ce]}],shrink:[{shrink:["",Me,he,ce]}],order:[{order:[Ns,"first","last","none",he,ce]}],"grid-cols":[{"grid-cols":k()}],"col-start-end":[{col:S()}],"col-start":[{"col-start":C()}],"col-end":[{"col-end":C()}],"grid-rows":[{"grid-rows":k()}],"row-start-end":[{row:S()}],"row-start":[{"row-start":C()}],"row-end":[{"row-end":C()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":b()}],"auto-rows":[{"auto-rows":b()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...U(),"normal"]}],"justify-items":[{"justify-items":[...A(),"normal"]}],"justify-self":[{"justify-self":["auto",...A()]}],"align-content":[{content:["normal",...U()]}],"align-items":[{items:[...A(),"baseline"]}],"align-self":[{self:["auto",...A(),"baseline"]}],"place-content":[{"place-content":U()}],"place-items":[{"place-items":[...A(),"baseline"]}],"place-self":[{"place-self":["auto",...A()]}],p:[{p:Ve()}],px:[{px:Ve()}],py:[{py:Ve()}],ps:[{ps:Ve()}],pe:[{pe:Ve()}],pt:[{pt:Ve()}],pr:[{pr:Ve()}],pb:[{pb:Ve()}],pl:[{pl:Ve()}],m:[{m:je()}],mx:[{mx:je()}],my:[{my:je()}],ms:[{ms:je()}],me:[{me:je()}],mt:[{mt:je()}],mr:[{mr:je()}],mb:[{mb:je()}],ml:[{ml:je()}],"space-x":[{"space-x":oe()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":oe()}],"space-y-reverse":["space-y-reverse"],size:[{size:ke()}],w:[{w:[d,"screen",...ke()]}],"min-w":[{"min-w":[d,"screen","none",...ke()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...ke()]}],h:[{h:["screen",...ke()]}],"min-h":[{"min-h":["screen","none",...ke()]}],"max-h":[{"max-h":["screen",...ke()]}],"font-size":[{text:["base",t,Pc,bs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,he,Vf]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",iw,ce]}],"font-family":[{font:[LD,ce,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,he,ce]}],"line-clamp":[{"line-clamp":[Me,"none",he,Vf]}],leading:[{leading:[he,ce,a,p]}],"list-image":[{"list-image":["none",he,ce]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",he,ce]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:K()}],"text-color":[{text:K()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:[Me,"from-font","auto",he,bs]}],"text-decoration-color":[{decoration:K()}],"underline-offset":[{"underline-offset":[Me,"auto",he,ce]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:["px",...oe()]}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",he,ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",he,ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Y(),MD,DD]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",FD,bD]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ns,he,ce],radial:["",he,ce],conic:[Ns,he,ce]},UD,OD]}],"bg-color":[{bg:K()}],"gradient-from-pos":[{from:ge()}],"gradient-via-pos":[{via:ge()}],"gradient-to-pos":[{to:ge()}],"gradient-from":[{from:K()}],"gradient-via":[{via:K()}],"gradient-to":[{to:K()}],rounded:[{rounded:ie()}],"rounded-s":[{"rounded-s":ie()}],"rounded-e":[{"rounded-e":ie()}],"rounded-t":[{"rounded-t":ie()}],"rounded-r":[{"rounded-r":ie()}],"rounded-b":[{"rounded-b":ie()}],"rounded-l":[{"rounded-l":ie()}],"rounded-ss":[{"rounded-ss":ie()}],"rounded-se":[{"rounded-se":ie()}],"rounded-ee":[{"rounded-ee":ie()}],"rounded-es":[{"rounded-es":ie()}],"rounded-tl":[{"rounded-tl":ie()}],"rounded-tr":[{"rounded-tr":ie()}],"rounded-br":[{"rounded-br":ie()}],"rounded-bl":[{"rounded-bl":ie()}],"border-w":[{border:L()}],"border-w-x":[{"border-x":L()}],"border-w-y":[{"border-y":L()}],"border-w-s":[{"border-s":L()}],"border-w-e":[{"border-e":L()}],"border-w-t":[{"border-t":L()}],"border-w-r":[{"border-r":L()}],"border-w-b":[{"border-b":L()}],"border-w-l":[{"border-l":L()}],"divide-x":[{"divide-x":L()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":L()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...H(),"hidden","none"]}],"divide-style":[{divide:[...H(),"hidden","none"]}],"border-color":[{border:K()}],"border-color-x":[{"border-x":K()}],"border-color-y":[{"border-y":K()}],"border-color-s":[{"border-s":K()}],"border-color-e":[{"border-e":K()}],"border-color-t":[{"border-t":K()}],"border-color-r":[{"border-r":K()}],"border-color-b":[{"border-b":K()}],"border-color-l":[{"border-l":K()}],"divide-color":[{divide:K()}],"outline-style":[{outline:[...H(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Me,he,ce]}],"outline-w":[{outline:["",Me,Pc,bs]}],"outline-color":[{outline:[n]}],shadow:[{shadow:["","none",_,jD,VD]}],"shadow-color":[{shadow:K()}],"inset-shadow":[{"inset-shadow":["none",he,ce,E]}],"inset-shadow-color":[{"inset-shadow":K()}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:K()}],"ring-offset-w":[{"ring-offset":[Me,bs]}],"ring-offset-color":[{"ring-offset":K()}],"inset-ring-w":[{"inset-ring":L()}],"inset-ring-color":[{"inset-ring":K()}],opacity:[{opacity:[Me,he,ce]}],"mix-blend":[{"mix-blend":[...pe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":pe()}],filter:[{filter:["","none",he,ce]}],blur:[{blur:Ae()}],brightness:[{brightness:[Me,he,ce]}],contrast:[{contrast:[Me,he,ce]}],"drop-shadow":[{"drop-shadow":["","none",I,he,ce]}],grayscale:[{grayscale:["",Me,he,ce]}],"hue-rotate":[{"hue-rotate":[Me,he,ce]}],invert:[{invert:["",Me,he,ce]}],saturate:[{saturate:[Me,he,ce]}],sepia:[{sepia:["",Me,he,ce]}],"backdrop-filter":[{"backdrop-filter":["","none",he,ce]}],"backdrop-blur":[{"backdrop-blur":Ae()}],"backdrop-brightness":[{"backdrop-brightness":[Me,he,ce]}],"backdrop-contrast":[{"backdrop-contrast":[Me,he,ce]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Me,he,ce]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Me,he,ce]}],"backdrop-invert":[{"backdrop-invert":["",Me,he,ce]}],"backdrop-opacity":[{"backdrop-opacity":[Me,he,ce]}],"backdrop-saturate":[{"backdrop-saturate":[Me,he,ce]}],"backdrop-sepia":[{"backdrop-sepia":["",Me,he,ce]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":oe()}],"border-spacing-x":[{"border-spacing-x":oe()}],"border-spacing-y":[{"border-spacing-y":oe()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",he,ce]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Me,"initial",he,ce]}],ease:[{ease:["linear","initial",P,he,ce]}],delay:[{delay:[Me,he,ce]}],animate:[{animate:["none",J,he,ce]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[F,he,ce]}],"perspective-origin":[{"perspective-origin":xe()}],rotate:[{rotate:be()}],"rotate-x":[{"rotate-x":be()}],"rotate-y":[{"rotate-y":be()}],"rotate-z":[{"rotate-z":be()}],scale:[{scale:Le()}],"scale-x":[{"scale-x":Le()}],"scale-y":[{"scale-y":Le()}],"scale-z":[{"scale-z":Le()}],"scale-3d":["scale-3d"],skew:[{skew:ze()}],"skew-x":[{"skew-x":ze()}],"skew-y":[{"skew-y":ze()}],transform:[{transform:[he,ce,"","none","gpu","cpu"]}],"transform-origin":[{origin:xe()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ke()}],"translate-x":[{"translate-x":Ke()}],"translate-y":[{"translate-y":Ke()}],"translate-z":[{"translate-z":Ke()}],"translate-none":["translate-none"],accent:[{accent:K()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:K()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",he,ce]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":oe()}],"scroll-mx":[{"scroll-mx":oe()}],"scroll-my":[{"scroll-my":oe()}],"scroll-ms":[{"scroll-ms":oe()}],"scroll-me":[{"scroll-me":oe()}],"scroll-mt":[{"scroll-mt":oe()}],"scroll-mr":[{"scroll-mr":oe()}],"scroll-mb":[{"scroll-mb":oe()}],"scroll-ml":[{"scroll-ml":oe()}],"scroll-p":[{"scroll-p":oe()}],"scroll-px":[{"scroll-px":oe()}],"scroll-py":[{"scroll-py":oe()}],"scroll-ps":[{"scroll-ps":oe()}],"scroll-pe":[{"scroll-pe":oe()}],"scroll-pt":[{"scroll-pt":oe()}],"scroll-pr":[{"scroll-pr":oe()}],"scroll-pb":[{"scroll-pb":oe()}],"scroll-pl":[{"scroll-pl":oe()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",he,ce]}],fill:[{fill:["none",...K()]}],"stroke-w":[{stroke:[Me,Pc,bs,Vf]}],stroke:[{stroke:["none",...K()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},KD=wD(qD);function ma(...n){return KD(A0(n))}const GD=Zb,L0=N.forwardRef(({className:n,...e},t)=>ee.jsx(_0,{ref:t,className:ma("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));L0.displayName=_0.displayName;const QD=eD("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground",success:"success group border-green-500 bg-green-500 text-white"}},defaultVariants:{variant:"default"}}),M0=N.forwardRef(({className:n,variant:e,...t},i)=>ee.jsx(w0,{ref:i,className:ma(QD({variant:e}),n),...t}));M0.displayName=w0.displayName;const YD=N.forwardRef(({className:n,...e},t)=>ee.jsx(I0,{ref:t,className:ma("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));YD.displayName=I0.displayName;const F0=N.forwardRef(({className:n,...e},t)=>ee.jsx(S0,{ref:t,className:ma("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600 group-[.success]:text-green-300 group-[.success]:hover:text-green-50 group-[.success]:focus:ring-green-400 group-[.success]:focus:ring-offset-green-600",n),"toast-close":"",...e,children:ee.jsx(oD,{className:"h-4 w-4"})}));F0.displayName=S0.displayName;const U0=N.forwardRef(({className:n,...e},t)=>ee.jsx(E0,{ref:t,className:ma("text-sm font-semibold",n),...e}));U0.displayName=E0.displayName;const j0=N.forwardRef(({className:n,...e},t)=>ee.jsx(T0,{ref:t,className:ma("text-sm opacity-90",n),...e}));j0.displayName=T0.displayName;function XD(){const{toasts:n}=ab();return ee.jsxs(GD,{children:[n.map(function({id:e,title:t,description:i,action:o,...a}){return ee.jsxs(M0,{...a,children:[ee.jsxs("div",{className:"grid gap-1",children:[t&&ee.jsx(U0,{children:t}),i&&ee.jsx(j0,{children:i})]}),o,ee.jsx(F0,{})]},e)}),ee.jsx(L0,{})]})}const Vm={async createRoom(n){try{const e=await ah(ht(Ne(),"rooms"),{...n,participants:[n.hostId],createdAt:Wr(),isActive:!0}),t=Lt(Ne(),"rooms",e.id,"participants",n.hostId);return await Uc(t,{userId:n.hostId,userName:n.hostName,isHost:!0,micEnabled:!0,cameraEnabled:!0,joinedAt:Wr()}),e.id}catch(e){throw e}},async joinRoom(n,e,t){try{const i=Lt(Ne(),"rooms",n),o=await Ic(i);if(!o.exists())throw new Error("Room not found");const a=o.data();if(a.participants.length>=a.maxParticipants)throw new Error("Room is at maximum capacity");if(a.participants.includes(e)){const d=Lt(Ne(),"rooms",n,"participants",e);await Uc(d,{uid:e,userId:e,name:t,userName:t,isHost:a.hostId===e,micEnabled:!0,cameraEnabled:!0,joinedAt:Wr()});return}await yl(i,{participants:lN(e)});const c=Lt(Ne(),"rooms",n,"participants",e);await Uc(c,{uid:e,userId:e,name:t,userName:t,isHost:!1,micEnabled:!0,cameraEnabled:!0,joinedAt:Wr()})}catch(i){throw i}},async deleteRoom(n){try{await Sl(Lt(Ne(),"rooms",n))}catch(e){throw e}},subscribeToPublicRooms(n){const e=Zn(ht(Ne(),"rooms"),On("type","==","public"),On("isActive","==",!0),Wo("createdAt","desc")),t=new Map,i=Oi(e,o=>{const a=new Map;o.docs.forEach(c=>{const d=c.data(),p=c.id;if(a.set(p,{...d,id:p}),!t.has(p)){const y=ht(Ne(),"rooms",p,"participants"),_=Oi(y,E=>{const I=E.size,D=E.docs.map(M=>M.data().userId||M.data().uid),F=a.get(p);F&&(F.participants=D,a.set(p,F),n(Array.from(a.values()))),I!==(d.participants?.length||0)&&yl(Lt(Ne(),"rooms",p),{participants:D}).catch(M=>{})});t.set(p,_)}}),t.forEach((c,d)=>{a.has(d)||(c(),t.delete(d))}),n(Array.from(a.values()))});return()=>{i(),t.forEach(o=>o()),t.clear()}},async getRoomByKey(n){try{const e=Zn(ht(Ne(),"rooms"),On("roomKey","==",n),On("type","==","private"),On("isActive","==",!0)),t=await Jn(e);if(!t.empty){const i=t.docs[0];return{id:i.id,...i.data()}}return null}catch(e){throw e}},subscribeToUserRooms(n,e){const t=Zn(ht(Ne(),"rooms"),On("participants","array-contains",n),On("isActive","==",!0),Wo("createdAt","desc"));return Oi(t,i=>{const o=[];i.forEach(a=>{o.push({id:a.id,...a.data()})}),e(o)})},subscribeToRoomParticipants(n,e){const t=Zn(ht(Ne(),"rooms",n,"participants"),Wo("joinedAt","asc"));return Oi(t,i=>{const o=[];i.forEach(a=>{o.push({...a.data()})}),e(o)})},async updateParticipantMedia(n,e,t,i){try{const o=Lt(Ne(),"rooms",n,"participants",e);await yl(o,{micEnabled:t,cameraEnabled:i})}catch(o){throw o}},async sendMessage(n,e,t,i){try{await ah(ht(Ne(),"rooms",n,"messages"),{userId:e,userName:t,message:i,timestamp:Wr()})}catch(o){throw o}},subscribeToRoomMessages(n,e){const t=Zn(ht(Ne(),"rooms",n,"messages"),Wo("timestamp","asc"));return Oi(t,i=>{const o=[];i.forEach(a=>{o.push({id:a.id,...a.data()})}),e(o)})},async clearRoomMessages(n){try{const e=ht(Ne(),"rooms",n,"messages"),t=await Jn(e);if(t.empty)return;const i=Sc(Ne());t.forEach(o=>i.delete(o.ref)),await i.commit()}catch(e){throw e}},async leaveRoom(n,e){try{const t=Lt(Ne(),"rooms",n);await yl(t,{participants:uN(e)});const i=Lt(Ne(),"rooms",n,"participants",e);await Sl(i);const o=await Ic(t);o.exists()&&(o.data().participants||[]).length===0&&await this.clearRoomMessages(n);try{const a=ht(Ne(),"rooms",n,"signaling"),c=Zn(a,On("sender","==",e)),d=Zn(a,On("recipient","==",e)),[p,y]=await Promise.all([Jn(c),Jn(d)]),_=Sc(Ne());p.forEach(E=>_.delete(E.ref)),y.forEach(E=>_.delete(E.ref)),(!p.empty||!y.empty)&&await _.commit()}catch{}}catch(t){throw t}},async getRoom(n){try{const e=Lt(Ne(),"rooms",n),t=await Ic(e);return t.exists()?{id:t.id,...t.data()}:null}catch(e){throw e}},async cleanupStaleParticipants(n){try{const e=Lt(Ne(),"rooms",n),t=await Ic(e);if(!t.exists())return;const o=t.data().participants||[],a=ht(Ne(),"rooms",n,"participants"),c=await Jn(a),d=Sc(Ne());let p=!1;const y=[];if(c.forEach(_=>{const E=_.data(),I=E.userId||E.uid;o.includes(I)?y.push(I):(d.delete(_.ref),p=!0)}),y.length!==o.length&&(d.update(e,{participants:y}),p=!0),y.length===0&&o.length>0){const _=ht(Ne(),"rooms",n,"messages");(await Jn(_)).forEach(I=>d.delete(I.ref))}p&&await d.commit()}catch{}},async autoDeleteEmptyRooms(){try{const n=new Date,e=new Date(n.getTime()-600*1e3),t=Zn(ht(Ne(),"rooms"),On("isActive","==",!0)),i=await Jn(t);if(i.empty)return;let o=0;for(const a of i.docs){const c={id:a.id,...a.data()};if((!c.participants||c.participants.length===0)&&(c.createdAt?.toDate()||new Date(0))<e)try{const p=Sc(Ne());(await Jn(ht(Ne(),"rooms",c.id,"participants"))).forEach(E=>p.delete(E.ref)),(await Jn(ht(Ne(),"rooms",c.id,"messages"))).forEach(E=>p.delete(E.ref)),await p.commit(),await Sl(Lt(Ne(),"rooms",c.id)),o++}catch{}}o>0}catch{}},startAutoDeleteService(){this.autoDeleteEmptyRooms();const n=setInterval(()=>{this.autoDeleteEmptyRooms()},600*1e3);return()=>{clearInterval(n)}}},JD={async createResume(n){try{return(await ah(ht(Ne(),"resumes"),{...n,createdAt:Wr(),updatedAt:Wr()})).id}catch(e){throw e}},async updateResume(n,e){try{const t=Lt(Ne(),"resumes",n);await yl(t,{...e,updatedAt:Wr()})}catch(t){throw t}},async deleteResume(n){try{await Sl(Lt(Ne(),"resumes",n))}catch(e){throw e}},subscribeToUserResumes(n,e){const t=Zn(ht(Ne(),"resumes"),On("userId","==",n),Wo("updatedAt","desc"));return Oi(t,i=>{const o=[];i.forEach(a=>{o.push({id:a.id,...a.data()})}),e(o)})},async getResume(n){try{const e=Lt(Ne(),"resumes",n),t=await Jn(Zn(ht(Ne(),"resumes"),On("__name__","==",n)));if(!t.empty){const i=t.docs[0];return{id:i.id,...i.data()}}return null}catch(e){throw e}}},ZD={subscribeToTemplates(n){const e=Zn(ht(Ne(),"resume-templates"),Wo("atsScore","desc"));return Oi(e,t=>{const i=[];t.forEach(o=>{i.push({id:o.id,...o.data()})}),n(i)})},async addDefaultTemplates(){const n=[{name:"Modern Clean",description:"A contemporary, clean design with clear sections and professional formatting. Ideal for technical professionals and recent graduates.",atsScore:78,category:"professional",preview:"/templates/modern-clean.png",isDefault:!0},{name:"Business Professional",description:"A traditional, text-focused format emphasizing professional experience and achievements. Perfect for business professionals and managers.",atsScore:92,category:"professional",preview:"/templates/business-professional.png",isDefault:!0},{name:"Aditya Vardhan",description:"A comprehensive format with detailed sections for projects, certifications, and extra-curricular activities. Perfect for students and recent graduates with diverse experiences.",atsScore:90,category:"academic",preview:"/templates/aditya-vardhan.png",isDefault:!0},{name:"Experience Focused",description:"A traditional, experience-focused format with detailed professional history and achievements. Perfect for experienced professionals with extensive work history.",atsScore:88,category:"professional",preview:"/templates/experience-focused.png",isDefault:!0}];try{for(const e of n)await ah(ht(Ne(),"resume-templates"),{...e,createdAt:Wr()})}catch(e){throw e}},async resetToDefaultTemplates(){try{const e=(await Jn(ht(Ne(),"resume-templates"))).docs.map(t=>Sl(t.ref));await Promise.all(e),await this.addDefaultTemplates()}catch(n){throw n}}},eO=async()=>{let n=0;const e=10;for(;n<e;){let i="";for(;i.length<6;)i+=Math.random().toString(36).substring(2);i=i.substring(0,6).toUpperCase();try{if(!await Vm.getRoomByKey(i))return i}catch{return i}n++}let t="";for(;t.length<6;)t+=Math.random().toString(36).substring(2);return t.substring(0,6).toUpperCase()},PO=Object.freeze(Object.defineProperty({__proto__:null,generateRoomKey:eO,resumeService:JD,roomsService:Vm,templateService:ZD},Symbol.toStringTag,{value:"Module"})),tO=N.lazy(()=>Tn(()=>import("./HomePage-Cv_WN_hh.js"),__vite__mapDeps([0,1,2,3,4]))),nO=N.lazy(()=>Tn(()=>import("./AuthPage-9Ql1JN3-.js"),__vite__mapDeps([5,1,6,7,8,9,10,2,4,11,12,13,14,15,16]))),rO=N.lazy(()=>Tn(()=>import("./DashboardPage-DJCQ0nWP.js"),__vite__mapDeps([17,18,10,1,3,8,19,9,20,21,22,23,13,24]))),iO=N.lazy(()=>Tn(()=>import("./ProfilePage-Dht6VaWv.js"),__vite__mapDeps([25,18,10,1,3,8,19,6,7,26,27,12,24,28,29,30,23]))),sO=N.lazy(()=>Tn(()=>import("./SettingsPage-CI_aOjxt.js"),__vite__mapDeps([31,18,10,1,3,8,6,7,29,14,15]))),oO=N.lazy(()=>Tn(()=>import("./ResumePage-BVnj5AUq.js"),__vite__mapDeps([32,18,10,1,3,8,21,19,27,6,7,26,15,28,16,11,29,33]))),aO=N.lazy(()=>Tn(()=>import("./PracticePage-BdwZU1xj.js"),__vite__mapDeps([34,18,10,1,3,8,19,27,22,11,33]))),lO=N.lazy(()=>Tn(()=>import("./RoomsPage-D05MgZTT.js"),__vite__mapDeps([35,36,8,1,6,27,18,10,3,19,11,30,20,7,28,24,13]))),uO=N.lazy(()=>Tn(()=>import("./CreateRoomPage-B9nwTkq6.js"),__vite__mapDeps([36,8,1,6,27]))),cO=N.lazy(()=>Tn(()=>import("./RoomsPage-D05MgZTT.js"),__vite__mapDeps([35,36,8,1,6,27,18,10,3,19,11,30,20,7,28,24,13])).then(n=>({default:n.JoinPrivateRoomPage}))),hO=N.lazy(()=>Tn(()=>import("./bg-gradient-demo-e3AaGKpD.js"),__vite__mapDeps([37,2])));function sw(){return ee.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:ee.jsxs("div",{className:"text-center",children:[ee.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),ee.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})})}function dO(){const{loading:n}=nb();return N.useEffect(()=>{const e=Vm.startAutoDeleteService();return()=>{e()}},[]),n?ee.jsx(sw,{}):ee.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[ee.jsx(N.Suspense,{fallback:ee.jsx(sw,{}),children:ee.jsxs(QS,{children:[ee.jsx(Dn,{path:"/",element:ee.jsx(tO,{})}),ee.jsx(Dn,{path:"/auth",element:ee.jsx(nO,{})}),ee.jsx(Dn,{path:"/dashboard",element:ee.jsx(rO,{})}),ee.jsx(Dn,{path:"/profile",element:ee.jsx(iO,{})}),ee.jsx(Dn,{path:"/profile/settings",element:ee.jsx(sO,{})}),ee.jsx(Dn,{path:"/resume/*",element:ee.jsx(oO,{})}),ee.jsx(Dn,{path:"/practice/*",element:ee.jsx(aO,{})}),ee.jsx(Dn,{path:"/rooms/*",element:ee.jsx(lO,{})}),ee.jsx(Dn,{path:"/create-room",element:ee.jsx(uO,{})}),ee.jsx(Dn,{path:"/join-private-room",element:ee.jsx(cO,{})}),ee.jsx(Dn,{path:"/bg-gradient-demo",element:ee.jsx(hO,{})})]})}),ee.jsx(XD,{})]})}function fO(){return ee.jsx(tb,{children:ee.jsx(dO,{})})}er.lazy(()=>Tn(()=>import("./HomePage-Cv_WN_hh.js"),__vite__mapDeps([0,1,2,3,4])));er.lazy(()=>Tn(()=>import("./AuthPage-9Ql1JN3-.js"),__vite__mapDeps([5,1,6,7,8,9,10,2,4,11,12,13,14,15,16])));nS.createRoot(document.getElementById("root")).render(ee.jsx(er.StrictMode,{children:ee.jsx(nR,{children:ee.jsx(fO,{})})}));export{Rp as $,JD as A,km as B,js as C,i0 as D,oa as E,t0 as F,Ni as G,AO as H,ht as I,ah as J,Sl as K,gO as L,Wr as M,Jn as N,Ic as O,Rr as P,Oi as Q,er as R,Zn as S,On as T,Sc as U,mO as V,fb as W,oD as X,ch as Y,xm as Z,Tn as _,ma as a,ti as a0,QS as a1,Dn as a2,eO as a3,Wo as a4,yv as a5,Np as a6,vO as a7,ZT as a8,IO as a9,dh as aa,YI as ab,PO as ac,eD as b,iD as c,ab as d,nb as e,wO as f,ZN as g,Lt as h,eb as i,ee as j,EO as k,SO as l,Ip as m,A0 as n,Vm as o,bb as p,XT as q,N as r,Uc as s,wn as t,bS as u,s0 as v,yl as w,_O as x,TO as y,ZD as z};
